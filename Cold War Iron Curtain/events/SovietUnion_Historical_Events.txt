add_namespace = soviet_leader_change
add_namespace = Tblisi

country_event = { #Death of Stalin
	id = soviet_leader_change.1
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = soviet_leader_change.1"}
	title = {
		text = soviet_leader_change.1.t.A
		trigger = { NOT = { has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason } }
	} 
	title = {
		text = soviet_leader_change.1.t.B
		trigger = { has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason }
	}
	desc = {
		text = soviet_leader_change.1.d.A
		trigger = { NOT = { has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason } }
	}
	desc = {
		text = soviet_leader_change.1.d.B
		trigger = { has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason }
	}
	picture = GFX_report_stalin_death

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		set_global_flag = stalin_dead
		hidden_effect = {
			DDR = {
				country_event = {
					id = cwu.1
					days = 125
				}
			}
		}
	}
	option = {
		name = soviet_leader_change.1.o.A
		trigger = {
			NOT = { has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason }
		}
		death_of_stalin_super_event = yes
		complete_national_focus = SOV_Stalin_Establish_the_Malenkov_Khrushchev_and_Beria_Troika
		hidden_effect = {
			PRC = {
				complete_national_focus = PRC_50s-Soviet_Upheaval
				mark_focus_tree_layout_dirty = yes
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
                has_game_rule = {
			        rule = SOV_internal_ai_behavior
			        option = STALIN
		        }
                factor = 0
            }
		}
	}
	option = {
		name = soviet_leader_change.1.o.B
		trigger = {
			has_completed_focus = SOV_Stalin_Arrest_The_Beria_Clique_For_Treason
		}
		complete_national_focus = SOV_Stalin_Establish_the_Malenkov_Pervukhinn_and_Saburov_Advisory_Body
		hidden_effect = {
			retire_country_leader = yes
			PRC = {
				complete_national_focus = PRC_50s-Soviet_Upheaval
				mark_focus_tree_layout_dirty = yes
			}
		}
		create_country_leader = {
			name = "Joseph Stalin"
			desc = "pol_desc_stalin"
			picture = GFX_Old_Stalin
			id = 1953
			ideology = stalinism
			traits = {
				Lenin_Successor
				Uncontested_leader
				Terrifying_Paranoiac
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}
country_event = { #KhrushchevRemoval
	id = soviet_leader_change.2
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = soviet_leader_change.2"}
	title = soviet_leader_change.2.t
	desc = soviet_leader_change.2.desc
	picture = GFX_KhruschevRel_2
	
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = soviet_leader_change.2.o.A
		DDR = {
			country_event = SOV_GDR.1
		}
		load_focus_tree = SOV_Brezhnevite
		create_country_leader = {
			name = "Leonid Brezhnev"
			picture = "Leonid_Brezhnev.dds"
			expire = "1982.11.10"
			ideology = marxism_leninism
		}
	}
	option = {
		name = soviet_leader_change.2.o.B
		trigger = {
			always = no
		}
		DDR = {
			country_event = SOV_GDR.1
		}
		load_focus_tree = SOV_Shelepin
		create_country_leader = {
			name = "Alexander Shelepin"
			picture = "Alexander_Shelepin.dds"
			expire = "1994.10.09"
			ideology = marxism_leninism
		}
	}
	option = {
		name = soviet_leader_change.2.o.C
		trigger = {
			always = no
		}
		load_focus_tree = SOV_Khruschev_Extended
		create_country_leader = {
			name = "Nikita Khrushchev"
			desc = "pol_desc_khrushchev"
			picture = "Nikita_Khrushchev2.dds"
			ideology = marxism_leninism
			traits = {
				Popular_Premier
				Ingenuous_Reformer
				Eccentric_Research_Enthusiast
				Affable_Diplomat
			}
		}
	}
}
country_event = { #Brezhaccident
	id = soviet_leader_change.3
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = soviet_leader_change.3"}
	title = soviet_leader_change.3.t
	desc = soviet_leader_change.3.desc
	picture = GFX_KhruschevRel_2
	
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = soviet_leader_change.3.o.A
		country_event = {
			id = soviet_leader_change.4
			days = 231
			random_hours = 5
		}
	}
	option = {
		name = soviet_leader_change.3.o.B
		trigger = {
			always = no
		}
		load_focus_tree = SOV_BrezhnevLivesLonger
	}
}
country_event = { #Brezhdeath
	id = soviet_leader_change.4
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = soviet_leader_change.4"}
	title = soviet_leader_change.4.t
	desc = soviet_leader_change.4.desc
	picture = GFX_KhruschevRel_2
	
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = soviet_leader_change.4.o.A
		kill_country_leader = yes
		create_country_leader = {
			name = "Yuri Andropov"
			picture = "Yuri_Andropov.dds"
			ideology = stalinism
			traits = {
				Unifying_Figure
				Corruption_Buster
				Ingenuous_Reformer
			}
		}
        complete_national_focus = SOV_Andropov_Elected_GenSec
		load_focus_tree = SOV_Andropov
	}
}
country_event = { #APG
	id = soviet_leader_change.5
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = soviet_leader_change.5"}
	title = soviet_leader_change.5.t
	desc = soviet_leader_change.5.desc
	picture = GFX_KhruschevRel_2
	
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = soviet_leader_change.5.o.A
		complete_national_focus = SOV_anti_party_group_coup
		complete_national_focus = SOV_khrushchevs_union
		hidden_effect = {
			country_event = { id = soviet_leader_change.2 days = 2672 }
		}
	}
	
	option = {
		name = soviet_leader_change.5.o.B
		kill_country_leader = yes
		create_country_leader = {
			name = "Nikolai Bulganin"
			picture = "Nikolai_Bulganin.dds"
			ideology = stalinism
			traits = {
			}
		}
		load_focus_tree = {
			tree = SOV_Bulganin
			keep_completed = yes
		}
	}
}
country_event = { #Andropov Death
	id = soviet_leader_change.6
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = sov_death.3"}
	title = "Death of Yuri Vladimirovich Andropov"
	desc = sov_death.3.d
	picture = GFX_politics

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Trusty Konstantin Chernenko!"
		retire_country_leader = yes
		create_country_leader = {
			name = "Konstantin Chernenko"
			picture = "Konstantin_Chernenko.dds"
			ideology = marxism_leninism
			traits = {
			}
		}
		set_country_flag = Chernenko
		ai_chance = {
			factor = 95
		}

	}
}
country_event = { #Chernenko Death
	id = soviet_leader_change.7
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = sov_death.3"}
	title = "Death of Konstantin Ustinovich Chernenko"
	desc = sov_death.4.d
	picture = GFX_Chernenko_funeral

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Reformer Mikhail Gorbachev"
		retire_country_leader = yes
		create_country_leader = {
			name = "Mikhail Gorbachev"
			picture = "Mikhail_Gorbachev.dds"
			ideology = liberal_communism
			traits = {
			}
		}
		ai_chance = {
			factor = 90
		}

	}
	option = {
		name = "Conservative Grigory Romanov!"
		retire_country_leader = yes
		create_country_leader = {
			name = "Grigory Romanov"
			picture = "Grigory_Romanov.dds"
			ideology = marxism_leninism
			traits = {
			}
		}
		ai_chance = {
			factor = 10
		}

	}
}

country_event = { #Tblisi
	id = Tblisi.1
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = Tblisi.1"}
	title = Tblisi.1.t
	desc = Tblisi.1.d
	picture = GFX_Tblisi_Riots
	major = yes
	is_triggered_only = yes

	option = {
		name = "Why would they protest such an action?"
		country_event = {
			id = Tblisi.2
			days = 20
		}

	}
}
country_event = { #Tblisi 2
	id = Tblisi.2
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = Tblisi.2"}
	title = Tblisi.2.t
	desc = Tblisi.2.d
	picture = GFX_Tblisi_Riots_2

	is_triggered_only = yes

	option = {
		name = "A return to sanity...."

	}
}
add_namespace = Soviet_End
news_event = {
	id = Soviet_End.1 
 immediate = {log = "[GetDateText]: [Root.GetTag]: id = Soviet_End.1"}
	title = "[GetNewspaperHeader]The Dissolution of the Soviet Union"
	desc = Soviet_End.1.d
	picture = GFX_Soviet_End
	major = yes

	is_triggered_only = yes

	option = {
		name = "The End of an Era"
        if = {
            limit = {
                is_ai = no
            }
            Super_Event_Fall_of_Soviet_Union_Play = yes
			SOV = {
				release = EST
				release = LAT
				release = LIT
				release = UKR
				release = UIA
				UKR = {
					annex_country = {
						target = UIA
						transfer_troops = yes
					}
					transfer_state = 137
					transfer_state = 1037
				}
				release = ABK
				release = SOS
				release = NGK
				release = CHE
				release = PMR
				release = MOL
				release = ARM
				release = GEO
				release = TAJ
				release = BLR
				release = KYR
				release = ARM
				release = AZR
				release = KAZ
				release = TMS
				release = UZB

				capital_scope = {
					transfer_state_to = RUS
				}
			}
			RUS = {
				annex_country = {
					target = SOV
					transfer_troops = yes
				}
				329 = {
					set_demilitarized_zone = yes
				}
				set_capital = {state = 219}
			}
			EST = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			LAT = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			LIT = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			UKR = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			RUS = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			ABK = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			SOS = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			NGK = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			CHE = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			PMR = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			MOL = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			ARM = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			GEO = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			TAJ = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			BLR = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			KYR = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			ARM = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			AZR = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			KAZ = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			TMS = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
			UZB = {
				set_politics = {
					ruling_party = conservative
					last_election = "1949.1.1"
					election_frequency = 48
					elections_allowed = no
				}
			}
        }
	}
}