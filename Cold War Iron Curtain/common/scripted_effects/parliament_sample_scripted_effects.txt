# Allocate a random number of seats to Parties 1, 2, 3 and 4
SAMPLE_generate_random_party_seats = {
	set_variable = { SAMPLE_party1_seats = random }
	set_variable = { SAMPLE_party2_seats = random }
	set_variable = { SAMPLE_party3_seats = random }
	set_variable = { SAMPLE_party4_seats = random }

	set_temp_variable = { total = SAMPLE_party1_seats }
	add_to_temp_variable = { total = SAMPLE_party2_seats }
	add_to_temp_variable = { total = SAMPLE_party3_seats }
	add_to_temp_variable = { total = SAMPLE_party4_seats }
	divide_variable = { SAMPLE_party1_seats = total }
	divide_variable = { SAMPLE_party2_seats = total }
	divide_variable = { SAMPLE_party3_seats = total }

	multiply_variable = { SAMPLE_party1_seats = 300 }
	multiply_variable = { SAMPLE_party2_seats = 300 }
	multiply_variable = { SAMPLE_party3_seats = 300 }
	round_variable = SAMPLE_party1_seats
	round_variable = SAMPLE_party2_seats
	round_variable = SAMPLE_party3_seats

	set_variable = { SAMPLE_party4_seats = 300 }
	subtract_from_variable = { SAMPLE_party4_seats = SAMPLE_party1_seats }
	subtract_from_variable = { SAMPLE_party4_seats = SAMPLE_party2_seats }
	subtract_from_variable = { SAMPLE_party4_seats = SAMPLE_party3_seats }
}

SAMPLE_init_parliament = {
	SAMPLE_generate_random_party_seats = yes
	
	# Generate partial sums t1 = (P1), t2 = (P1 + P2), t3 = (P1 + P2 + P3)
	# so that we can use resize_array to fill our array with the right number of seats for each party
	set_temp_variable = { t1 = SAMPLE_party1_seats }
	set_temp_variable = { t2 = SAMPLE_party1_seats }
	set_temp_variable = { t3 = SAMPLE_party3_seats }
	set_temp_variable = { t4 = 300 }

	add_to_temp_variable = { t2 = t1 }
	add_to_temp_variable = { t3 = t2 }


	clear_array = SAMPLE_seat_frame

	# Resize array to t1 seats, setting P1 frame numbers to 1 (Party 1 color)
	resize_array = {
		array = SAMPLE_seat_frame
		value = 1
		size = t1
	}
	# Resize array to t2 seats, setting P2 frame numbers to 2 (Party 2 color)
	resize_array = {
		array = SAMPLE_seat_frame
		value = 2
		size = t2
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = SAMPLE_seat_frame
		value = 3
		size = t3
	}
	# Resize array to all 300 seats, setting remaining frame numbers to 4 (Party 4 color)
	resize_array = {
		array = SAMPLE_seat_frame
		value = 4
		size = t4
	}

}
starting_1991_soviet_congress = {
	clear_array = supreme_soviet_frame

	clear_array = Soviet_Faction_ID
	clear_array = Soviet_Faction_ID_COALITION
	clear_array = Soviet_Faction_TOTAL
	
	add_to_array = { Soviet_Faction_ID = 1 }
	add_to_array = { Soviet_Faction_ID = 2 }
	add_to_array = { Soviet_Faction_ID = 3 }
	add_to_array = { Soviet_Faction_ID = 4 }
	add_to_array = { Soviet_Faction_ID = 5 }
	add_to_array = { Soviet_Faction_ID = 6 }
	add_to_array = { Soviet_Faction_ID = 7 }
	add_to_array = { Soviet_Faction_ID = 8 }
	add_to_array = { Soviet_Faction_ID = 9 }
	add_to_array = { Soviet_Faction_ID = 10 }
	add_to_array = { Soviet_Faction_ID = 11 }
	add_to_array = { Soviet_Faction_ID = 12 }
	add_to_array = { Soviet_Faction_ID = 13 }
	add_to_array = { Soviet_Faction_ID = 14 }
	add_to_array = { Soviet_Faction_ID = 15 }
	add_to_array = { Soviet_Faction_ID = 16 }
	add_to_array = { Soviet_Faction_ID = 17 }
	add_to_array = { Soviet_Faction_ID = 18 }
	add_to_array = { Soviet_Faction_ID = 19 }
	add_to_array = { Soviet_Faction_ID = 20 }
	add_to_array = { Soviet_Faction_ID = 21 }

	add_to_array = { Soviet_Faction_ID_COALITION = 2 }
	add_to_array = { Soviet_Faction_ID_COALITION = 2 }
	add_to_array = { Soviet_Faction_ID_COALITION = 3 }
	add_to_array = { Soviet_Faction_ID_COALITION = 3 }
	add_to_array = { Soviet_Faction_ID_COALITION = 3 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 4 }
	add_to_array = { Soviet_Faction_ID_COALITION = 4 }
	add_to_array = { Soviet_Faction_ID_COALITION = 4 }
	add_to_array = { Soviet_Faction_ID_COALITION = 4 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }
	add_to_array = { Soviet_Faction_ID_COALITION = 1 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }
	add_to_array = { Soviet_Faction_ID_COALITION = 5 }

	add_to_array = { Soviet_Faction_TOTAL = 33 }
	add_to_array = { Soviet_Faction_TOTAL = 33 }
	add_to_array = { Soviet_Faction_TOTAL = 16 }
	add_to_array = { Soviet_Faction_TOTAL = 22 }
	add_to_array = { Soviet_Faction_TOTAL = 8 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 24 }
	add_to_array = { Soviet_Faction_TOTAL = 10 }
	add_to_array = { Soviet_Faction_TOTAL = 13 }
	add_to_array = { Soviet_Faction_TOTAL = 8 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 16 }
	add_to_array = { Soviet_Faction_TOTAL = 12 }
	add_to_array = { Soviet_Faction_TOTAL = 9 }
	add_to_array = { Soviet_Faction_TOTAL = 0 }
	add_to_array = { Soviet_Faction_TOTAL = 32 }
	add_to_array = { Soviet_Faction_TOTAL = 8 }
	add_to_array = { Soviet_Faction_TOTAL = 8 }

	#252 so 251 Index is Max 
	set_variable = { Soviet_Faction_1 = 33 }
	set_variable = { Soviet_Faction_2 = 33 }
	set_variable = { Soviet_Faction_3 = 16 }
	set_variable = { Soviet_Faction_4 = 22 }
	set_variable = { Soviet_Faction_5 = 8 }
	set_variable = { Soviet_Faction_6 = 0 }
	set_variable = { Soviet_Faction_7 = 24 }
	set_variable = { Soviet_Faction_8 = 10 }
	set_variable = { Soviet_Faction_9 = 13 }
	set_variable = { Soviet_Faction_10 = 8 }
	set_variable = { Soviet_Faction_11 = 0 }
	set_variable = { Soviet_Faction_12 = 0 }
	set_variable = { Soviet_Faction_13 = 0 }
	set_variable = { Soviet_Faction_14 = 0 }
	set_variable = { Soviet_Faction_15 = 16 }
	set_variable = { Soviet_Faction_16 = 12 }
	set_variable = { Soviet_Faction_17 = 9 }
	set_variable = { Soviet_Faction_18 = 0 }
	set_variable = { Soviet_Faction_19 = 32 }
	set_variable = { Soviet_Faction_20 = 8 }
	set_variable = { Soviet_Faction_21 = 8 }
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_1 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 1 }
		add_to_variable = { Soviet_Faction_1 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_2 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 2 }
		add_to_variable = { Soviet_Faction_2 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_3 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 3 }
		add_to_variable = { Soviet_Faction_3 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_4 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 4 }
		add_to_variable = { Soviet_Faction_4 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_5 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 5 }
		add_to_variable = { Soviet_Faction_5 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_6 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 6 }
		add_to_variable = { Soviet_Faction_6 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_7 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 7 }
		add_to_variable = { Soviet_Faction_7 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_8 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 8 }
		add_to_variable = { Soviet_Faction_8 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_9 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 9 }
		add_to_variable = { Soviet_Faction_9 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_10 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 10 }
		add_to_variable = { Soviet_Faction_10 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_11 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 11 }
		add_to_variable = { Soviet_Faction_11 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_12 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 12 }
		add_to_variable = { Soviet_Faction_12 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_13 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 13 }
		add_to_variable = { Soviet_Faction_13 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_14 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 14 }
		add_to_variable = { Soviet_Faction_14 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_15 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 15 }
		add_to_variable = { Soviet_Faction_15 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_16 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 16 }
		add_to_variable = { Soviet_Faction_16 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_17 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 17 }
		add_to_variable = { Soviet_Faction_17 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_18 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 18 }
		add_to_variable = { Soviet_Faction_18 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_19 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 19 }
		add_to_variable = { Soviet_Faction_19 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_20 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 20 }
		add_to_variable = { Soviet_Faction_20 = -1 }
	}
	while_loop_effect = { 
		limit = {
			check_variable = { Soviet_Faction_21 > 0 }
		}
		add_to_array = { supreme_soviet_frame = 21 }
		add_to_variable = { Soviet_Faction_21 = -1 }
	}
}
