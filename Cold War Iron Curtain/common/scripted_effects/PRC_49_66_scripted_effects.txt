
PRC_50s_spend_money_tt = {
    subtract_from_variable = {
        currentMoney = temp_x
    }
    custom_effect_tooltip = PRC_50s_spend_money_tt
}

PRC_50s_gain_money_tt = {
    add_to_variable = {
        currentMoney = temp_x
    }
    custom_effect_tooltip = PRC_50s_gain_money_tt
}

#######################
#                     #
#     ideas swap      #
#                     #
#######################

PRC_50s_Economic_ruin_caused_by_war_ideas_swap = {
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_1 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_1 add_idea = PRC_50s_Economic_ruin_caused_by_war_2 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_2 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_2 add_idea = PRC_50s_Economic_ruin_caused_by_war_3 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_3 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_3 add_idea = PRC_50s_Economic_ruin_caused_by_war_4 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_4 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_4 add_idea = PRC_50s_Economic_ruin_caused_by_war_5 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_5 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_5 add_idea = PRC_50s_Economic_ruin_caused_by_war_6 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_6 }
        swap_ideas = { remove_idea = PRC_50s_Economic_ruin_caused_by_war_6 add_idea = PRC_50s_Economic_ruin_caused_by_war_7 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Economic_ruin_caused_by_war_7 }
        remove_ideas = PRC_50s_Economic_ruin_caused_by_war_7
        add_timed_idea = {
            idea = PRC_50s_Economic_ruin_caused_by_war_7
            days = 165
        }
    } 
}
PRC_50s_Land_Reform_ideas_swap = {
    if = {
        limit = { has_idea = agrarian_bourgeoisie_1 }
        swap_ideas = { remove_idea = agrarian_bourgeoisie_1 add_idea = agrarian_bourgeoisie_2 }
    }
    else_if = {
        limit = { has_idea = agrarian_bourgeoisie_2 }
        swap_ideas = { remove_idea = agrarian_bourgeoisie_2 add_idea = agrarian_bourgeoisie_3 }
    }
    else_if = {
        limit = { has_idea = agrarian_bourgeoisie_3 }
        swap_ideas = { remove_idea = agrarian_bourgeoisie_3 add_idea = agrarian_bourgeoisie_4 }
    }
    else_if = {
        limit = { has_idea = agrarian_bourgeoisie_4 }
        swap_ideas = { remove_idea = agrarian_bourgeoisie_4 add_idea = agrarian_bourgeoisie_5 }
    }
}
PRC_50s_Imperialist_forces_swap = {
    if = {
        limit = { has_idea = PRC_50s_Imperialist_forces }
        swap_ideas = { remove_idea = PRC_50s_Imperialist_forces add_idea = PRC_50s_Imperialist_forces_2 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Imperialist_forces_2 }
        swap_ideas = { remove_idea = PRC_50s_Imperialist_forces_2 add_idea = PRC_50s_Imperialist_forces_3 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Imperialist_forces_3 }
        swap_ideas = { remove_idea = PRC_50s_Imperialist_forces_3 add_idea = PRC_50s_Imperialist_forces_4 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Imperialist_forces_4 }
        swap_ideas = { remove_idea = PRC_50s_Imperialist_forces_4 add_idea = PRC_50s_Imperialist_forces_5 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Imperialist_forces_5 }
        swap_ideas = { remove_idea = PRC_50s_Imperialist_forces_5 add_idea = PRC_50s_Imperialist_forces_6 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Imperialist_forces_6 }
        remove_ideas = PRC_50s_Imperialist_forces_6
    } 
}

PRC_50s_administration_integration_in = {
    if = {
        limit = { has_idea = PRC_50s_Administration_Integration_5 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_5 add_idea = PRC_50s_Administration_Integration_4 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_4 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_4 add_idea = PRC_50s_Administration_Integration_3 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_3 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_3 add_idea = PRC_50s_Administration_Integration_2 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_2 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_2 add_idea = PRC_50s_Administration_Integration_1 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_1 }
        remove_ideas = PRC_50s_Administration_Integration_1
    }
    else = {
        add_stability = 0.025
    }
}

PRC_50s_administration_integration_de = {
    if = {
        limit = { has_idea = PRC_50s_Administration_Integration_1 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_1 add_idea = PRC_50s_Administration_Integration_2 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_2 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_2 add_idea = PRC_50s_Administration_Integration_3 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_3 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_3 add_idea = PRC_50s_Administration_Integration_4 }
    }
    else_if = {
        limit = { has_idea = PRC_50s_Administration_Integration_4 }
        swap_ideas = { remove_idea = PRC_50s_Administration_Integration_4 add_idea = PRC_50s_Administration_Integration_5 }
    }
    else_if = {
        limit = { 
            NOT = {
                has_idea = PRC_50s_Administration_Integration_1 
                has_idea = PRC_50s_Administration_Integration_2
                has_idea = PRC_50s_Administration_Integration_3
                has_idea = PRC_50s_Administration_Integration_4
                has_idea = PRC_50s_Administration_Integration_5
            }
        }
        add_ideas = PRC_50s_Administration_Integration_1
    }
}


###############################################################
##                                                           ##
##   Consolidation of the Regime and Social Transformation   ##
##                                                           ##
###############################################################

#Suppress Counterrevolutionaries
PRC_Suppress_Counterrevolutionaries_startup = {
    set_country_flag = PRC_Suppress_Counterrevolutionaries_flag
    set_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
    set_variable = { Suppress_Counterrevolutionaries_target = 1569 }
    716 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 8 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 23 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 10 }
    }
    609 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 25 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 90 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 40 }
    }
    283 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 33 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 72 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 90 }
    }
    605 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 55 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 80 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 84 }
    }
    1569 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 86 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 80 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 75 }
    }
    598 = {
        set_variable = { Suppress_Counterrevolutionaries_Bandit = 57 }
        set_variable = { Suppress_Counterrevolutionaries_Huidaomen = 70 }
        set_variable = { Suppress_Counterrevolutionaries_Kuomintang = 80 }
    }
    set_variable = { PRC_Suppress_Counterrevolutionaries_button_cost_1 = 5 }
    set_variable = { PRC_Suppress_Counterrevolutionaries_button_effect_base = 6 }
    PRC_Suppress_Counterrevolutionaries_update = yes
}
PRC_Suppress_Counterrevolutionaries_update = {
    set_variable = { PRC_Suppress_Counterrevolutionaries_button_cost_2 = PRC_Suppress_Counterrevolutionaries_button_cost_1 }
    multiply_variable = { PRC_Suppress_Counterrevolutionaries_button_cost_2 = -1 }
    every_state = {
        limit = {
            OR = {
                state = 716
                state = 609
                state = 283
                state = 605
                state = 1569
                state = 598
            }
        }
        clamp_variable = {
            var = Suppress_Counterrevolutionaries_Bandit
            min = 0
            max = 100
        }
        clamp_variable = {
            var = Suppress_Counterrevolutionaries_Huidaomen
            min = 0
            max = 100
        }
        clamp_variable = {
            var = Suppress_Counterrevolutionaries_Kuomintang
            min = 0
            max = 100
        }
        set_variable = { PRC.PRC_Suppress_Bandits_button_effect = Suppress_Counterrevolutionaries_Huidaomen }
        add_to_variable = { PRC.PRC_Suppress_Bandits_button_effect = Suppress_Counterrevolutionaries_Kuomintang }
        divide_variable = { PRC.PRC_Suppress_Bandits_button_effect = 300 }
        add_to_variable = { PRC.PRC_Suppress_Bandits_button_effect = -1 }
        multiply_variable = { PRC.PRC_Suppress_Bandits_button_effect = PRC.PRC_Suppress_Counterrevolutionaries_button_effect_base }
        set_variable = { PRC.PRC_Suppress_Huidaomen_button_effect = Suppress_Counterrevolutionaries_Bandit }
        add_to_variable = { PRC.PRC_Suppress_Huidaomen_button_effect = Suppress_Counterrevolutionaries_Kuomintang }
        divide_variable = { PRC.PRC_Suppress_Huidaomen_button_effect = 300 }
        add_to_variable = { PRC.PRC_Suppress_Huidaomen_button_effect = -1 }
        multiply_variable = { PRC.PRC_Suppress_Huidaomen_button_effect = PRC.PRC_Suppress_Counterrevolutionaries_button_effect_base }
        set_variable = { PRC.PRC_Suppress_Kuomintang_button_effect = Suppress_Counterrevolutionaries_Bandit }
        add_to_variable = { PRC.PRC_Suppress_Kuomintang_button_effect = Suppress_Counterrevolutionaries_Huidaomen }
        divide_variable = { PRC.PRC_Suppress_Kuomintang_button_effect = 300 }
        add_to_variable = { PRC.PRC_Suppress_Kuomintang_button_effect = -1 }
        multiply_variable = { PRC.PRC_Suppress_Kuomintang_button_effect = PRC.PRC_Suppress_Counterrevolutionaries_button_effect_base }    
        if = {
            limit = {
                check_variable = {
                    var = Suppress_Counterrevolutionaries_Bandit
                    value = 0
                    compare = equals
                }
                check_variable = {
                    var = Suppress_Counterrevolutionaries_Huidaomen
                    value = 0
                    compare = equals
                }
                check_variable = {
                    var = Suppress_Counterrevolutionaries_Kuomintang
                    value = 0
                    compare = equals
                }
            }
            set_variable = { Suppress_Counterrevolutionaries_progress = 2 }
        }
        if = {
            limit = {
                OR = {
                    check_variable = {
                        var = Suppress_Counterrevolutionaries_Bandit
                        value = 0
                        compare = greater_than
                    }
                    check_variable = {
                        var = Suppress_Counterrevolutionaries_Huidaomen
                        value = 0
                        compare = greater_than
                    }
                    check_variable = {
                        var = Suppress_Counterrevolutionaries_Kuomintang
                        value = 0
                        compare = greater_than
                    }
                }
            }
            set_variable = { Suppress_Counterrevolutionaries_progress = 1 }
        }
    }
}

#Land Reform
PRC_Land_Reform_startup = {
    every_state = {
        limit = {
            OR = {
                state = 616
                state = 1787
                state = 1786
                state = 607
                state = 620
                state = 606

                state = 1785
                state = 598
                state = 1557
                state = 605
                state = 325
                state = 603
                state = 602
                state = 600
                state = 596
                state = 595
                state = 1569
                state = 594
                state = 617
                state = 604
            }
        }
        set_variable = { Land_Reform_progrss = 0 }
        set_variable = { Land_Reform_progrss_gain = 1 }
    }
    PRC_Land_Reform_update = yes
}
PRC_Land_Reform_update = {
    every_state = {
        limit = {
            OR = {
                state = 616
                state = 1787
                state = 1786
                state = 607
                state = 620
                state = 606

                state = 1785
                state = 598
                state = 1557
                state = 605
                state = 325
                state = 603
                state = 602
                state = 600
                state = 596
                state = 595
                state = 1569
                state = 594
                state = 617
                state = 604
            }
        }
        clamp_variable = {
            var = Land_Reform_progrss
            min = 0
            max = 200
        }
        clamp_variable = {
            var = Land_Reform_progrss_gain
            min = 0
            max = 8
        }
        if = {
            limit = {
                check_variable = { Land_Reform_progrss > 180 }
            }
            set_variable = { Land_Reform_level = 2 }
        }
        if = {
            limit = {
                check_variable = { 
                    var = Land_Reform_progrss 
                    value = 180
                    compare = less_than_or_equals
                }
                check_variable = { 
                    var = Land_Reform_progrss 
                    value = 0
                    compare = greater_than_or_equals
                }
            }
            set_variable = { Land_Reform_level = 0 }
        }
    }
}

#Socialist Transformation
PRC_Socialist_Transformation_startup = {
    #实际值
    set_variable = { PRC_Socialist_Transformation_agriculture_progress = 34 }
    set_variable = { PRC_Socialist_Transformation_industry_progress = 18 }
    set_variable = { PRC_Socialist_Transformation_commerce_progress = 106 }
    
    #指标值
    set_variable = { PRC_Socialist_Transformation_agriculture_progress_expectation = 170 }
    set_variable = { PRC_Socialist_Transformation_industry_progress_expectation = 170 }
    set_variable = { PRC_Socialist_Transformation_commerce_progress_expectation = 220 }
    PRC_Socialist_Transformation_update = yes
}
PRC_Socialist_Transformation_update = {
    clamp_variable = {
        var = PRC_Socialist_Transformation_agriculture_progress_expectation
        min = 0
        max = 258
    }
    clamp_variable = {
        var = PRC_Socialist_Transformation_industry_progress_expectation
        min = 0
        max = 258
    }
    clamp_variable = {
        var = PRC_Socialist_Transformation_commerce_progress_expectation
        min = 0
        max = 258
    }
    clamp_variable = {
        var = PRC_Socialist_Transformation_agriculture_progress
        min = 0
        max = PRC_Socialist_Transformation_agriculture_progress_expectation
    }
    clamp_variable = {
        var = PRC_Socialist_Transformation_industry_progress
        min = 0
        max = PRC_Socialist_Transformation_industry_progress_expectation
    }
    clamp_variable = {
        var = PRC_Socialist_Transformation_commerce_progress
        min = 0
        max = PRC_Socialist_Transformation_commerce_progress_expectation
    }
    #gui值
    set_variable = { PRC_Socialist_Transformation_agriculture_progress_gui = PRC_Socialist_Transformation_agriculture_progress }
    set_variable = { PRC_Socialist_Transformation_industry_progress_gui = PRC_Socialist_Transformation_industry_progress }
    set_variable = { PRC_Socialist_Transformation_commerce_progress_gui = PRC_Socialist_Transformation_commerce_progress }
    multiply_variable = { PRC_Socialist_Transformation_agriculture_progress_gui = 0.5 }
    multiply_variable = { PRC_Socialist_Transformation_industry_progress_gui = 0.5 }
    multiply_variable = { PRC_Socialist_Transformation_commerce_progress_gui = 0.5 }
    add_to_variable = { PRC_Socialist_Transformation_agriculture_progress_gui = 14 }
    add_to_variable = { PRC_Socialist_Transformation_industry_progress_gui = 14 }
    add_to_variable = { PRC_Socialist_Transformation_commerce_progress_gui = 14 }
    
    #总进度
    set_variable = { PRC_Socialist_Transformation_oerall_progress = PRC_Socialist_Transformation_agriculture_progress }
    add_to_variable = { PRC_Socialist_Transformation_oerall_progress = PRC_Socialist_Transformation_industry_progress }
    add_to_variable = { PRC_Socialist_Transformation_oerall_progress = PRC_Socialist_Transformation_commerce_progress }#实际值
    set_variable = { PRC_Socialist_Transformation_oerall_progress_percent = PRC_Socialist_Transformation_oerall_progress }
    set_temp_variable = { PRC_Socialist_Transformation_progress_expectation_temp = PRC_Socialist_Transformation_agriculture_progress_expectation }
    add_to_temp_variable = { PRC_Socialist_Transformation_progress_expectation_temp = PRC_Socialist_Transformation_industry_progress_expectation }
    add_to_temp_variable = { PRC_Socialist_Transformation_progress_expectation_temp = PRC_Socialist_Transformation_commerce_progress_expectation }
    divide_variable = { PRC_Socialist_Transformation_oerall_progress_percent = PRC_Socialist_Transformation_progress_expectation_temp }#实际百分比值
    set_variable = { PRC_Socialist_Transformation_oerall_progress_gui = PRC_Socialist_Transformation_oerall_progress_percent }
    multiply_variable = { PRC_Socialist_Transformation_oerall_progress_gui = 291 }
    add_to_variable = { PRC_Socialist_Transformation_oerall_progress_gui = 5 } #gui帧数值
}
PRC_transitional_period_policy_preference_update = {
    clamp_variable = {
        var = PRC_transitional_period_policy_preference
        min = 0
        max = 100
    }
    if = {
        limit = {
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 20
                compare = less_than
            }
        }
        set_variable = { PRC_transitional_period_policy_preference_level = 1 } 
    }
    else_if = {
        limit = {
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 20
                compare = greater_than_or_equals
            }
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 40
                compare = less_than_or_equals
            }
        }
        set_variable = { PRC_transitional_period_policy_preference_level = 2 } 
    }
    else_if = {
        limit = {
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 40
                compare = greater_than
            }
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 60
                compare = less_than
            }
        }
        set_variable = { PRC_transitional_period_policy_preference_level = 3 } 
    }
    else_if = {
        limit = {
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 60
                compare = greater_than_or_equals
            }
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 80
                compare = less_than_or_equals
            }
        }
        set_variable = { PRC_transitional_period_policy_preference_level = 4 } 
    }
    else_if = {
        limit = {
            check_variable = {
                var = PRC_transitional_period_policy_preference
                value = 80
                compare = greater_than
            }
        }
        set_variable = { PRC_transitional_period_policy_preference_level = 5 } 
    }
}

#################
#     2 100     #
#################

PRC_50s_The_Two_Hundred_Policy_open_var_change = {
    add_to_variable = { PRC_50s_The_Two_Hundred_Policy_open_var = temp_x }

    if = {
        limit = {
            check_variable = { temp_x > 0 }
        }
        custom_effect_tooltip = PRC_50s_The_Two_Hundred_Policy_open_var_in
    }
    else = {
        multiply_temp_variable = { temp_x = -1 }
        custom_effect_tooltip = PRC_50s_The_Two_Hundred_Policy_open_var_de
    }

    clamp_variable = {
        var = PRC_50s_The_Two_Hundred_Policy_open_var
        min = 0
    }

    if = {
        limit = {
            check_variable = { PRC_50s_The_Two_Hundred_Policy_open_var > 100 }
        }
        country_event = {
            id = PRC_50s_Rework_event.29
        }
    }
}

#################
#      dip      #
#################

PRC_50s_dip_international_credibility_change = {
    if = {
        limit = {
            has_idea = international_credibility_3
        }
        swap_ideas = {
            remove_idea = international_credibility_3
            add_idea = international_credibility_2
        }
    }
    else_if = {
        limit = {
            has_idea = international_credibility_2
        }
        swap_ideas = {
            remove_idea = international_credibility_2
            add_idea = international_credibility_1
        }
    }
    else_if = {
        limit = {
            has_idea = international_credibility_1
        }
        remove_ideas = international_credibility_1
    }
}

PRC_50s_dip_eastern_bloc_integration_change = {
    if = {
        limit = {
            has_idea = eastern_bloc_integration_1
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_1
            add_idea = eastern_bloc_integration_2
        }
    }
    else_if = {
        limit = {
            has_idea = eastern_bloc_integration_2
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_2
            add_idea = eastern_bloc_integration_3
        }
    }
    else_if = {
        limit = {
            has_idea = eastern_bloc_integration_3
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_3
            add_idea = eastern_bloc_integration_4
        }
    }
    else_if = {
        limit = {
            has_idea = eastern_bloc_integration_4
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_4
            add_idea = eastern_bloc_integration_5
        }
    }
    else_if = {
        limit = {
            has_idea = eastern_bloc_integration_5
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_5
            add_idea = eastern_bloc_integration_6
        }
    }
    else_if = {
        limit = {
            has_idea = eastern_bloc_integration_6
        }
        swap_ideas = {
            remove_idea = eastern_bloc_integration_6
            add_idea = eastern_bloc_integration_7
        }
    }
    else_if = {
        limit = {
            NOT = {
                has_idea = eastern_bloc_integration_1
                has_idea = eastern_bloc_integration_2
                has_idea = eastern_bloc_integration_3
                has_idea = eastern_bloc_integration_4
                has_idea = eastern_bloc_integration_5
                has_idea = eastern_bloc_integration_6
                has_idea = eastern_bloc_integration_7
            }
        }
        add_ideas = eastern_bloc_integration_1
    }
}

PRC_50s_Economic_cooperation_among_Asian_countries_change = {
    if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_8
        }
    }
    else_if = {
        limit = {
            NOT = {
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
                has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_8
            }
        }
        add_ideas = PRC_50s_Economic_cooperation_among_Asian_countries
    }
}

PRC_50s_Economic_cooperation_among_Asian_countries_de = {
    if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_2
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_3
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_4
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_5
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_6
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries_8
        }
        swap_ideas = {
            remove_idea = PRC_50s_Economic_cooperation_among_Asian_countries_8
            add_idea = PRC_50s_Economic_cooperation_among_Asian_countries_7
        }
    }
    else_if = {
        limit = {
            has_idea = PRC_50s_Economic_cooperation_among_Asian_countries
        }
        remove_ideas = PRC_50s_Economic_cooperation_among_Asian_countries
    }
}

PRC_launch_the_GLF = {
    set_country_flag = PRC_GLF_flag
    set_variable = {
        var = PRC_49_60_focus_var  
        value = 3  
    }
    mark_focus_tree_layout_dirty = yes
    set_variable = { PRC_GLF_rash_advance_var = 60 }
    activate_mission = PRC_50s_Empower_Local_Governments_mission
    add_dynamic_modifier = {
        modifier = PRC_Great_Leap_Forward_dynamic_modifier
    }
    hidden_effect = {
        every_owned_state = {
            set_variable = { PRC_state_famine_var = 0 }
        }
    }
}
PRC_glf_exacerbate_famine_effect_1 = {
    hidden_effect = {
        every_owned_state = {
            limit = {
                OR = {
                    state = 605
                    state = 601
                    state = 607
                    state = 606
                    state = 597
                }
            }
            add_to_variable = { PRC_state_famine_var = 8 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    has_variable = prc_temp_var
                }
                OR = {
                    state = 283
                    state = 598
                    state = 603
                    state = 594
                    state = 283
                }
            }
            add_to_variable = { PRC_state_famine_var = 6 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    OR = {
                        state = 608
                        state = 603
                        state = 613
                    }
                    has_variable = prc_temp_var
                }
                state_population_k > 36
            }
            add_to_variable = { PRC_state_famine_var = 3 }
        }
        every_owned_state = {
            limit = {
                OR = {
                    state = 608
                    state = 603
                    state = 613
                }
            }
            add_to_variable = { PRC_state_famine_var = 1 }
        }
    }
}
PRC_glf_exacerbate_famine_effect_2 = {
    hidden_effect = {
        every_owned_state = {
            limit = {
                OR = {
                    state = 605
                    state = 601
                    state = 607
                    state = 606
                    state = 597
                }
            }
            add_to_variable = { PRC_state_famine_var = 6 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    has_variable = prc_temp_var
                }
                OR = {
                    state = 283
                    state = 598
                    state = 603
                    state = 594
                    state = 283
                }
            }
            add_to_variable = { PRC_state_famine_var = 4 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    OR = {
                        state = 608
                        state = 603
                        state = 613
                    }
                    has_variable = prc_temp_var
                }
                state_population_k > 36
            }
            add_to_variable = { PRC_state_famine_var = 2 }
        }
    }
}
PRC_glf_exacerbate_famine_effect_3 = {
    hidden_effect = {
        every_owned_state = {
            limit = {
                OR = {
                    state = 605
                    state = 601
                    state = 607
                    state = 606
                    state = 597
                }
            }
            add_to_variable = { PRC_state_famine_var = 4 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    has_variable = prc_temp_var
                }
                OR = {
                    state = 283
                    state = 598
                    state = 603
                    state = 594
                    state = 283
                }
            }
            add_to_variable = { PRC_state_famine_var = 3 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    OR = {
                        state = 608
                        state = 603
                        state = 613
                    }
                    has_variable = prc_temp_var
                }
                state_population_k > 36
            }
            add_to_variable = { PRC_state_famine_var = 1 }
        }
    }
}
PRC_glf_mitigate_famine_effect = {
    hidden_effect = {
        every_owned_state = {
            limit = {
                OR = {
                    state = 605
                    state = 601
                    state = 607
                    state = 606
                    state = 597
                }
            }
            add_to_variable = { PRC_state_famine_var = -3 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    has_variable = prc_temp_var
                }
                OR = {
                    state = 283
                    state = 598
                    state = 603
                    state = 594
                    state = 283
                }
            }
            add_to_variable = { PRC_state_famine_var = -2 }
            set_temp_variable = { prc_temp_var = 1 }
        }
        every_owned_state = {
            limit = {
                NOT = {
                    OR = {
                        state = 608
                        state = 603
                        state = 613
                    }
                    has_variable = prc_temp_var
                }
                state_population_k > 36
            }
            add_to_variable = { PRC_state_famine_var = -0.8 }
        }
    }
}
PRC_GLF_focus_mission_effect = {
    if = {
        limit = {
            NOT = { has_completed_focus = PRC_50s_Empower_Local_Governments }
        }
        activate_mission = PRC_50s_Empower_Local_Governments_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Empower_Local_Governments
            NOT = { has_completed_focus = PRC_50s_Promote_The_Pilot_Field_System }
        }
        activate_mission = PRC_50s_Promote_The_Pilot_Field_System_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Promote_The_Pilot_Field_System
            NOT = { has_completed_focus = PRC_50s_Strengthen_The_Household_System }
        }
        activate_mission = PRC_50s_Strengthen_The_Household_System_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Strengthen_The_Household_System
            NOT = { has_completed_focus = PRC_50s_Launch_Local_Industry }
        }
        activate_mission = PRC_50s_Launch_Local_Industry_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Launch_Local_Industry
            NOT = { has_completed_focus = PRC_50s_Anti-waste_And_Anti-conservative_Campaign }
        }
        activate_mission = PRC_50s_Anti-waste_And_Anti-conservative_Campaign_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Anti-waste_And_Anti-conservative_Campaign
            NOT = { has_completed_focus = PRC_50s_Bust_Technical_Myths }
        }
        activate_mission = PRC_50s_Bust_Technical_Myths_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Bust_Technical_Myths
            NOT = { has_completed_focus = PRC_50s_Harness_Nature }
        }
        activate_mission = PRC_50s_Harness_Nature_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Dominate_Nature
                has_completed_focus = PRC_50s_Harness_Nature
            }
            NOT = { has_completed_focus = PRC_50s_Launch_A_Catch-up_Campaign }
        }
        activate_mission = PRC_50s_Launch_A_Catch-up_Campaign_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Launch_A_Catch-up_Campaign
            NOT = { has_completed_focus = PRC_50s_Emphasis_on_Class_Struggle }
        }
        activate_mission = PRC_50s_Emphasis_on_Class_Struggle_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Emphasis_on_Class_Struggle
            NOT = { has_completed_focus = PRC_50s_Launch_The_Heart_to_Heart_Campaign }
        }
        activate_mission = PRC_50s_Launch_The_Heart_to_Heart_Campaign_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Launch_The_Heart_to_Heart_Campaign
            NOT = { has_completed_focus = PRC_50s_Increase_Food_Procurement }
        }
        activate_mission = PRC_50s_Increase_Food_Procurement_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Increase_Food_Procurement
            NOT = { has_completed_focus = PRC_50s_Set_Targets_for_Hyper-industrialisation }
        }
        activate_mission = PRC_50s_Set_Targets_for_Hyper-industrialisation_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Agro-industrial_Double_Super_Campaign
                has_completed_focus = PRC_50s_Set_Targets_for_Hyper-industrialisation
            }
            NOT = { has_completed_focus = PRC_50s_National_Electrification_Campaign }
        }
        activate_mission = PRC_50s_National_Electrification_Campaign_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_National_Electrification_Campaign
            NOT = { has_completed_focus = PRC_50s_Sruggle_with_Guanchao_Faction }
        }
        activate_mission = PRC_50s_Sruggle_with_Guanchao_Faction_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Sruggle_with_Guanchao_Faction
                has_completed_focus = PRC_50s_Temporarily_Compress_Air
            }
            NOT = { has_completed_focus = PRC_50s_Control_Social_Corners }
        }
        activate_mission = PRC_50s_Control_Social_Corners_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Control_Social_Corners
            NOT = { has_completed_focus = PRC_50s_Debate_with_The_Opposition }
        }
        activate_mission = PRC_50s_Debate_with_The_Opposition_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Debate_with_The_Opposition
            NOT = { has_completed_focus = PRC_50s_The_Great_Leap_Forward }
        }
        activate_mission = PRC_50s_The_Great_Leap_Forward_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_The_Great_Leap_Forward
            NOT = { has_completed_focus = PRC_50s_Reinforce_Party_Control_over_Government }
        }
        activate_mission = PRC_50s_Reinforce_Party_Control_over_Government_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Reinforce_Party_Control_over_Government
            NOT = { has_completed_focus = PRC_50s_Streamline_The_Central_Ministries_and_Commissions }
        }
        activate_mission = PRC_50s_Streamline_The_Central_Ministries_And_Commissions_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Streamline_The_Central_Ministries_and_Commissions
            NOT = { has_completed_focus = PRC_50s_Integrated_Use_of_Food }
        }
        activate_mission = PRC_50s_Integrated_Use_of_Food_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Integrated_Use_of_Food
            NOT = { has_completed_focus = PRC_50s_Encourage_An_Increase_in_Production }
        }
        activate_mission = PRC_50s_Encourage_An_Increase_in_Production_mission
    }
    else_if = {
        limit = {
            has_completed_focus =PRC_50s_Encourage_An_Increase_in_Production
            NOT = { has_completed_focus = PRC_50s_Great_Steelmaking_Movement }
        }
        activate_mission = PRC_50s_Great_Steelmaking_Movement_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Great_Steelmaking_Movement
            NOT = { has_completed_focus = PRC_50s_People_s_Commune_Movement }
        }
        activate_mission = PRC_50s_People_s_Commune_Movement_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_People_s_Commune_Movement
            NOT = { has_completed_focus = PRC_50s_Break_Down_Individualism }
        }
        activate_mission = PRC_50s_Break_Down_Individualism_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Break_Down_Individualism
            NOT = { has_completed_focus = PRC_50s_Free_Supply_System }
        }
        activate_mission = PRC_50s_Free_Supply_System_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Half_Wage_And_Half_Supply_System
                has_completed_focus = PRC_50s_Free_Supply_System
            }
            NOT = { has_completed_focus = PRC_50s_Raise_Expected_Targets }
        }
        activate_mission = PRC_50s_Raise_Expected_Targets_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Raise_Expected_Targets
                has_completed_focus = PRC_50s_Maintain_Original_Targets
            }
            NOT = { has_completed_focus = PRC_50s_Indigenous_Steelmaking }
        }
        activate_mission = PRC_50s_Indigenous_Steelmaking_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Indigenous_Steelmaking
            NOT = { has_completed_focus = PRC_50s_Promote_The_Eight-character_Constitution }
        }
        activate_mission = PRC_50s_Promote_The_Eight-character_Constitution_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Promote_The_Eight-character_Constitution
            NOT = { has_completed_focus = PRC_50s_Respond_to_Local_Dilemmas }
        }
        activate_mission = PRC_50s_Respond_to_Local_Dilemmas_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Respond_to_Local_Dilemmas
            NOT = { has_completed_focus = PRC_50s_Protect_The_Spirit_of_Leap_Forward }
        }
        activate_mission = PRC_50s_Protect_The_Spirit_of_Leap_Forward_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Lower_Targets
                has_completed_focus = PRC_50s_Protect_The_Spirit_of_Leap_Forward
            }
            NOT = { has_completed_focus = PRC_50s_Liberate_The_Rural_Workforce }
        }
        activate_mission = PRC_50s_Liberate_The_Rural_Workforce_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Liberate_The_Rural_Workforce
            NOT = { has_completed_focus = PRC_50s_Strengthen_The_Unified_Purchasing_And_Marketing }
        }
        activate_mission = PRC_50s_Strengthen_The_Unified_Purchasing_And_Marketing_mission
    }
    else_if = {
        limit = {
            OR = {
                has_completed_focus = PRC_50s_Strengthen_The_Unified_Purchasing_And_Marketing
                has_completed_focus = PRC_50s_Reduce_Agricultural_Scissor_Difference
            }
            NOT = { has_completed_focus = PRC_50s_Ensure_Food_Rations_for_Workers }
        }
        activate_mission = PRC_50s_Ensure_Food_Rations_for_Workers_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Ensure_Food_Rations_for_Workers
            NOT = { has_completed_focus = PRC_50s_Set_up_Part-time_Schools }
        }
        activate_mission = PRC_50s_Set_up_Part-time_Schools_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Set_up_Part-time_Schools
            NOT = { has_completed_focus = PRC_50s_Reduce_Production_Waste }
        }
        activate_mission = PRC_50s_Reduce_Production_Waste_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Reduce_Production_Waste
            NOT = { has_completed_focus = PRC_50s_Prioritise_Urban_Food_Supply }
        }
        activate_mission = PRC_50s_Prioritise_Urban_Food_Supply_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Protect_The_Spirit_of_Leap_Forward
            has_completed_focus = PRC_50s_Ensure_Food_Rations_for_Workers
            has_completed_focus = PRC_50s_Strengthen_The_Unified_Purchasing_And_Marketing
            OR = {
                has_completed_focus = PRC_50s_Ensure_Rural_Food_Security
                has_completed_focus = PRC_50s_Prioritise_Urban_Food_Supply
            }
            NOT = { has_completed_focus = PRC_50s_Campaign_to_Oppose_Share_out_in_Private_the_Harvests_They_Concealed }
        }
        activate_mission = PRC_50s_Campaign_to_Oppose_Share_out_in_Private_the_Harvests_They_Concealed_mission
    }
    else_if = {
        limit = {
            has_completed_focus = PRC_50s_Prioritise_Urban_Food_Supply
            has_completed_focus = PRC_50s_Campaign_to_Oppose_Share_out_in_Private_the_Harvests_They_Concealed
            NOT = { has_completed_focus = PRC_50s_Sudden_Acquisitions_of_Grain }
        }
        activate_mission = PRC_50s_Sudden_Acquisitions_of_Grain_mission
    }
}