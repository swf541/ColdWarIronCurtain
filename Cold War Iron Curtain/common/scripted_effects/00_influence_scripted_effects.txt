#Written by Killerrabbit and SWF541
#Optimized and Reworked by Angriest Bird
#for not oversizing the array for having both 2000 and 2017 values
###COMPENDIUM
#Tag Specific are near the bottom of the generic functions. Relevant information
init_influence = {
	clear_array = influence_array_val
	clear_array = influence_array_calc
	clear_array = influence_array
}

check_uar_influence = {
	if = {
		limit = { tag = ALG }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	if = {
		limit = { tag = BHR }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	if = {
		limit = { tag = IRQ }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = {
			tag = JOR
		}
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	

	if = {
		limit = { tag = KUW }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = LEB }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = LBA }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = MRT }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = MOR }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = OMA }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = PAL }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = QAT }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = SAU }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = SOM }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = SUD }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = SYR }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = TUN }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = UAE }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = WES }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = DRY }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}	
	
	if = {
		limit = { tag = YEM }
		set_variable = { egypt_id = EGY.id }
		if = {
			limit = {
				check_variable = { influence_array^0 = egypt_id }
			}	
			set_variable = { egy_placement = 0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = egypt_id } 
			}	
			set_variable = { egy_placement = 1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = egypt_id }
			}	
			set_variable = { egy_placement = 2 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^3 = egypt_id }
			}	
			set_variable = { egy_placement = 3 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^4 = egypt_id } 
			}	
			set_variable = { egy_placement = 4 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^5 = egypt_id }
			}	
			set_variable = { egy_placement = 5 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^6 = egypt_id }
			}	
			set_variable = { egy_placement = 6 }
		}
		if = {
			limit = {
				check_variable = { influence_array_val^7 = egypt_id }
			}	
			set_variable = { egy_placement = 7 }
		}
	}
	#IMF Section
	set_variable = { IMF_id = GER.id }
	if = {
		limit = {
			check_variable = { influence_array^0 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 0 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array^1 = IMF_id } 
		}	
		set_variable = { IMF_POSITION = 1 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array^2 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 2 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array_val^3 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 3 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array_val^4 = IMF_id } 
		}	
		set_variable = { IMF_POSITION = 4 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array_val^5 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 5 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array_val^6 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 6 }
	}
	else_if = {
		limit = {
			check_variable = { influence_array_val^7 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 7 }
	}				
	else_if = {
		limit = {
			check_variable = { influence_array_val^8 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 8 }
	}		
	else_if = {
		limit = {
			check_variable = { influence_array_val^9 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 9 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^10 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 10 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^11 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 11 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^12 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 12 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^13 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 13 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^14 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 14 }
	}	
	else_if = {
		limit = {
			check_variable = { influence_array_val^15 = IMF_id }
		}	
		set_variable = { IMF_POSITION = 15 }
	}	
	else = {
		set_variable = { IMF_POSITION = 100 }
	}
}

startup_influence = {
	check_uar_influence = yes
	sort_influence = yes #the rest is on_startup
}

recalculate_influence = {
	check_uar_influence = yes

	hidden_effect = {
		sort_influence = yes
		calculate_influence_percentage = yes
	}
	if = {
		limit = {
			OR = {
				has_idea = FRA_Colony
				has_idea = FRA_Protectorate
				has_idea = FRA_Neo_Colonial_State
				has_idea = French_Community_Member
			}
		}
		french_influence_col_idea_add = yes
	}
}

sort_influence = {
	#Creates the Sample Array
	resize_temp_array = {
		array = influence_array_val_temp #values
		size = influence_array_val^num
	}
	resize_temp_array = {
		array = influence_array_temp #tags
		size = influence_array_val^num
	}
	# for a special case in a focus where influence became negative messing up the following step
	for_loop_effect = {
		end = influence_array_val^num
		value = v
		if = { limit = { check_variable = { influence_array_val^v < 0 } } set_variable = { influence_array_val^v = 0 } }
	}
	####
	for_loop_effect = {
		end = influence_array_val^num
		value = v
		find_highest_in_array = {
			array = influence_array_val
			value = max
			index = max_index
		}
		set_temp_variable = { influence_array_val_temp^v = max } #sets biggest at the earliest available position
		set_temp_variable = { influence_array_temp^v = influence_array^max_index } #sets biggest TAG at the earliest available position
		set_variable = { influence_array_val^max_index = -1 } #removes it from selection
	}
	clear_array = influence_array_val
	clear_array = influence_array_calc
	clear_array = influence_array
	set_variable = { influence_total = 0 }
	#restores destroyed arrays in the above process - i.e. if they were deleted due to being less then 1%
	for_each_loop = {
		array = influence_array_val_temp
		add_to_array = { influence_array_val = v  }
		add_to_array = { influence_array_calc = v }
		add_to_variable = { influence_total = v }
	}
	for_each_loop = {
		array = influence_array_temp
		add_to_array = { influence_array = v  }
	}
	clear_temp_array = influence_array_val_temp
	clear_temp_array = influence_array_temp
	set_variable = { domestic_influence_amount_calc = domestic_influence_amount }
	add_to_variable = { influence_total = domestic_influence_amount_calc }

	for_each_loop = {
		array = influence_array_calc
		round_variable = influence_array_calc^i
		divide_variable = { influence_array_calc^i = influence_total }
		clamp_variable = { var = influence_array_calc^i min = 0 max = 1 }
		clamp_variable = { var = influence_array_val^i min = 0 max = influence_total }

		set_variable = { influence_array_val^i = 1000 }
		multiply_variable = {
			var = influence_array_val^i
			value = influence_array_calc^i
		}
	}

	round_variable = domestic_influence_amount_calc
	divide_variable = { domestic_influence_amount_calc = influence_total }
	clamp_variable = { var = domestic_influence_amount_calc min = 0 max = 1 }
	if = { limit = { NOT = { has_variable = domestic_influence_amount } } # check to prevent error if empty
		set_variable = { domestic_influence_amount = 0 }
	}
	clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }

	set_variable = { domestic_influence_amount = 1000 }
	multiply_variable = { domestic_influence_amount = domestic_influence_amount_calc }

	clamp_variable = { var = influence_total min = 0 max = 1000 }
}

calculate_influence_percentage = {

}

### Assign target for hostile influence ###

hostile_influence_target = {

}

### Actions ###

spread_influence = {
	PREV = { add_political_power = -80 }

	set_temp_variable = { influence_gain = influence_total } #1000
	multiply_temp_variable = { influence_gain = 0.02 } #2% of ROOT influence total
	multiply_temp_variable = {
		var = influence_gain 
		value = PREV.influence_multiplier #from global rank idea 20 * 1.6 = 32
	}
	add_to_temp_variable = { influence_gain = 20 } #base gain - DEBUG TOOL - temped to prevent 0 addition
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
}

make_puppet_action = {
	#eventually remove explotation idea (shouldn't double up)
	for_loop_effect = {
		end = influence_array^num
		value = v

		meta_effect = {
			text = {
				remove_ideas = [THISTAG]_tribute_idea
			}
			THISTAG = "[?var:influence_array^v.GetTag]"
		}
	}

	PREV = {
		set_autonomy = {
			target = PREV
			autonomy_state = autonomy_puppet
			freedom_level = 0.5
		}
		add_named_threat = { threat = 2 name = created_puppet_loc }
	}
	every_neighbor_country = {
		add_opinion_modifier = { target = PREV modifier = puppeted_neighbor }
	}
}

economic_exploitation_action = {
	meta_effect = {
		text = {
			add_ideas = [ROOTTAG]_tribute_idea
		}
		ROOTTAG = "[?var:influence_array^0.GetTag]"
	}

	#Remove 10% influence
	set_temp_variable = { influence_reduce = influence_total } #from global rank idea
	multiply_temp_variable = { influence_reduce = 0.1 } #10%
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			subtract_from_variable = {
				var = influence_array_val^v
				value = influence_reduce
			}
		}
	}
	recalculate_influence = yes

	#Opinion Modifiers
	add_opinion_modifier = { target = PREV modifier = exploiter }
	every_neighbor_country = {
		add_opinion_modifier = { target = PREV modifier = exploiter_neighbor }
	}
}



delete_influencer_check = {
	if = {
		limit = {
			check_variable = { influence_array_val^0 < 1 }
			check_variable = { influence_array^0 > 0 } #Index 1 - Biggest Influencer
		}
		remove_from_array = { array = influence_array index = 0 }
		remove_from_array = { array = influence_array_val index = 0 }
		remove_from_array = { array = influence_array_calc index = 0 }
	}
	if = {
		limit = {
			check_variable = { influence_array_val^1 < 1 }
			check_variable = { influence_array^1 > 0 } #Index 2 - Second Largest Influencer
		}
		remove_from_array = { array = influence_array index = 1 }
		remove_from_array = { array = influence_array_val index = 1 }
		remove_from_array = { array = influence_array_calc index = 1 }
	}
	if = {
		limit = {
			check_variable = { influence_array_val^2 < 1 }
			check_variable = { influence_array^2 > 0 } #Index 3 - Third Largest Influencer
		}
		remove_from_array = { array = influence_array index = 2 }
		remove_from_array = { array = influence_array_val index = 2 }
		remove_from_array = { array = influence_array_calc index = 2 }
	}
	if = {
		limit = {
			check_variable = { influence_array_val^3 < 1 }
			check_variable = { influence_array^3 > 0 } #Index 4 - Fourth Largest Influencer
		}
		remove_from_array = { array = influence_array index = 3 }
		remove_from_array = { array = influence_array_val index = 3 }
		remove_from_array = { array = influence_array_calc index = 3 }
	}
	if = {
		limit = {
			check_variable = { influence_array_val^4 < 1 }
			check_variable = { influence_array^4 > 0 } #Index 5 - Fifth Largest Influencer
		}
		remove_from_array = { array = influence_array index = 4 }
		remove_from_array = { array = influence_array_val index = 4 }
		remove_from_array = { array = influence_array_calc index = 4 }
	}
	if = {
		limit = {
			check_variable = { influence_array_val^5 < 1 }
			check_variable = { influence_array^5 > 0 } #Index 6 - Sixth Largest Influencer
		}
		remove_from_array = { array = influence_array index = 5 }
		remove_from_array = { array = influence_array_val index = 5 }
		remove_from_array = { array = influence_array_calc index = 5 }
	}
	recalculate_influence = yes
}

##GENERIC SCRIPTED DOMESTIC EFFECTS

##Boost Domestic Influence
boost_domestic_influence_1_percent = {
	custom_effect_tooltip = increase_domestic_influence_1_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.01 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_2_percent = {
	custom_effect_tooltip = increase_domestic_influence_2_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.02 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_3_percent = {
	custom_effect_tooltip = increase_domestic_influence_3_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.03 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

boost_domestic_influence_4_percent = {
	custom_effect_tooltip = increase_domestic_influence_4_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.04 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_5_percent = {
	custom_effect_tooltip = increase_domestic_influence_5_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.05 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

boost_domestic_influence_6_percent = {
	custom_effect_tooltip = increase_domestic_influence_6_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.06 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_7_percent = {
	custom_effect_tooltip = increase_domestic_influence_7_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.07 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

boost_domestic_influence_8_percent = {
	custom_effect_tooltip = increase_domestic_influence_8_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.08 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_9_percent = {
	custom_effect_tooltip = increase_domestic_influence_9_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.09 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
boost_domestic_influence_10_percent = {
	custom_effect_tooltip = increase_domestic_influence_10_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.10 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

##Reduce Domestic influence
decrease_domestic_influence_1_percent = {
	custom_effect_tooltip = decrease_domestic_influence_1_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.01 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
decrease_domestic_influence_2_percent = {
	custom_effect_tooltip = decrease_domestic_influence_2_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.02 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
decrease_domestic_influence_3_percent = {
	custom_effect_tooltip = decrease_domestic_influence_3_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.03 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

decrease_domestic_influence_4_percent = {
	custom_effect_tooltip = decrease_domestic_influence_4_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.04 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
decrease_domestic_influence_5_percent = {
	custom_effect_tooltip = decrease_domestic_influence_5_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.05 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

decrease_domestic_influence_6_percent = {
	custom_effect_tooltip = decrease_domestic_influence_6_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.06 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
decrease_domestic_influence_7_percent = {
	custom_effect_tooltip = decrease_domestic_influence_7_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.07 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}


decrease_domestic_influence_8_percent = {
	custom_effect_tooltip = decrease_domestic_influence_8_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.08 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}
decrease_domestic_influence_9_percent = {
	custom_effect_tooltip = decrease_domestic_influence_9_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.09 } #2% Increase to Domestic support
		subtract_from_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		subtract_from_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

decrease_domestic_influence_10_percent = {
	custom_effect_tooltip = decrease_domestic_influence_10_percent_tt
	hidden_effect = {
		set_temp_variable = { influence_increase = influence_total }
		multiply_temp_variable = { influence_increase = 0.10 } #2% Increase to Domestic support
		add_to_variable = {
			var = domestic_influence_amount
			value = influence_increase
		}
		add_to_variable = { domestic_influence_amount = 20 }
		clamp_variable = { var = domestic_influence_amount min = 0 max = influence_total }
		delete_influencer_check = yes
		recalculate_influence = yes
	}
}

##Add to Top Influencer
increase_biggest_influencer_by_1_percent = {
	custom_effect_tooltip = increase_biggest_influencer_by_1_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^0
		value = influence_increase
	}
	add_to_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_biggest_influencer_by_2_percent = {
	custom_effect_tooltip = increase_biggest_influencer_by_2_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^0
		value = influence_increase
	}
	add_to_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_biggest_influencer_by_3_percent = {
	custom_effect_tooltip = increase_biggest_influencer_by_3_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^0
		value = influence_increase
	}
	add_to_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_biggest_influencer_by_4_percent = {
	custom_effect_tooltip = increase_biggest_influencer_by_4_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^0
		value = influence_increase
	}
	add_to_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_biggest_influencer_by_5_percent = {
	custom_effect_tooltip = increase_biggest_influencer_by_5_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^0
		value = influence_increase
	}
	add_to_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
##Reduction of Biggest Influencer
reduce_biggest_influencer_by_1_percent = {
	custom_effect_tooltip = attack_first_influence_1_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^0
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_biggest_influencer_by_2_percent = {
	custom_effect_tooltip = attack_first_influence_2_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^0
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_biggest_influencer_by_3_percent = {
	custom_effect_tooltip = attack_first_influence_3_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^0
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_biggest_influencer_by_4_percent = {
	custom_effect_tooltip = attack_first_influence_4_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^0
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_biggest_influencer_by_5_percent = {
	custom_effect_tooltip = attack_first_influence_5_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^0
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^0 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}

#SECOND BIGGEST INFLUENCER
increase_second_influencer_by_1_percent = {
	custom_effect_tooltip = increase_second_influencer_by_1_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^1
		value = influence_increase
	}
	add_to_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_second_influencer_by_2_percent = {
	custom_effect_tooltip = increase_second_influencer_by_2_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^1
		value = influence_increase
	}
	add_to_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_second_influencer_by_3_percent = {
	custom_effect_tooltip = increase_second_influencer_by_3_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^1
		value = influence_increase
	}
	add_to_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_second_influencer_by_4_percent = {
	custom_effect_tooltip = increase_second_influencer_by_4_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^1
		value = influence_increase
	}
	add_to_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_second_influencer_by_5_percent = {
	custom_effect_tooltip = increase_second_influencer_by_5_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^1
		value = influence_increase
	}
	add_to_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_second_influencer_by_1_percent = {
	custom_effect_tooltip = attack_second_influence_1_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^1
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_second_influencer_by_2_percent = {
	custom_effect_tooltip = attack_second_influence_2_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^1
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_second_influencer_by_3_percent = {
	custom_effect_tooltip = attack_second_influence_3_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^1
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_second_influencer_by_4_percent = {
	custom_effect_tooltip = attack_second_influence_4_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^1
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_second_influencer_by_5_percent = {
	custom_effect_tooltip = attack_second_influence_5_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^1
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^1 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}

#THIRD BIGGEST INFLUENCER
increase_third_influencer_by_1_percent = {
	custom_effect_tooltip = increase_third_influencer_by_1_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^2
		value = influence_increase
	}
	add_to_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_third_influencer_by_2_percent = {
	custom_effect_tooltip = increase_third_influencer_by_2_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^2
		value = influence_increase
	}
	add_to_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_third_influencer_by_3_percent = {
	custom_effect_tooltip = increase_third_influencer_by_3_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^2
		value = influence_increase
	}
	add_to_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_third_influencer_by_4_percent = {
	custom_effect_tooltip = increase_third_influencer_by_4_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^2
		value = influence_increase
	}
	add_to_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
increase_third_influencer_by_5_percent = {
	custom_effect_tooltip = increase_third_influencer_by_5_percent_tt
	set_temp_variable = { influence_increase = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Boost by 1%
	add_to_variable = {
		var = influence_array_val^2
		value = influence_increase
	}
	add_to_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_third_influencer_by_1_percent = {
	custom_effect_tooltip = attack_third_influence_1_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.01 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^2
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_third_influencer_by_2_percent = {
	custom_effect_tooltip = attack_third_influence_2_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.02 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^2
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_third_influencer_by_3_percent = {
	custom_effect_tooltip = attack_third_influence_3_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.03 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^2
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_third_influencer_by_4_percent = {
	custom_effect_tooltip = attack_third_influence_4_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.04 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^2
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}
reduce_third_influencer_by_5_percent = {
	custom_effect_tooltip = attack_third_influence_5_amount_TT
	set_temp_variable = { influence_reduce = influence_total }
	multiply_temp_variable = { influence_reduce = 0.05 } #Reduce by 4%
	subtract_from_variable = {
		var = influence_array_val^2
		value = influence_reduce
	}
	subtract_from_variable = { influence_array_val^2 = 10 } #Hardcoded 10 point reduction
	#Safeguard: #Removes any influencer if below 1%
	delete_influencer_check = yes
	recalculate_influence = yes
}

##General give influence of ROOT - ROOT being player country while THIS
generic_grant_1_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_1_percent_TT
}

generic_grant_2_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_5_percent_TT

}

generic_grant_6_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.06 } #6%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_6_percent_TT

}

generic_grant_7_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.07 } #7%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_7_percent_TT

}

generic_grant_8_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.08 } #8%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_8_percent_TT

}

generic_grant_9_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.09 } #9%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_9_percent_TT

}

generic_grant_10_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.10 } #10%
	multiply_temp_variable = {
		var = influence_gain
		value = ROOT.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ROOT_influence_10_percent_TT

}

generic_lower_10_percent_influence_of_ROOT = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.10 } #10%
	multiply_temp_variable = { influence_gain = -1 }
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ROOT }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ROOT.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ROOT_influence_10_percent_TT

}

##ADD to FROM
generic_grant_1_percent_influence_of_FROM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = FROM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FROM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FROM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FROM_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_FROM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FROM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FROM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FROM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FROM_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_FROM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = FROM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FROM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FROM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FROM_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_FROM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = FROM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FROM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FROM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FROM_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_FROM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = FROM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FROM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FROM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FROM_influence_5_percent_TT

}

generic_grant_1_percent_influence_of_PREV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = PREV.influence_multiplier
	} #PREV global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PREV_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_PREV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PREV.influence_multiplier
	} #PREV global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PREV_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_PREV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = PREV.influence_multiplier
	} #PREV global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PREV_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_PREV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = PREV.influence_multiplier
	} #PREV global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PREV_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_PREV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = PREV.influence_multiplier
	} #PREV global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PREV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PREV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PREV_influence_5_percent_TT

}

###DO NOT USE IF YOU WANT TO ADD TO THESE COUNTRIES: These are used for fringe cases like in the Nigeran tree where a focus gives American influence in Nigeria
#Tag Specific - USA
#USA GAIN
generic_grant_6_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.06 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_6_percent_TT

}
	
generic_grant_1_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = USA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_USA_influence_5_percent_TT

}

##LOWER USA
generic_lower_1_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_USA_influence_1_percent_TT
}


generic_lower_2_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_USA_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_USA_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_USA_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_USA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = USA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = USA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_USA_influence_5_percent_TT
}
#Tag Specific - CHI

generic_grant_1_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = CHI.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CHI_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = CHI.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CHI_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = CHI.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CHI_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = CHI.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CHI_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = CHI.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CHI_influence_5_percent_TT

}

##LOWER CHI
generic_lower_1_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CHI_influence_1_percent_TT
}


generic_lower_2_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CHI_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CHI_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CHI_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_CHI = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CHI }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CHI.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CHI_influence_5_percent_TT
}
#Tag Specific - PRC

generic_grant_1_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = PRC.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PRC_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PRC.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PRC_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = PRC.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PRC_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = PRC.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PRC_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = PRC.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PRC_influence_5_percent_TT

}

##LOWER PRC
generic_lower_1_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PRC_influence_1_percent_TT
}


generic_lower_2_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PRC_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PRC_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PRC_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_PRC = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PRC }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PRC.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PRC_influence_5_percent_TT
}

#Tag Specific - RAJ
#GAIN RAJ
generic_grant_1_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = RAJ.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_RAJ_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = RAJ.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_RAJ_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = RAJ.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_RAJ_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = RAJ.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_RAJ_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = RAJ.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_RAJ_influence_5_percent_TT

}

##LOWER RAJ
generic_lower_1_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_RAJ_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_RAJ_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_RAJ_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_RAJ_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_RAJ = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = RAJ }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = RAJ.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_RAJ_influence_5_percent_TT
}
#Tag Specific - DDR
#GAIN DDR
generic_grant_1_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = DDR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_DDR_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = DDR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_DDR_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = DDR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_DDR_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = DDR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_DDR_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = DDR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_DDR_influence_5_percent_TT

}

##LOWER DDR
generic_lower_1_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_DDR_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_DDR_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_DDR_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_DDR_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_DDR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = DDR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = DDR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_DDR_influence_5_percent_TT
}
#Tag Specific - FRA
#GAIN FRA
generic_grant_1_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #1%
	multiply_temp_variable = {
		var = influence_gain
		value = FRA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FRA_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FRA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FRA_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #3%
	multiply_temp_variable = {
		var = influence_gain
		value = FRA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FRA_influence_3_percent_TT

}

generic_grant_4_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = FRA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FRA_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = FRA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FRA_influence_5_percent_TT

}

##LOWER FRA
generic_lower_1_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FRA_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FRA_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FRA_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FRA_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_FRA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FRA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FRA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FRA_influence_5_percent_TT
}

#Tag Specific - SOV
#Grant SOV influence
generic_grant_1_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SOV.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SOV.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SOV_influence_1_percent_TT

}
generic_grant_2_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SOV.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SOV.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SOV_influence_2_percent_TT

}
generic_grant_3_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SOV.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SOV.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SOV_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SOV.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SOV.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SOV_influence_4_percent_TT

}
generic_grant_5_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = SOV.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SOV.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SOV_influence_5_percent_TT

}

generic_lower_1_percent_influence_of_SOV = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SOV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SOV_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SOV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SOV_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SOV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SOV_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SOV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SOV_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_SOV = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SOV }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SOV.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SOV_influence_5_percent_TT
}

#Tag Specific - ENG
#Grant ENG influence
generic_grant_1_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ENG.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ENG.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ENG_influence_1_percent_TT

}
generic_grant_2_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ENG.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ENG.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ENG_influence_2_percent_TT

}
generic_grant_3_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ENG.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ENG.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ENG_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ENG.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ENG.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ENG_influence_4_percent_TT

}
generic_grant_5_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = ENG.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ENG.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ENG_influence_5_percent_TT

}

generic_lower_1_percent_influence_of_ENG = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ENG.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ENG_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ENG.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ENG_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ENG.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ENG_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ENG.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ENG_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_ENG = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ENG }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ENG.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ENG_influence_5_percent_TT
}

#Tag Specific - PER
generic_grant_1_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PER.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = PER.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PER_influence_1_percent_TT

}
generic_grant_2_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PER.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = PER.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PER_influence_2_percent_TT

}
generic_grant_3_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PER.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = PER.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PER_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = PER.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = PER.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PER_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = PER.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = PER.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_PER_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_PER = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PER.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PER_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PER.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PER_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PER.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PER_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PER.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PER_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_PER = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = PER }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = PER.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_PER_influence_5_percent_TT
}
#Tag Specific - SAU
generic_grant_1_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SAU.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SAU.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SAU_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SAU.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SAU.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SAU_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SAU.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SAU.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SAU_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = SAU.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SAU.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SAU_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = SAU.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = SAU.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_SAU_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_SAU = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SAU.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SAU_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SAU.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SAU_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SAU.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SAU_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SAU.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SAU_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_SAU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = SAU }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = SAU.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_SAU_influence_5_percent_TT
}
#Tag Specific - NGA
generic_grant_1_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = NGA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = NGA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_NGA_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = NGA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = NGA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_NGA_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = NGA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = NGA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_NGA_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = NGA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = NGA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_NGA_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = NGA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = NGA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_NGA_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_NGA = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = NGA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_NGA_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = NGA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_NGA_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = NGA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_NGA_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = NGA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_NGA_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_NGA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = NGA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = NGA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_NGA_influence_5_percent_TT
}
#Tag Specific - CAN
generic_grant_1_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = CAN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = CAN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CAN_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = CAN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = CAN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CAN_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = CAN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = CAN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CAN_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = CAN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = CAN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CAN_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = CAN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = CAN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_CAN_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_CAN = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CAN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CAN_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CAN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CAN_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CAN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CAN_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CAN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CAN_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_CAN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = CAN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = CAN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_CAN_influence_5_percent_TT
}
#Tag Specific - JAP
generic_grant_1_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = JAP.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = JAP.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_JAP_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = JAP.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = JAP.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_JAP_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = JAP.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = JAP.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_JAP_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = JAP.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = JAP.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_JAP_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = JAP.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = JAP.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_JAP_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_JAP = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = JAP.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_JAP_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = JAP.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_JAP_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = JAP.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_JAP_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = JAP.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_JAP_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_JAP = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = JAP }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = JAP.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_JAP_influence_5_percent_TT
}
#Tag Specific - ITA
generic_grant_1_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ITA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ITA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ITA_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ITA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ITA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ITA_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ITA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ITA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ITA_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = ITA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ITA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ITA_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = ITA.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = ITA.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_ITA_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_ITA = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ITA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ITA_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ITA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ITA_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ITA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ITA_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ITA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ITA_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_ITA = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = ITA }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = ITA.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_ITA_influence_5_percent_TT
}
#Tag Specific - MEX
generic_grant_1_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = MEX.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = MEX.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_MEX_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = MEX.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = MEX.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_MEX_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = MEX.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = MEX.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_MEX_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = MEX.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = MEX.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_MEX_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = MEX.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = MEX.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_MEX_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_MEX = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = MEX.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_MEX_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = MEX.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_MEX_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = MEX.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_MEX_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = MEX.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_MEX_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_MEX = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = MEX }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = MEX.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_MEX_influence_5_percent_TT
}
#Tag Specific - GRE
generic_grant_1_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = GRE.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = GRE.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_GRE_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = GRE.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = GRE.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_GRE_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = GRE.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = GRE.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_GRE_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = GRE.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = GRE.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_GRE_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = GRE.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = GRE.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_GRE_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_GRE = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = GRE.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_GRE_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = GRE.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_GRE_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = GRE.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_GRE_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = GRE.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_GRE_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_GRE = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = GRE }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = GRE.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_GRE_influence_5_percent_TT
}
#Tag Specific - BRM
generic_grant_1_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = BRM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = BRM.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_BRM_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = BRM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = BRM.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_BRM_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = BRM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = BRM.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_BRM_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = BRM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = BRM.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_BRM_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = BRM.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = BRM.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_BRM_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_BRM = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = BRM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_BRM_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = BRM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_BRM_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = BRM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_BRM_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = BRM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_BRM_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_BRM = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = BRM }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = BRM.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_BRM_influence_5_percent_TT
}
#Tag Specific - KOR
generic_grant_1_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = KOR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = KOR.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_KOR_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = KOR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = KOR.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_KOR_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = KOR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = KOR.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_KOR_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = KOR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = KOR.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_KOR_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = KOR.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = KOR.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_KOR_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_KOR = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = KOR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_KOR_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = KOR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_KOR_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = KOR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_KOR_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = KOR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_KOR_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_KOR = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = KOR }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = KOR.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_KOR_influence_5_percent_TT
}
#Tag Specific - FIN
generic_grant_1_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.01 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FIN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = FIN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FIN_influence_1_percent_TT

}

generic_grant_2_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FIN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = FIN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FIN_influence_2_percent_TT

}

generic_grant_3_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FIN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = FIN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FIN_influence_3_percent_TT

}
generic_grant_4_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 } #2%
	multiply_temp_variable = {
		var = influence_gain
		value = FIN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = FIN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FIN_influence_4_percent_TT

}

generic_grant_5_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #5%
	multiply_temp_variable = {
		var = influence_gain
		value = FIN.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debuggin value to prevent additions of 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
			add_to_array = { influence_array = FIN.id }
			add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_FIN_influence_5_percent_TT

}
generic_lower_1_percent_influence_of_FIN = { #These might cause some issues if the nation no longer has influence
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FIN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FIN_influence_1_percent_TT
}

generic_lower_2_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.02 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FIN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FIN_influence_2_percent_TT
}

generic_lower_3_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.03 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FIN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FIN_influence_3_percent_TT
}

generic_lower_4_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.04 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FIN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FIN_influence_4_percent_TT
}

generic_lower_5_percent_influence_of_FIN = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 }
	#Flip to Reduce - vice versa
	multiply_temp_variable = { influence_gain = -1 }
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = FIN }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = FIN.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = decrease_FIN_influence_5_percent_TT
}

#Script to run after any change to influence
monthly_power_projection_gain = {
	set_variable = { foreignPowerProjection_Factories = num_of_factories }
	divide_variable = { foreignPowerProjection_Factories = 100 }
	set_variable = { foreignPowerProjectionMonth = foreignPowerProjection_Factories }

	set_variable = { foreignPowerProjection_Subjects = 0 }
	if = {
		limit = { num_subjects > 0 }
		for_each_scope_loop = {
			array = subjects
			add_to_variable = { ROOT.foreignPowerProjection_Subjects = grossdomesticproduct_fake }
			#log = "[Root.GetTag]: Puppet: [This.GetTag] / GDP: [?grossdomesticproduct_fake]"
		}
	}
	add_to_variable = { var = foreignPowerProjectionMonth value = foreignPowerProjection_Subjects }

	set_variable = { foreignPowerProjection_GDP = grossdomesticproduct_fake }
	add_to_variable = { var = foreignPowerProjectionMonth value = foreignPowerProjection_GDP }
	#log = "[Root.GetTag]: States: [?num_owned_controlled_states] / GDP: [?grossdomesticproduct_fake]"

	set_variable = { foreignPowerProjection_space_race = 0 } # monthly FPP from Space Race
	if = {
		limit = { check_variable = { global.top_space_race_array_country^0 = ROOT.Id } }
		set_variable = { foreignPowerProjection_space_race = 3 }
	}
	else_if = {
		limit = { check_variable = { global.top_space_race_array_country^1 = ROOT.Id } }
		set_variable = { foreignPowerProjection_space_race = 2 }
	}
	else_if = {
		limit = { check_variable = { global.top_space_race_array_country^2 = ROOT.Id } }
		set_variable = { foreignPowerProjection_space_race = 1 }
	}
	add_to_variable = { var = foreignPowerProjectionMonth value = foreignPowerProjection_space_race }

	if = {
		limit = {
			tag = USA
			has_idea = foriegn_assistance_act
		}
		multiply_variable = { foreignPowerProjectionMonth = 1.25 }
	}
	if = {
		limit = {
			has_idea = influence_increase_cost
		}
		multiply_variable = { influence_increase_cost = 0.5 }
	}
	#log = "[Root.GetTag]: (factories: [?foreignPowerProjection_Factories] + subjects: [?foreignPowerProjection_Subjects] + GDP: [?foreignPowerProjection_GDP]) = [?foreignPowerProjectionMonth]"
	add_to_variable = { foreignPowerProjection = foreignPowerProjectionMonth }
	
}

monthly_set_fpp = {
	clear_variable = fppDomestic
	clear_variable = fppDomesticDoubled
	clear_variable = fppDomesticSet
	
	set_variable = { fppDomestic = num_of_factories }
	add_to_variable = { fppDomestic = num_subjects }
	add_to_variable = { fppDomestic = num_owned_controlled_states }
	add_to_variable = { fppDomestic = num_of_nukes }
	add_to_variable = { fppDomestic = num_divisions }
	add_to_variable = { fppDomestic = bonus_fpp_modifier } # this bonus doesn't seem to exist - Harain

	set_variable = { fppDomesticSet = fppDomestic }
	multiply_variable = { fppDomestic = 2 }
	set_variable = { fppDomesticDoubled = fppDomestic }
	
}


fifty_point_influence_gain = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_to_variable = { influencer1_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_to_variable = { influencer2_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_to_variable = { influencer3_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_to_variable = { influencer4_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_to_variable = { influencer5_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_to_variable = { influencer6_amount = 50 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_to_variable = { influencer7_amount = 50 }
	}
}
twenty_five_point_influence_gain = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_to_variable = { influencer1_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_to_variable = { influencer2_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_to_variable = { influencer3_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_to_variable = { influencer4_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_to_variable = { influencer5_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_to_variable = { influencer6_amount = 25 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_to_variable = { influencer7_amount = 25 }
	}
}
hundred_point_influence_gain = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_to_variable = { influencer1_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_to_variable = { influencer2_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_to_variable = { influencer3_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_to_variable = { influencer4_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_to_variable = { influencer5_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_to_variable = { influencer6_amount = 100 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_to_variable = { influencer7_amount = 100 }
	}
}
hundred_point_influence_cost = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_to_variable = { influencer1_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_to_variable = { influencer2_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_to_variable = { influencer3_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_to_variable = { influencer4_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_to_variable = { influencer5_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_to_variable = { influencer6_amount = -100 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_to_variable = { influencer7_amount = -100 }
	}
}

three_hundred_point_influence_gain = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_to_variable = { influencer1_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_to_variable = { influencer2_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_to_variable = { influencer3_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_to_variable = { influencer4_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_to_variable = { influencer5_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_to_variable = { influencer6_amount = 300 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_to_variable = { influencer7_amount = 300 }
	}
}

establish_influencer_tag = {
	if = { limit = { NOT = { has_variable = influencer1 } }
		set_variable = { influencer1 = ROOT.id }
	}
	if = {
		limit = {
			NOT = {
				has_variable = influencer2
			}	
		}
		set_variable = { influencer2 = ROOT.id }
	}	
	if = {
		limit = {
			NOT = {
				has_variable = influencer3
			}	
		}
		set_variable = { influencer3 = ROOT.id }
	}	
	if = {
		limit = {
			NOT = {
				has_variable = influencer4
			}	
		}
		set_variable = { influencer4 = ROOT.id }
	}	
	if = {
		limit = {
			NOT = {
				has_variable = influencer5
			}	
		}
		set_variable = { influencer5 = ROOT.id }
	}	
	if = {
		limit = {
			NOT = {
				has_variable = influencer6
			}	
		}
		set_variable = { influencer6 = ROOT.id }
	}	
	if = {
		limit = {
			NOT = {
				has_variable = influencer7
			}	
		}
		set_variable = { influencer7 = ROOT.id }
	}	
}

find_largest_influence = {
	set_variable = { prevmax = 0 }
	if = {
		limit = { NOT = { has_country_flag = found_1 } check_variable = { influencer1_amount_calc > prevmax } }
		set_variable = { prevmax = influencer1_amount_calc }
		set_variable = { var_ID = 1 }
	}	
	if = {
		limit = { NOT = { has_country_flag = found_2 } check_variable = { influencer2_amount_calc > prevmax } }
		set_variable = { prevmax = influencer2_amount_calc } 
		set_variable = { var_ID = 2 }
	}
	if = {
		limit = { NOT = { has_country_flag = found_3 } check_variable = { influencer3_amount_calc > prevmax } }
		set_variable = { prevmax = influencer3_amount_calc } 
		set_variable = { var_ID = 3 }
	}
	if = {
		limit = { NOT = { has_country_flag = found_4 } check_variable = { influencer4_amount_calc > prevmax } }
		set_variable = { prevmax = influencer4_amount_calc } 
		set_variable = { var_ID = 4 }
	}
	if = {
		limit = { NOT = { has_country_flag = found_5 } check_variable = { influencer5_amount_calc > prevmax } }
		set_variable = { prevmax = influencer5_amount_calc } 
		set_variable = { var_ID = 5 }
	}
	if = {
		limit = { NOT = { has_country_flag = found_6 } check_variable = { influencer6_amount_calc > prevmax } }
		set_variable = { prevmax = influencer6_amount_calc } 
		set_variable = { var_ID = 6 }
	}
	if = {
		limit = { NOT = { has_country_flag = found_7 } check_variable = { influencer7_amount_calc > prevmax } }
		set_variable = { prevmax = influencer7_amount_calc } 
		set_variable = { var_ID = 7 }
	}
	
	#Largest Found, now setting position
	if = { limit = { check_variable = { var_ID = 1 } } 
		set_country_flag = found_1
		set_variable = { influencer1_position = found_num_vars }
	}	
	else_if = { limit = { check_variable = { var_ID = 2 } } 
		set_country_flag = found_2
		set_variable = { influencer2_position = found_num_vars }
	}
	else_if = { limit = { check_variable = { var_ID = 3 } } 
		set_country_flag = found_3
		set_variable = { influencer3_position = found_num_vars }
	}
	else_if = { limit = { check_variable = { var_ID = 4 } } 
		set_country_flag = found_4
		set_variable = { influencer4_position = found_num_vars }
	}
	else_if = { limit = { check_variable = { var_ID = 5 } } 
		set_country_flag = found_5
		set_variable = { influencer5_position = found_num_vars }
	}
	else_if = { limit = { check_variable = { var_ID = 6 } } 
		set_country_flag = found_6
		set_variable = { influencer6_position = found_num_vars }
	}
	else_if = { limit = { check_variable = { var_ID = 7 } } 
		set_country_flag = found_7
		set_variable = { influencer7_position = found_num_vars }
	}
	clear_variable = var_ID
	clear_variable = prevmax
}

check_influence_cleanup = {

	if = { limit = { has_country_flag = found_1 } 
		clr_country_flag = found_1
	}
	if = { limit = { has_country_flag = found_2 } 
		clr_country_flag = found_2
	}
	if = { limit = { has_country_flag = found_3 } 
		clr_country_flag = found_3
	}
	if = { limit = { has_country_flag = found_4 } 
		clr_country_flag = found_4
	}
	if = { limit = { has_country_flag = found_5 } 
		clr_country_flag = found_5
	}
	if = { limit = { has_country_flag = found_6 } 
		clr_country_flag = found_6
	}
	if = { limit = { has_country_flag = found_7 } 
		clr_country_flag = found_7
	}
}	

sign_trade_agreement = {
	if = { limit = { tag = GER } ROOT = { add_ideas = trade_treaty_GER	}	}
	if = { limit = { tag = ENG } ROOT = { add_ideas = trade_treaty_ENG	}	}
	if = { limit = { tag = SOV } ROOT = { add_ideas = trade_treaty_SOV	}	}
	if = { limit = { tag = SWE } ROOT = { add_ideas = trade_treaty_SWE	}	}
	if = { limit = { tag = FRA } ROOT = { add_ideas = trade_treaty_FRA	}	}
	if = { limit = { tag = LUX } ROOT = { add_ideas = trade_treaty_LUX	}	}
	if = { limit = { tag = BEL } ROOT = { add_ideas = trade_treaty_BEL	}	}
	if = { limit = { tag = HOL } ROOT = { add_ideas = trade_treaty_HOL	}	}
	if = { limit = { tag = CZE } ROOT = { add_ideas = trade_treaty_CZE	}	}
	if = { limit = { tag = POL } ROOT = { add_ideas = trade_treaty_POL	}	}
	if = { limit = { tag = AUS } ROOT = { add_ideas = trade_treaty_AUS	}	}
	if = { limit = { tag = LIT } ROOT = { add_ideas = trade_treaty_LIT	}	}
	if = { limit = { tag = EST } ROOT = { add_ideas = trade_treaty_EST	}	}
	if = { limit = { tag = LAT } ROOT = { add_ideas = trade_treaty_LAT	}	}
	if = { limit = { tag = SPR } ROOT = { add_ideas = trade_treaty_SPR	}	}
	if = { limit = { tag = ITA } ROOT = { add_ideas = trade_treaty_ITA	}	}
	if = { limit = { tag = ROM } ROOT = { add_ideas = trade_treaty_ROM	}	}
	if = { limit = { tag = YUG } ROOT = { add_ideas = trade_treaty_YUG	}	}
	if = { limit = { tag = SER } ROOT = { add_ideas = trade_treaty_SER	}	}
	if = { limit = { tag = SWI } ROOT = { add_ideas = trade_treaty_SWI	}	}
	if = { limit = { tag = TUR } ROOT = { add_ideas = trade_treaty_TUR	}	}
	if = { limit = { tag = GRE } ROOT = { add_ideas = trade_treaty_GRE	}	}
	if = { limit = { tag = ALB } ROOT = { add_ideas = trade_treaty_ALB	}	}
	if = { limit = { tag = NOR } ROOT = { add_ideas = trade_treaty_NOR	}	}
	if = { limit = { tag = DEN } ROOT = { add_ideas = trade_treaty_DEN	}	}
	if = { limit = { tag = BUL } ROOT = { add_ideas = trade_treaty_BUL	}	}
	if = { limit = { tag = POR } ROOT = { add_ideas = trade_treaty_POR	}	}
	if = { limit = { tag = FIN } ROOT = { add_ideas = trade_treaty_FIN	}	}
	if = { limit = { tag = IRE } ROOT = { add_ideas = trade_treaty_IRE	}	}
	if = { limit = { tag = HUN } ROOT = { add_ideas = trade_treaty_HUN	}	}
	if = { limit = { tag = AFG } ROOT = { add_ideas = trade_treaty_AFG	}	}
	if = { limit = { tag = ARG } ROOT = { add_ideas = trade_treaty_ARG	}	}
	if = { limit = { tag = AST } ROOT = { add_ideas = trade_treaty_AST	}	}
	if = { limit = { tag = BHU } ROOT = { add_ideas = trade_treaty_BHU	}	}
	if = { limit = { tag = BOL } ROOT = { add_ideas = trade_treaty_BOL	}	}
	if = { limit = { tag = BRA } ROOT = { add_ideas = trade_treaty_BRA	}	}
	if = { limit = { tag = CAN } ROOT = { add_ideas = trade_treaty_CAN	}	}
	if = { limit = { tag = CHI } ROOT = { add_ideas = trade_treaty_CHI	}	}
	if = { limit = { tag = CHL } ROOT = { add_ideas = trade_treaty_CHL	}	}
	if = { limit = { tag = COL } ROOT = { add_ideas = trade_treaty_COL	}	}
	if = { limit = { tag = COS } ROOT = { add_ideas = trade_treaty_COS	}	}
	if = { limit = { tag = ECU } ROOT = { add_ideas = trade_treaty_ECU	}	}
	if = { limit = { tag = ELS } ROOT = { add_ideas = trade_treaty_ELS	}	}
	if = { limit = { tag = ETH } ROOT = { add_ideas = trade_treaty_ETH	}	}
	if = { limit = { tag = GUA } ROOT = { add_ideas = trade_treaty_GUA	}	}
	if = { limit = { tag = HON } ROOT = { add_ideas = trade_treaty_HON	}	}
	if = { limit = { tag = IRQ } ROOT = { add_ideas = trade_treaty_IRQ	}	}
	if = { limit = { tag = JAP } ROOT = { add_ideas = trade_treaty_JAP	}	}
	if = { limit = { tag = KOR } ROOT = { add_ideas = trade_treaty_KOR	}	}
	if = { limit = { tag = LIB } ROOT = { add_ideas = trade_treaty_LIB	}	}
	if = { limit = { tag = MEX } ROOT = { add_ideas = trade_treaty_MEX	}	}
	if = { limit = { tag = MEN } ROOT = { add_ideas = trade_treaty_MEN	}	}
	if = { limit = { tag = NEP } ROOT = { add_ideas = trade_treaty_NEP	}	}
	if = { limit = { tag = NIC } ROOT = { add_ideas = trade_treaty_NIC	}	}
	if = { limit = { tag = NZL } ROOT = { add_ideas = trade_treaty_NZL	}	}
	if = { limit = { tag = PAN } ROOT = { add_ideas = trade_treaty_PAN	}	}
	if = { limit = { tag = PER } ROOT = { add_ideas = trade_treaty_PER	}	}
	if = { limit = { tag = "PHI" } ROOT = { add_ideas = trade_treaty_PHI	}	}
	if = { limit = { tag = PRU } ROOT = { add_ideas = trade_treaty_PRU	}	}
	if = { limit = { tag = SAF } ROOT = { add_ideas = trade_treaty_SAF	}	}
	if = { limit = { tag = SAU } ROOT = { add_ideas = trade_treaty_SAU	}	}
	if = { limit = { tag = SIA } ROOT = { add_ideas = trade_treaty_SIA	}	}
	if = { limit = { tag = SIK } ROOT = { add_ideas = trade_treaty_SIK	}	}
	if = { limit = { tag = TIB } ROOT = { add_ideas = trade_treaty_TIB	}	}
	if = { limit = { tag = URG } ROOT = { add_ideas = trade_treaty_URG	}	}
	if = { limit = { tag = VEN } ROOT = { add_ideas = trade_treaty_VEN	}	}
	if = { limit = { tag = YUN } ROOT = { add_ideas = trade_treaty_YUN	}	}
	if = { limit = { tag = USA } ROOT = { add_ideas = trade_treaty_USA	}	}
	if = { limit = { tag = MON } ROOT = { add_ideas = trade_treaty_MON	}	}
	if = { limit = { tag = MNT } ROOT = { add_ideas = trade_treaty_MNT	}	}
	if = { limit = { tag = PAR } ROOT = { add_ideas = trade_treaty_PAR	}	}
	if = { limit = { tag = CUB } ROOT = { add_ideas = trade_treaty_CUB	}	}
	if = { limit = { tag = DOM } ROOT = { add_ideas = trade_treaty_DOM	}	}
	if = { limit = { tag = HAI } ROOT = { add_ideas = trade_treaty_HAI	}	}
	if = { limit = { tag = YEM } ROOT = { add_ideas = trade_treaty_YEM	}	}
	if = { limit = { tag = OMA } ROOT = { add_ideas = trade_treaty_OMA	}	}
	if = { limit = { tag = SLO } ROOT = { add_ideas = trade_treaty_SLO	}	}
	if = { limit = { tag = RAJ } ROOT = { add_ideas = trade_treaty_RAJ	}	}
	if = { limit = { tag = CRO } ROOT = { add_ideas = trade_treaty_CRO	}	}
	if = { limit = { tag = PRC } ROOT = { add_ideas = trade_treaty_PRC	}	}
	if = { limit = { tag = SRL } ROOT = { add_ideas = trade_treaty_SRL	}	}
	if = { limit = { tag = BAH } ROOT = { add_ideas = trade_treaty_BAH	}	}
	if = { limit = { tag = RIF } ROOT = { add_ideas = trade_treaty_RIF	}	}
	if = { limit = { tag = ICE } ROOT = { add_ideas = trade_treaty_ICE	}	}
	if = { limit = { tag = LEB } ROOT = { add_ideas = trade_treaty_LEB	}	}
	if = { limit = { tag = JOR } ROOT = { add_ideas = trade_treaty_JOR	}	}
	if = { limit = { tag = SYR } ROOT = { add_ideas = trade_treaty_SYR	}	}
	if = { limit = { tag = EGY } ROOT = { add_ideas = trade_treaty_EGY	}	}
	if = { limit = { tag = LBA } ROOT = { add_ideas = trade_treaty_LBA	}	}
	if = { limit = { tag = WGR } ROOT = { add_ideas = trade_treaty_WGR	}	}
	if = { limit = { tag = DDR } ROOT = { add_ideas = trade_treaty_DDR	}	}
	if = { limit = { tag = PAL } ROOT = { add_ideas = trade_treaty_PAL	}	}
	if = { limit = { tag = ISR } ROOT = { add_ideas = trade_treaty_ISR	}	}
	if = { limit = { tag = VIN } ROOT = { add_ideas = trade_treaty_VIN	}	}
	if = { limit = { tag = CAM } ROOT = { add_ideas = trade_treaty_CAM	}	}
	if = { limit = { tag = MAL } ROOT = { add_ideas = trade_treaty_MAL	}	}
	if = { limit = { tag = INS } ROOT = { add_ideas = trade_treaty_INS	}	}
	if = { limit = { tag = LAO } ROOT = { add_ideas = trade_treaty_LAO	}	}
	if = { limit = { tag = UKR } ROOT = { add_ideas = trade_treaty_UKR	}	}
	if = { limit = { tag = GEO } ROOT = { add_ideas = trade_treaty_GEO	}	}
	if = { limit = { tag = AZR } ROOT = { add_ideas = trade_treaty_AZR	}	}
	if = { limit = { tag = ARM } ROOT = { add_ideas = trade_treaty_ARM	}	}
	if = { limit = { tag = BLR } ROOT = { add_ideas = trade_treaty_BLR	}	}
	if = { limit = { tag = ANG } ROOT = { add_ideas = trade_treaty_ANG	}	}
	if = { limit = { tag = MZB } ROOT = { add_ideas = trade_treaty_MZB	}	}
	if = { limit = { tag = ZIM } ROOT = { add_ideas = trade_treaty_ZIM	}	}
	if = { limit = { tag = COG } ROOT = { add_ideas = trade_treaty_COG	}	}
	if = { limit = { tag = BOT } ROOT = { add_ideas = trade_treaty_BOT	}	}
	if = { limit = { tag = UAE } ROOT = { add_ideas = trade_treaty_UAE	}	}
	if = { limit = { tag = QAT } ROOT = { add_ideas = trade_treaty_QAT	}	}
	if = { limit = { tag = VTC } ROOT = { add_ideas = trade_treaty_VTC	}	}
	if = { limit = { tag = SNM } ROOT = { add_ideas = trade_treaty_SNM	}	}
	if = { limit = { tag = MOC } ROOT = { add_ideas = trade_treaty_MOC	}	}
	if = { limit = { tag = LIC } ROOT = { add_ideas = trade_treaty_LIC	}	}
	if = { limit = { tag = ZAZ } ROOT = { add_ideas = trade_treaty_ZAZ	}	}
	if = { limit = { tag = TNG } ROOT = { add_ideas = trade_treaty_TNG	}	}
	if = { limit = { tag = CAL } ROOT = { add_ideas = trade_treaty_CAL	}	}
	if = { limit = { tag = PMR } ROOT = { add_ideas = trade_treaty_PMR	}	}
	if = { limit = { tag = BAV } ROOT = { add_ideas = trade_treaty_BAV	}	}
	if = { limit = { tag = SMO } ROOT = { add_ideas = trade_treaty_SMO	}	}
	if = { limit = { tag = TOA } ROOT = { add_ideas = trade_treaty_TOA	}	}
	if = { limit = { tag = GRN } ROOT = { add_ideas = trade_treaty_GRN	}	}
	if = { limit = { tag = WES } ROOT = { add_ideas = trade_treaty_WES	}	}
	if = { limit = { tag = PUE } ROOT = { add_ideas = trade_treaty_PUE	}	}
	if = { limit = { tag = FCB } ROOT = { add_ideas = trade_treaty_FCB	}	}
	if = { limit = { tag = MLA } ROOT = { add_ideas = trade_treaty_MLA	}	}
	if = { limit = { tag = SLV } ROOT = { add_ideas = trade_treaty_SLV	}	}
	if = { limit = { tag = KOS } ROOT = { add_ideas = trade_treaty_KOS	}	}
	if = { limit = { tag = PDG } ROOT = { add_ideas = trade_treaty_PDG	}	}
	if = { limit = { tag = INO } ROOT = { add_ideas = trade_treaty_INO	}	}
	if = { limit = { tag = VIE } ROOT = { add_ideas = trade_treaty_VIE	}	}
	if = { limit = { tag = BRM } ROOT = { add_ideas = trade_treaty_BRM	}	}
	if = { limit = { tag = PAK } ROOT = { add_ideas = trade_treaty_PAK	}	}
	if = { limit = { tag = KPA } ROOT = { add_ideas = trade_treaty_KPA	}	}
	if = { limit = { tag = CHE } ROOT = { add_ideas = trade_treaty_CHE	}	}
	if = { limit = { tag = SAR } ROOT = { add_ideas = trade_treaty_SAR	}	}
	if = { limit = { tag = AND } ROOT = { add_ideas = trade_treaty_AND	}	}
	if = { limit = { tag = TRS } ROOT = { add_ideas = trade_treaty_TRS	}	}
	if = { limit = { tag = LOS } ROOT = { add_ideas = trade_treaty_LOS	}	}
	if = { limit = { tag = KMP } ROOT = { add_ideas = trade_treaty_KMP	}	}
	if = { limit = { tag = KUR } ROOT = { add_ideas = trade_treaty_KUR	}	}
	if = { limit = { tag = DRY } ROOT = { add_ideas = trade_treaty_DRY	}	}
	if = { limit = { tag = SUD } ROOT = { add_ideas = trade_treaty_SUD	}	}
	if = { limit = { tag = GHA } ROOT = { add_ideas = trade_treaty_GHA	}	}
	if = { limit = { tag = NGA } ROOT = { add_ideas = trade_treaty_NGA	}	}
	if = { limit = { tag = SOM } ROOT = { add_ideas = trade_treaty_SOM	}	}
	if = { limit = { tag = CYP } ROOT = { add_ideas = trade_treaty_CYP	}	}
	if = { limit = { tag = UGA } ROOT = { add_ideas = trade_treaty_UGA	}	}
	if = { limit = { tag = JAM } ROOT = { add_ideas = trade_treaty_JAM	}	}
	if = { limit = { tag = TRI } ROOT = { add_ideas = trade_treaty_TRI	}	}
	if = { limit = { tag = LES } ROOT = { add_ideas = trade_treaty_LES	}	}
	if = { limit = { tag = SWA } ROOT = { add_ideas = trade_treaty_SWA	}	}
	if = { limit = { tag = ZAM } ROOT = { add_ideas = trade_treaty_ZAM	}	}
	if = { limit = { tag = TZN } ROOT = { add_ideas = trade_treaty_TZN	}	}
	if = { limit = { tag = KUW } ROOT = { add_ideas = trade_treaty_KUW	}	}
	if = { limit = { tag = MOR } ROOT = { add_ideas = trade_treaty_MOR	}	}
	if = { limit = { tag = TUN } ROOT = { add_ideas = trade_treaty_TUN	}	}
	if = { limit = { tag = ALG } ROOT = { add_ideas = trade_treaty_ALG	}	}
	if = { limit = { tag = BRU } ROOT = { add_ideas = trade_treaty_BRU	}	}
	if = { limit = { tag = MLI } ROOT = { add_ideas = trade_treaty_MLI	}	}
	if = { limit = { tag = NGR } ROOT = { add_ideas = trade_treaty_NGR	}	}
	if = { limit = { tag = VOL } ROOT = { add_ideas = trade_treaty_VOL	}	}
	if = { limit = { tag = GNA } ROOT = { add_ideas = trade_treaty_GNA	}	}
	if = { limit = { tag = MRT } ROOT = { add_ideas = trade_treaty_MRT	}	}
	if = { limit = { tag = TOG } ROOT = { add_ideas = trade_treaty_TOG	}	}
	if = { limit = { tag = DAH } ROOT = { add_ideas = trade_treaty_DAH	}	}
	if = { limit = { tag = SEN } ROOT = { add_ideas = trade_treaty_SEN	}	}
	if = { limit = { tag = CHA } ROOT = { add_ideas = trade_treaty_CHA	}	}
	if = { limit = { tag = IVO } ROOT = { add_ideas = trade_treaty_IVO	}	}
	if = { limit = { tag = MLW } ROOT = { add_ideas = trade_treaty_MLW	}	}
	if = { limit = { tag = MOL } ROOT = { add_ideas = trade_treaty_MOL	}	}
	if = { limit = { tag = KAZ } ROOT = { add_ideas = trade_treaty_KAZ	}	}
	if = { limit = { tag = UZB } ROOT = { add_ideas = trade_treaty_UZB	}	}
	if = { limit = { tag = TAJ } ROOT = { add_ideas = trade_treaty_TAJ	}	}
	if = { limit = { tag = KYR } ROOT = { add_ideas = trade_treaty_KYR	}	}
	if = { limit = { tag = TMS } ROOT = { add_ideas = trade_treaty_TMS	}	}
	if = { limit = { tag = KRL } ROOT = { add_ideas = trade_treaty_KRL	}	}
	if = { limit = { tag = TAL } ROOT = { add_ideas = trade_treaty_TAL	}	}
	if = { limit = { tag = ADR } ROOT = { add_ideas = trade_treaty_ADR	}	}
	if = { limit = { tag = SSU } ROOT = { add_ideas = trade_treaty_SSU	}	}
	if = { limit = { tag = RNA } ROOT = { add_ideas = trade_treaty_RNA	}	}
	if = { limit = { tag = CSD } ROOT = { add_ideas = trade_treaty_CSD	}	}
	if = { limit = { tag = NCY } ROOT = { add_ideas = trade_treaty_NCY	}	}
	if = { limit = { tag = BAL } ROOT = { add_ideas = trade_treaty_BAL	}	}
	if = { limit = { tag = BAN } ROOT = { add_ideas = trade_treaty_BAN	}	}
	if = { limit = { tag = ASA } ROOT = { add_ideas = trade_treaty_ASA	}	}
	if = { limit = { tag = KHA } ROOT = { add_ideas = trade_treaty_KHA	}	}
	if = { limit = { tag = KAS } ROOT = { add_ideas = trade_treaty_KAS	}	}
	if = { limit = { tag = CTL } ROOT = { add_ideas = trade_treaty_CTL	}	}
	if = { limit = { tag = MAC } ROOT = { add_ideas = trade_treaty_MAC	}	}
	if = { limit = { tag = SKN } ROOT = { add_ideas = trade_treaty_SKN	}	}
	if = { limit = { tag = CAR } ROOT = { add_ideas = trade_treaty_CAR	}	}
	if = { limit = { tag = CMR } ROOT = { add_ideas = trade_treaty_CMR	}	}
	if = { limit = { tag = DOC } ROOT = { add_ideas = trade_treaty_DOC	}	}
	if = { limit = { tag = EQG } ROOT = { add_ideas = trade_treaty_EQG	}	}
	if = { limit = { tag = MAD } ROOT = { add_ideas = trade_treaty_MAD	}	}
	if = { limit = { tag = GAB } ROOT = { add_ideas = trade_treaty_GAB	}	}
	if = { limit = { tag = RCG } ROOT = { add_ideas = trade_treaty_RCG	}	}
	if = { limit = { tag = DAR } ROOT = { add_ideas = trade_treaty_DAR	}	}
	if = { limit = { tag = SML } ROOT = { add_ideas = trade_treaty_SML	}	}
	if = { limit = { tag = SKK } ROOT = { add_ideas = trade_treaty_SKK	}	}
	if = { limit = { tag = TAN } ROOT = { add_ideas = trade_treaty_TAN	}	}
	if = { limit = { tag = TEX } ROOT = { add_ideas = trade_treaty_TEX	}	}
	if = { limit = { tag = LKT } ROOT = { add_ideas = trade_treaty_LKT	}	}
	if = { limit = { tag = KEN } ROOT = { add_ideas = trade_treaty_KEN	}	}
	if = { limit = { tag = MAN } ROOT = { add_ideas = trade_treaty_MAN	}	}
	if = { limit = { tag = QBC } ROOT = { add_ideas = trade_treaty_QBC	}	}
	if = { limit = { tag = NMB } ROOT = { add_ideas = trade_treaty_NMB	}	}
	if = { limit = { tag = BHR } ROOT = { add_ideas = trade_treaty_BHR	}	}
	if = { limit = { tag = SOS } ROOT = { add_ideas = trade_treaty_SOS	}	}
	if = { limit = { tag = ABK } ROOT = { add_ideas = trade_treaty_ABK	}	}
	if = { limit = { tag = ERI } ROOT = { add_ideas = trade_treaty_ERI	}	}
	if = { limit = { tag = GAM } ROOT = { add_ideas = trade_treaty_GAM	}	}
	if = { limit = { tag = RWA } ROOT = { add_ideas = trade_treaty_RWA	}	}
	if = { limit = { tag = BRD } ROOT = { add_ideas = trade_treaty_BRD	}	}
	if = { limit = { tag = HWI } ROOT = { add_ideas = trade_treaty_HWI	}	}
	if = { limit = { tag = FIJ } ROOT = { add_ideas = trade_treaty_FIJ	}	}
	if = { limit = { tag = PNG } ROOT = { add_ideas = trade_treaty_PNG	}	}
	if = { limit = { tag = GND } ROOT = { add_ideas = trade_treaty_GND	}	}
	if = { limit = { tag = KAG } ROOT = { add_ideas = trade_treaty_KAG	}	}
	if = { limit = { tag = SKS } ROOT = { add_ideas = trade_treaty_SKS	}	}
	if = { limit = { tag = MLT } ROOT = { add_ideas = trade_treaty_MLT	}	}
	if = { limit = { tag = PLU } ROOT = { add_ideas = trade_treaty_PLU	}	}
	if = { limit = { tag = VOJ } ROOT = { add_ideas = trade_treaty_VOJ	}	}
	if = { limit = { tag = GYA } ROOT = { add_ideas = trade_treaty_GYA	}	}
	if = { limit = { tag = SRP } ROOT = { add_ideas = trade_treaty_SRP	}	}
	if = { limit = { tag = BOS } ROOT = { add_ideas = trade_treaty_BOS	}	}
	if = { limit = { tag = BAD } ROOT = { add_ideas = trade_treaty_BAD	}	}
	if = { limit = { tag = SVI } ROOT = { add_ideas = trade_treaty_SVI	}	}
	if = { limit = { tag = SIE } ROOT = { add_ideas = trade_treaty_SIE	}	}
	if = { limit = { tag = SOL } ROOT = { add_ideas = trade_treaty_SOL	}	}
	if = { limit = { tag = STL } ROOT = { add_ideas = trade_treaty_STL	}	}
	if = { limit = { tag = DJI } ROOT = { add_ideas = trade_treaty_DJI	}	}
	if = { limit = { tag = HOK } ROOT = { add_ideas = trade_treaty_HOK	}	}
	if = { limit = { tag = AGN } ROOT = { add_ideas = trade_treaty_AGN	}	}
	if = { limit = { tag = GAG } ROOT = { add_ideas = trade_treaty_GAG	}	}
	if = { limit = { tag = SWK } ROOT = { add_ideas = trade_treaty_SWK	}	}
	if = { limit = { tag = NAU } ROOT = { add_ideas = trade_treaty_NAU	}	}
	if = { limit = { tag = SGP } ROOT = { add_ideas = trade_treaty_SGP	}	}
	if = { limit = { tag = NFL } ROOT = { add_ideas = trade_treaty_NFL	}	}
	if = { limit = { tag = NGK } ROOT = { add_ideas = trade_treaty_NGK	}	}
	if = { limit = { tag = ADS } ROOT = { add_ideas = trade_treaty_ADS	}	}
	if = { limit = { tag = BLZ } ROOT = { add_ideas = trade_treaty_BLZ	}	}
	if = { limit = { tag = BRT } ROOT = { add_ideas = trade_treaty_BRT	}	}
	if = { limit = { tag = BFR } ROOT = { add_ideas = trade_treaty_BFR	}	}
	if = { limit = { tag = SMK } ROOT = { add_ideas = trade_treaty_SMK	}	}
	if = { limit = { tag = ZAR } ROOT = { add_ideas = trade_treaty_ZAR	}	}
	if = { limit = { tag = ORJ } ROOT = { add_ideas = trade_treaty_ORJ	}	}
	if = { limit = { tag = ALN } ROOT = { add_ideas = trade_treaty_ALN	}	}
	if = { limit = { tag = SHX } ROOT = { add_ideas = trade_treaty_SHX	}	}
	if = { limit = { tag = XSM } ROOT = { add_ideas = trade_treaty_XSM	}	}
	if = { limit = { tag = GXC } ROOT = { add_ideas = trade_treaty_GXC	}	}
	if = { limit = { tag = CAB } ROOT = { add_ideas = trade_treaty_CAB	}	}
	if = { limit = { tag = SMI } ROOT = { add_ideas = trade_treaty_SMI	}	}
	if = { limit = { tag = FLA } ROOT = { add_ideas = trade_treaty_FLA	}	}
	if = { limit = { tag = WAL } ROOT = { add_ideas = trade_treaty_WAL	}	}
	if = { limit = { tag = DMN } ROOT = { add_ideas = trade_treaty_DMN	}	}
	if = { limit = { tag = NIR } ROOT = { add_ideas = trade_treaty_NIR	}	}
	if = { limit = { tag = REN } ROOT = { add_ideas = trade_treaty_REN	}	}
}

sign_trade_agreement_inv = {
	if = { limit = { ROOT = { tag = GER } } add_ideas = trade_treaty_GER	}	
	if = { limit = { ROOT = { tag = ENG } } add_ideas = trade_treaty_ENG	}	
	if = { limit = { ROOT = { tag = SOV } } add_ideas = trade_treaty_SOV	}	
	if = { limit = { ROOT = { tag = SWE } } add_ideas = trade_treaty_SWE	}	
	if = { limit = { ROOT = { tag = FRA } } add_ideas = trade_treaty_FRA	}	
	if = { limit = { ROOT = { tag = LUX } } add_ideas = trade_treaty_LUX	}	
	if = { limit = { ROOT = { tag = BEL } } add_ideas = trade_treaty_BEL	}	
	if = { limit = { ROOT = { tag = HOL } } add_ideas = trade_treaty_HOL	}	
	if = { limit = { ROOT = { tag = CZE } } add_ideas = trade_treaty_CZE	}	
	if = { limit = { ROOT = { tag = POL } } add_ideas = trade_treaty_POL	}	
	if = { limit = { ROOT = { tag = AUS } } add_ideas = trade_treaty_AUS	}	
	if = { limit = { ROOT = { tag = LIT } } add_ideas = trade_treaty_LIT	}	
	if = { limit = { ROOT = { tag = EST } } add_ideas = trade_treaty_EST	}	
	if = { limit = { ROOT = { tag = LAT } } add_ideas = trade_treaty_LAT	}	
	if = { limit = { ROOT = { tag = SPR } } add_ideas = trade_treaty_SPR	}	
	if = { limit = { ROOT = { tag = ITA } } add_ideas = trade_treaty_ITA	}	
	if = { limit = { ROOT = { tag = ROM } } add_ideas = trade_treaty_ROM	}	
	if = { limit = { ROOT = { tag = YUG } } add_ideas = trade_treaty_YUG	}	
	if = { limit = { ROOT = { tag = SER } } add_ideas = trade_treaty_SER	}	
	if = { limit = { ROOT = { tag = SWI } } add_ideas = trade_treaty_SWI	}	
	if = { limit = { ROOT = { tag = TUR } } add_ideas = trade_treaty_TUR	}	
	if = { limit = { ROOT = { tag = GRE } } add_ideas = trade_treaty_GRE	}	
	if = { limit = { ROOT = { tag = ALB } } add_ideas = trade_treaty_ALB	}	
	if = { limit = { ROOT = { tag = NOR } } add_ideas = trade_treaty_NOR	}	
	if = { limit = { ROOT = { tag = DEN } } add_ideas = trade_treaty_DEN	}	
	if = { limit = { ROOT = { tag = BUL } } add_ideas = trade_treaty_BUL	}	
	if = { limit = { ROOT = { tag = POR } } add_ideas = trade_treaty_POR	}	
	if = { limit = { ROOT = { tag = FIN } } add_ideas = trade_treaty_FIN	}	
	if = { limit = { ROOT = { tag = IRE } } add_ideas = trade_treaty_IRE	}	
	if = { limit = { ROOT = { tag = HUN } } add_ideas = trade_treaty_HUN	}	
	if = { limit = { ROOT = { tag = AFG } } add_ideas = trade_treaty_AFG	}	
	if = { limit = { ROOT = { tag = ARG } } add_ideas = trade_treaty_ARG	}	
	if = { limit = { ROOT = { tag = AST } } add_ideas = trade_treaty_AST	}	
	if = { limit = { ROOT = { tag = BHU } } add_ideas = trade_treaty_BHU	}	
	if = { limit = { ROOT = { tag = BOL } } add_ideas = trade_treaty_BOL	}	
	if = { limit = { ROOT = { tag = BRA } } add_ideas = trade_treaty_BRA	}	
	if = { limit = { ROOT = { tag = CAN } } add_ideas = trade_treaty_CAN	}	
	if = { limit = { ROOT = { tag = CHI } } add_ideas = trade_treaty_CHI	}	
	if = { limit = { ROOT = { tag = CHL } } add_ideas = trade_treaty_CHL	}	
	if = { limit = { ROOT = { tag = COL } } add_ideas = trade_treaty_COL	}	
	if = { limit = { ROOT = { tag = COS } } add_ideas = trade_treaty_COS	}	
	if = { limit = { ROOT = { tag = ECU } } add_ideas = trade_treaty_ECU	}	
	if = { limit = { ROOT = { tag = ELS } } add_ideas = trade_treaty_ELS	}	
	if = { limit = { ROOT = { tag = ETH } } add_ideas = trade_treaty_ETH	}	
	if = { limit = { ROOT = { tag = GUA } } add_ideas = trade_treaty_GUA	}	
	if = { limit = { ROOT = { tag = HON } } add_ideas = trade_treaty_HON	}	
	if = { limit = { ROOT = { tag = IRQ } } add_ideas = trade_treaty_IRQ	}	
	if = { limit = { ROOT = { tag = JAP } } add_ideas = trade_treaty_JAP	}	
	if = { limit = { ROOT = { tag = KOR } } add_ideas = trade_treaty_KOR	}	
	if = { limit = { ROOT = { tag = LIB } } add_ideas = trade_treaty_LIB	}	
	if = { limit = { ROOT = { tag = MEX } } add_ideas = trade_treaty_MEX	}	
	if = { limit = { ROOT = { tag = MEN } } add_ideas = trade_treaty_MEN	}	
	if = { limit = { ROOT = { tag = NEP } } add_ideas = trade_treaty_NEP	}	
	if = { limit = { ROOT = { tag = NIC } } add_ideas = trade_treaty_NIC	}	
	if = { limit = { ROOT = { tag = NZL } } add_ideas = trade_treaty_NZL	}	
	if = { limit = { ROOT = { tag = PAN } } add_ideas = trade_treaty_PAN	}	
	if = { limit = { ROOT = { tag = PER } } add_ideas = trade_treaty_PER	}	
	if = { limit = { ROOT = { tag = "PHI" } } add_ideas = trade_treaty_PHI	}	
	if = { limit = { ROOT = { tag = PRU } } add_ideas = trade_treaty_PRU	}	
	if = { limit = { ROOT = { tag = SAF } } add_ideas = trade_treaty_SAF	}	
	if = { limit = { ROOT = { tag = SAU } } add_ideas = trade_treaty_SAU	}	
	if = { limit = { ROOT = { tag = SIA } } add_ideas = trade_treaty_SIA	}	
	if = { limit = { ROOT = { tag = SIK } } add_ideas = trade_treaty_SIK	}	
	if = { limit = { ROOT = { tag = TIB } } add_ideas = trade_treaty_TIB	}	
	if = { limit = { ROOT = { tag = URG } } add_ideas = trade_treaty_URG	}	
	if = { limit = { ROOT = { tag = VEN } } add_ideas = trade_treaty_VEN	}	
	if = { limit = { ROOT = { tag = YUN } } add_ideas = trade_treaty_YUN	}	
	if = { limit = { ROOT = { tag = USA } } add_ideas = trade_treaty_USA	}	
	if = { limit = { ROOT = { tag = MON } } add_ideas = trade_treaty_MON	}	
	if = { limit = { ROOT = { tag = MNT } } add_ideas = trade_treaty_MNT	}	
	if = { limit = { ROOT = { tag = PAR } } add_ideas = trade_treaty_PAR	}	
	if = { limit = { ROOT = { tag = CUB } } add_ideas = trade_treaty_CUB	}	
	if = { limit = { ROOT = { tag = DOM } } add_ideas = trade_treaty_DOM	}	
	if = { limit = { ROOT = { tag = HAI } } add_ideas = trade_treaty_HAI	}	
	if = { limit = { ROOT = { tag = YEM } } add_ideas = trade_treaty_YEM	}	
	if = { limit = { ROOT = { tag = OMA } } add_ideas = trade_treaty_OMA	}	
	if = { limit = { ROOT = { tag = SLO } } add_ideas = trade_treaty_SLO	}	
	if = { limit = { ROOT = { tag = RAJ } } add_ideas = trade_treaty_RAJ	}	
	if = { limit = { ROOT = { tag = CRO } } add_ideas = trade_treaty_CRO	}	
	if = { limit = { ROOT = { tag = PRC } } add_ideas = trade_treaty_PRC	}	
	if = { limit = { ROOT = { tag = SRL } } add_ideas = trade_treaty_SRL	}	
	if = { limit = { ROOT = { tag = BAH } } add_ideas = trade_treaty_BAH	}	
	if = { limit = { ROOT = { tag = RIF } } add_ideas = trade_treaty_RIF	}	
	if = { limit = { ROOT = { tag = ICE } } add_ideas = trade_treaty_ICE	}	
	if = { limit = { ROOT = { tag = LEB } } add_ideas = trade_treaty_LEB	}	
	if = { limit = { ROOT = { tag = JOR } } add_ideas = trade_treaty_JOR	}	
	if = { limit = { ROOT = { tag = SYR } } add_ideas = trade_treaty_SYR	}	
	if = { limit = { ROOT = { tag = EGY } } add_ideas = trade_treaty_EGY	}	
	if = { limit = { ROOT = { tag = LBA } } add_ideas = trade_treaty_LBA	}	
	if = { limit = { ROOT = { tag = WGR } } add_ideas = trade_treaty_WGR	}	
	if = { limit = { ROOT = { tag = DDR } } add_ideas = trade_treaty_DDR	}	
	if = { limit = { ROOT = { tag = PAL } } add_ideas = trade_treaty_PAL	}	
	if = { limit = { ROOT = { tag = ISR } } add_ideas = trade_treaty_ISR	}	
	if = { limit = { ROOT = { tag = VIN } } add_ideas = trade_treaty_VIN	}	
	if = { limit = { ROOT = { tag = CAM } } add_ideas = trade_treaty_CAM	}	
	if = { limit = { ROOT = { tag = MAL } } add_ideas = trade_treaty_MAL	}	
	if = { limit = { ROOT = { tag = INS } } add_ideas = trade_treaty_INS	}	
	if = { limit = { ROOT = { tag = LAO } } add_ideas = trade_treaty_LAO	}	
	if = { limit = { ROOT = { tag = UKR } } add_ideas = trade_treaty_UKR	}	
	if = { limit = { ROOT = { tag = GEO } } add_ideas = trade_treaty_GEO	}	
	if = { limit = { ROOT = { tag = AZR } } add_ideas = trade_treaty_AZR	}	
	if = { limit = { ROOT = { tag = ARM } } add_ideas = trade_treaty_ARM	}	
	if = { limit = { ROOT = { tag = BLR } } add_ideas = trade_treaty_BLR	}	
	if = { limit = { ROOT = { tag = ANG } } add_ideas = trade_treaty_ANG	}	
	if = { limit = { ROOT = { tag = MZB } } add_ideas = trade_treaty_MZB	}	
	if = { limit = { ROOT = { tag = ZIM } } add_ideas = trade_treaty_ZIM	}	
	if = { limit = { ROOT = { tag = COG } } add_ideas = trade_treaty_COG	}	
	if = { limit = { ROOT = { tag = BOT } } add_ideas = trade_treaty_BOT	}	
	if = { limit = { ROOT = { tag = UAE } } add_ideas = trade_treaty_UAE	}	
	if = { limit = { ROOT = { tag = QAT } } add_ideas = trade_treaty_QAT	}	
	if = { limit = { ROOT = { tag = VTC } } add_ideas = trade_treaty_VTC	}	
	if = { limit = { ROOT = { tag = SNM } } add_ideas = trade_treaty_SNM	}	
	if = { limit = { ROOT = { tag = MOC } } add_ideas = trade_treaty_MOC	}	
	if = { limit = { ROOT = { tag = LIC } } add_ideas = trade_treaty_LIC	}	
	if = { limit = { ROOT = { tag = ZAZ } } add_ideas = trade_treaty_ZAZ	}	
	if = { limit = { ROOT = { tag = TNG } } add_ideas = trade_treaty_TNG	}	
	if = { limit = { ROOT = { tag = CAL } } add_ideas = trade_treaty_CAL	}	
	if = { limit = { ROOT = { tag = PMR } } add_ideas = trade_treaty_PMR	}	
	if = { limit = { ROOT = { tag = BAV } } add_ideas = trade_treaty_BAV	}	
	if = { limit = { ROOT = { tag = SMO } } add_ideas = trade_treaty_SMO	}	
	if = { limit = { ROOT = { tag = TOA } } add_ideas = trade_treaty_TOA	}	
	if = { limit = { ROOT = { tag = GRN } } add_ideas = trade_treaty_GRN	}	
	if = { limit = { ROOT = { tag = WES } } add_ideas = trade_treaty_WES	}	
	if = { limit = { ROOT = { tag = PUE } } add_ideas = trade_treaty_PUE	}	
	if = { limit = { ROOT = { tag = FCB } } add_ideas = trade_treaty_FCB	}	
	if = { limit = { ROOT = { tag = MLA } } add_ideas = trade_treaty_MLA	}	
	if = { limit = { ROOT = { tag = SLV } } add_ideas = trade_treaty_SLV	}	
	if = { limit = { ROOT = { tag = KOS } } add_ideas = trade_treaty_KOS	}	
	if = { limit = { ROOT = { tag = PDG } } add_ideas = trade_treaty_PDG	}	
	if = { limit = { ROOT = { tag = INO } } add_ideas = trade_treaty_INO	}	
	if = { limit = { ROOT = { tag = VIE } } add_ideas = trade_treaty_VIE	}	
	if = { limit = { ROOT = { tag = BRM } } add_ideas = trade_treaty_BRM	}	
	if = { limit = { ROOT = { tag = PAK } } add_ideas = trade_treaty_PAK	}	
	if = { limit = { ROOT = { tag = KPA } } add_ideas = trade_treaty_KPA	}	
	if = { limit = { ROOT = { tag = CHE } } add_ideas = trade_treaty_CHE	}	
	if = { limit = { ROOT = { tag = SAR } } add_ideas = trade_treaty_SAR	}	
	if = { limit = { ROOT = { tag = AND } } add_ideas = trade_treaty_AND	}	
	if = { limit = { ROOT = { tag = TRS } } add_ideas = trade_treaty_TRS	}	
	if = { limit = { ROOT = { tag = LOS } } add_ideas = trade_treaty_LOS	}	
	if = { limit = { ROOT = { tag = KMP } } add_ideas = trade_treaty_KMP	}	
	if = { limit = { ROOT = { tag = KUR } } add_ideas = trade_treaty_KUR	}	
	if = { limit = { ROOT = { tag = DRY } } add_ideas = trade_treaty_DRY	}	
	if = { limit = { ROOT = { tag = SUD } } add_ideas = trade_treaty_SUD	}	
	if = { limit = { ROOT = { tag = GHA } } add_ideas = trade_treaty_GHA	}	
	if = { limit = { ROOT = { tag = NGA } } add_ideas = trade_treaty_NGA	}	
	if = { limit = { ROOT = { tag = SOM } } add_ideas = trade_treaty_SOM	}	
	if = { limit = { ROOT = { tag = CYP } } add_ideas = trade_treaty_CYP	}	
	if = { limit = { ROOT = { tag = UGA } } add_ideas = trade_treaty_UGA	}	
	if = { limit = { ROOT = { tag = JAM } } add_ideas = trade_treaty_JAM	}	
	if = { limit = { ROOT = { tag = TRI } } add_ideas = trade_treaty_TRI	}	
	if = { limit = { ROOT = { tag = LES } } add_ideas = trade_treaty_LES	}	
	if = { limit = { ROOT = { tag = SWA } } add_ideas = trade_treaty_SWA	}	
	if = { limit = { ROOT = { tag = ZAM } } add_ideas = trade_treaty_ZAM	}	
	if = { limit = { ROOT = { tag = TZN } } add_ideas = trade_treaty_TZN	}	
	if = { limit = { ROOT = { tag = KUW } } add_ideas = trade_treaty_KUW	}	
	if = { limit = { ROOT = { tag = MOR } } add_ideas = trade_treaty_MOR	}	
	if = { limit = { ROOT = { tag = TUN } } add_ideas = trade_treaty_TUN	}	
	if = { limit = { ROOT = { tag = ALG } } add_ideas = trade_treaty_ALG	}	
	if = { limit = { ROOT = { tag = BRU } } add_ideas = trade_treaty_BRU	}	
	if = { limit = { ROOT = { tag = MLI } } add_ideas = trade_treaty_MLI	}	
	if = { limit = { ROOT = { tag = NGR } } add_ideas = trade_treaty_NGR	}	
	if = { limit = { ROOT = { tag = VOL } } add_ideas = trade_treaty_VOL	}	
	if = { limit = { ROOT = { tag = GNA } } add_ideas = trade_treaty_GNA	}	
	if = { limit = { ROOT = { tag = MRT } } add_ideas = trade_treaty_MRT	}	
	if = { limit = { ROOT = { tag = TOG } } add_ideas = trade_treaty_TOG	}	
	if = { limit = { ROOT = { tag = DAH } } add_ideas = trade_treaty_DAH	}	
	if = { limit = { ROOT = { tag = SEN } } add_ideas = trade_treaty_SEN	}	
	if = { limit = { ROOT = { tag = CHA } } add_ideas = trade_treaty_CHA	}	
	if = { limit = { ROOT = { tag = IVO } } add_ideas = trade_treaty_IVO	}	
	if = { limit = { ROOT = { tag = MLW } } add_ideas = trade_treaty_MLW	}	
	if = { limit = { ROOT = { tag = MOL } } add_ideas = trade_treaty_MOL	}	
	if = { limit = { ROOT = { tag = KAZ } } add_ideas = trade_treaty_KAZ	}	
	if = { limit = { ROOT = { tag = UZB } } add_ideas = trade_treaty_UZB	}	
	if = { limit = { ROOT = { tag = TAJ } } add_ideas = trade_treaty_TAJ	}	
	if = { limit = { ROOT = { tag = KYR } } add_ideas = trade_treaty_KYR	}	
	if = { limit = { ROOT = { tag = TMS } } add_ideas = trade_treaty_TMS	}	
	if = { limit = { ROOT = { tag = KRL } } add_ideas = trade_treaty_KRL	}	
	if = { limit = { ROOT = { tag = TAL } } add_ideas = trade_treaty_TAL	}	
	if = { limit = { ROOT = { tag = ADR } } add_ideas = trade_treaty_ADR	}	
	if = { limit = { ROOT = { tag = SSU } } add_ideas = trade_treaty_SSU	}	
	if = { limit = { ROOT = { tag = RNA } } add_ideas = trade_treaty_RNA	}	
	if = { limit = { ROOT = { tag = CSD } } add_ideas = trade_treaty_CSD	}	
	if = { limit = { ROOT = { tag = NCY } } add_ideas = trade_treaty_NCY	}	
	if = { limit = { ROOT = { tag = BAL } } add_ideas = trade_treaty_BAL	}	
	if = { limit = { ROOT = { tag = BAN } } add_ideas = trade_treaty_BAN	}	
	if = { limit = { ROOT = { tag = ASA } } add_ideas = trade_treaty_ASA	}	
	if = { limit = { ROOT = { tag = KHA } } add_ideas = trade_treaty_KHA	}	
	if = { limit = { ROOT = { tag = KAS } } add_ideas = trade_treaty_KAS	}	
	if = { limit = { ROOT = { tag = CTL } } add_ideas = trade_treaty_CTL	}	
	if = { limit = { ROOT = { tag = MAC } } add_ideas = trade_treaty_MAC	}	
	if = { limit = { ROOT = { tag = SKN } } add_ideas = trade_treaty_SKN	}	
	if = { limit = { ROOT = { tag = CAR } } add_ideas = trade_treaty_CAR	}	
	if = { limit = { ROOT = { tag = CMR } } add_ideas = trade_treaty_CMR	}	
	if = { limit = { ROOT = { tag = DOC } } add_ideas = trade_treaty_DOC	}	
	if = { limit = { ROOT = { tag = EQG } } add_ideas = trade_treaty_EQG	}	
	if = { limit = { ROOT = { tag = MAD } } add_ideas = trade_treaty_MAD	}	
	if = { limit = { ROOT = { tag = GAB } } add_ideas = trade_treaty_GAB	}	
	if = { limit = { ROOT = { tag = RCG } } add_ideas = trade_treaty_RCG	}	
	if = { limit = { ROOT = { tag = DAR } } add_ideas = trade_treaty_DAR	}	
	if = { limit = { ROOT = { tag = SML } } add_ideas = trade_treaty_SML	}	
	if = { limit = { ROOT = { tag = SKK } } add_ideas = trade_treaty_SKK	}	
	if = { limit = { ROOT = { tag = TAN } } add_ideas = trade_treaty_TAN	}	
	if = { limit = { ROOT = { tag = TEX } } add_ideas = trade_treaty_TEX	}	
	if = { limit = { ROOT = { tag = LKT } } add_ideas = trade_treaty_LKT	}	
	if = { limit = { ROOT = { tag = KEN } } add_ideas = trade_treaty_KEN	}	
	if = { limit = { ROOT = { tag = MAN } } add_ideas = trade_treaty_MAN	}	
	if = { limit = { ROOT = { tag = QBC } } add_ideas = trade_treaty_QBC	}	
	if = { limit = { ROOT = { tag = NMB } } add_ideas = trade_treaty_NMB	}	
	if = { limit = { ROOT = { tag = BHR } } add_ideas = trade_treaty_BHR	}	
	if = { limit = { ROOT = { tag = SOS } } add_ideas = trade_treaty_SOS	}	
	if = { limit = { ROOT = { tag = ABK } } add_ideas = trade_treaty_ABK	}	
	if = { limit = { ROOT = { tag = ERI } } add_ideas = trade_treaty_ERI	}	
	if = { limit = { ROOT = { tag = GAM } } add_ideas = trade_treaty_GAM	}	
	if = { limit = { ROOT = { tag = RWA } } add_ideas = trade_treaty_RWA	}	
	if = { limit = { ROOT = { tag = BRD } } add_ideas = trade_treaty_BRD	}	
	if = { limit = { ROOT = { tag = HWI } } add_ideas = trade_treaty_HWI	}	
	if = { limit = { ROOT = { tag = FIJ } } add_ideas = trade_treaty_FIJ	}	
	if = { limit = { ROOT = { tag = PNG } } add_ideas = trade_treaty_PNG	}	
	if = { limit = { ROOT = { tag = GND } } add_ideas = trade_treaty_GND	}	
	if = { limit = { ROOT = { tag = KAG } } add_ideas = trade_treaty_KAG	}	
	if = { limit = { ROOT = { tag = SKS } } add_ideas = trade_treaty_SKS	}	
	if = { limit = { ROOT = { tag = MLT } } add_ideas = trade_treaty_MLT	}	
	if = { limit = { ROOT = { tag = PLU } } add_ideas = trade_treaty_PLU	}	
	if = { limit = { ROOT = { tag = VOJ } } add_ideas = trade_treaty_VOJ	}	
	if = { limit = { ROOT = { tag = GYA } } add_ideas = trade_treaty_GYA	}	
	if = { limit = { ROOT = { tag = SRP } } add_ideas = trade_treaty_SRP	}	
	if = { limit = { ROOT = { tag = BOS } } add_ideas = trade_treaty_BOS	}	
	if = { limit = { ROOT = { tag = BAD } } add_ideas = trade_treaty_BAD	}	
	if = { limit = { ROOT = { tag = SVI } } add_ideas = trade_treaty_SVI	}	
	if = { limit = { ROOT = { tag = SIE } } add_ideas = trade_treaty_SIE	}	
	if = { limit = { ROOT = { tag = SOL } } add_ideas = trade_treaty_SOL	}	
	if = { limit = { ROOT = { tag = STL } } add_ideas = trade_treaty_STL	}	
	if = { limit = { ROOT = { tag = DJI } } add_ideas = trade_treaty_DJI	}	
	if = { limit = { ROOT = { tag = HOK } } add_ideas = trade_treaty_HOK	}	
	if = { limit = { ROOT = { tag = AGN } } add_ideas = trade_treaty_AGN	}		
	if = { limit = { ROOT = { tag = GAG } } add_ideas = trade_treaty_GAG	}	
	if = { limit = { ROOT = { tag = SWK } } add_ideas = trade_treaty_SWK	}	
	if = { limit = { ROOT = { tag = NAU } } add_ideas = trade_treaty_NAU	}	
	if = { limit = { ROOT = { tag = SGP } } add_ideas = trade_treaty_SGP	}	
	if = { limit = { ROOT = { tag = NFL } } add_ideas = trade_treaty_NFL	}	
	if = { limit = { ROOT = { tag = NGK } } add_ideas = trade_treaty_NGK	}	
	if = { limit = { ROOT = { tag = ADS } } add_ideas = trade_treaty_ADS	}	
	if = { limit = { ROOT = { tag = BLZ } } add_ideas = trade_treaty_BLZ	}	
	if = { limit = { ROOT = { tag = BRT } } add_ideas = trade_treaty_BRT	}	
	if = { limit = { ROOT = { tag = BFR } } add_ideas = trade_treaty_BFR	}	
	if = { limit = { ROOT = { tag = SMK } } add_ideas = trade_treaty_SMK	}	
	if = { limit = { ROOT = { tag = ZAR } } add_ideas = trade_treaty_ZAR	}	
	if = { limit = { ROOT = { tag = ORJ } } add_ideas = trade_treaty_ORJ	}	
	if = { limit = { ROOT = { tag = ALN } } add_ideas = trade_treaty_ALN	}	
	if = { limit = { ROOT = { tag = SHX } } add_ideas = trade_treaty_SHX	}	
	if = { limit = { ROOT = { tag = XSM } } add_ideas = trade_treaty_XSM	}	
	if = { limit = { ROOT = { tag = GXC } } add_ideas = trade_treaty_GXC	}	
	if = { limit = { ROOT = { tag = CAB } } add_ideas = trade_treaty_CAB	}	
	if = { limit = { ROOT = { tag = SMI } } add_ideas = trade_treaty_SMI	}	
	if = { limit = { ROOT = { tag = FLA } } add_ideas = trade_treaty_FLA	}	
	if = { limit = { ROOT = { tag = WAL } } add_ideas = trade_treaty_WAL	}	
	if = { limit = { ROOT = { tag = DMN } } add_ideas = trade_treaty_DMN	}	
	if = { limit = { ROOT = { tag = NIR } } add_ideas = trade_treaty_NIR	}	
	if = { limit = { ROOT = { tag = REN } } add_ideas = trade_treaty_REN	}	
}

influence_nation = {
	if = {  limit = { ROOT = { has_government = conservative } } add_popularity = { ideology = conservative popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = Liberal_Conservatism } } add_popularity = { ideology = Liberal_Conservatism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = Christian_Democratic } } add_popularity = { ideology = Christian_Democratic popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = socialist } } add_popularity = { ideology = socialist popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = Social_Democratic } } add_popularity = { ideology = Social_Democratic popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = Social_Liberalism } } add_popularity = { ideology = Social_Liberalism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = democratic } } add_popularity = { ideology = democratic popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = centrist } } add_popularity = { ideology = centrist popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = liberal } } add_popularity = { ideology = liberal popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = communism } } add_popularity = { ideology = communism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = trotskyism } } add_popularity = { ideology = trotskyism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = maoism } } add_popularity = { ideology = maoism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = fascism } } add_popularity = { ideology = fascism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = nationalist } } add_popularity = { ideology = nationalist popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = monarchism } } add_popularity = { ideology = monarchism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = neutrality } } add_popularity = { ideology = neutrality popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = islamism } } add_popularity = { ideology = islamism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = radical_shiaism } } add_popularity = { ideology = radical_shiaism popularity = 0.05 } }
	if = {  limit = { ROOT = { has_government = Salafism } } add_popularity = { ideology = Salafism popularity = 0.05 } }
}

successul_coup_effect = {
	if = {  limit = { FROM = { has_government = conservative } } set_politics = { ruling_party = conservative elections_allowed = no } }
	if = {  limit = { FROM = { has_government = Liberal_Conservatism } } set_politics = { ruling_party = Liberal_Conservatism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = Christian_Democratic } } set_politics = { ruling_party = Christian_Democratic elections_allowed = no } }
	if = {  limit = { FROM = { has_government = socialist } } set_politics = { ruling_party = socialist elections_allowed = no } }
	if = {  limit = { FROM = { has_government = Social_Democratic } } set_politics = { ruling_party = Social_Democratic elections_allowed = no } }
	if = {  limit = { FROM = { has_government = Social_Liberalism } } set_politics = { ruling_party = Social_Liberalism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = democratic } } set_politics = { ruling_party = democratic elections_allowed = no } }
	if = {  limit = { FROM = { has_government = centrist } } set_politics = { ruling_party = centrist elections_allowed = no } }
	if = {  limit = { FROM = { has_government = liberal } } set_politics = { ruling_party = liberal elections_allowed = no } }
	if = {  limit = { FROM = { has_government = communism } } set_politics = { ruling_party = communism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = trotskyism } } set_politics = { ruling_party = trotskyism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = maoism } } set_politics = { ruling_party = maoism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = fascism } } set_politics = { ruling_party = fascism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = nationalist } } set_politics = { ruling_party = nationalist elections_allowed = no } }
	if = {  limit = { FROM = { has_government = monarchism } } set_politics = { ruling_party = monarchism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = neutrality } } set_politics = { ruling_party = neutrality elections_allowed = no } }
	if = {  limit = { FROM = { has_government = islamism } } set_politics = { ruling_party = islamism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = radical_shiaism } } set_politics = { ruling_party = radical_shiaism elections_allowed = no } }
	if = {  limit = { FROM = { has_government = Salafism } } set_politics = { ruling_party = Salafism elections_allowed = no } }
}

influence_nation_coup = {
	if = {  limit = { FROM = { has_government = conservative } } add_popularity = { ideology = conservative popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = Liberal_Conservatism } } add_popularity = { ideology = Liberal_Conservatism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = Christian_Democratic } } add_popularity = { ideology = Christian_Democratic popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = socialist } } add_popularity = { ideology = socialist popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = Social_Democratic } } add_popularity = { ideology = Social_Democratic popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = Social_Liberalism } } add_popularity = { ideology = Social_Liberalism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = democratic } } add_popularity = { ideology = democratic popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = centrist } } add_popularity = { ideology = centrist popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = liberal } } add_popularity = { ideology = liberal popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = communism } } add_popularity = { ideology = communism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = trotskyism } } add_popularity = { ideology = trotskyism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = maoism } } add_popularity = { ideology = maoism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = fascism } } add_popularity = { ideology = fascism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = nationalist } } add_popularity = { ideology = nationalist popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = monarchism } } add_popularity = { ideology = monarchism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = neutrality } } add_popularity = { ideology = neutrality popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = islamism } } add_popularity = { ideology = islamism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = radical_shiaism } } add_popularity = { ideology = radical_shiaism popularity = 0.35 } }
	if = {  limit = { FROM = { has_government = Salafism } } add_popularity = { ideology = Salafism popularity = 0.35 } }
}

influence_nation_coup_civil_war = {
	if = {  limit = { FROM = { has_government = conservative } } start_civil_war = { ideology = conservative size = 0.5 } }
	if = {  limit = { FROM = { has_government = Liberal_Conservatism } } start_civil_war = { ideology = Liberal_Conservatism size = 0.5 } }
	if = {  limit = { FROM = { has_government = Christian_Democratic } } start_civil_war = { ideology = Christian_Democratic size = 0.5 } }
	if = {  limit = { FROM = { has_government = socialist } } start_civil_war = { ideology = socialist size = 0.5 } }
	if = {  limit = { FROM = { has_government = Social_Democratic } } start_civil_war = { ideology = Social_Democratic size = 0.5 } }
	if = {  limit = { FROM = { has_government = Social_Liberalism } } start_civil_war = { ideology = Social_Liberalism size = 0.5 } }
	if = {  limit = { FROM = { has_government = democratic } } start_civil_war = { ideology = democratic size = 0.5 } }
	if = {  limit = { FROM = { has_government = centrist } } start_civil_war = { ideology = centrist size = 0.5 } }
	if = {  limit = { FROM = { has_government = liberal } } start_civil_war = { ideology = liberal size = 0.5 } }
	if = {  limit = { FROM = { has_government = communism } } start_civil_war = { ideology = communism size = 0.5 } }
	if = {  limit = { FROM = { has_government = trotskyism } } start_civil_war = { ideology = trotskyism size = 0.5 } }
	if = {  limit = { FROM = { has_government = maoism } } start_civil_war = { ideology = maoism size = 0.5 } }
	if = {  limit = { FROM = { has_government = fascism } } start_civil_war = { ideology = fascism size = 0.5 } }
	if = {  limit = { FROM = { has_government = nationalist } } start_civil_war = { ideology = nationalist size = 0.5 } }
	if = {  limit = { FROM = { has_government = monarchism } } start_civil_war = { ideology = monarchism size = 0.5 } }
	if = {  limit = { FROM = { has_government = neutrality } } start_civil_war = { ideology = neutrality size = 0.5 } }
	if = {  limit = { FROM = { has_government = islamism } } start_civil_war = { ideology = islamism size = 0.5 } }
	if = {  limit = { FROM = { has_government = radical_shiaism } } start_civil_war = { ideology = radical_shiaism size = 0.5 } }
	if = {  limit = { FROM = { has_government = Salafism } } start_civil_war = { ideology = Salafism size = 0.5 } }
}

set_recent_action_check = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer1_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer2_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer3_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer4_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer5_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer6_recent_action days = 120 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_timed_idea = { idea = influencer7_recent_action days = 120 }
	}
}

set_recent_action_check_civil_war = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_ideas = influencer1_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_ideas = influencer2_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_ideas = influencer3_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_ideas = influencer4_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_ideas = influencer5_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_ideas = influencer6_civil_war_intervention
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_ideas = influencer7_civil_war_intervention
	}
}

set_recent_action_check_trade_deal = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_ideas = influencer1_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_ideas = influencer2_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_ideas = influencer3_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_ideas = influencer4_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_ideas = influencer5_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_ideas = influencer6_trade_deal
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_ideas = influencer7_trade_deal
	}
}

set_recent_action_check_defense_treaty = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		add_ideas = influencer1_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		add_ideas = influencer2_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		add_ideas = influencer3_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		add_ideas = influencer4_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		add_ideas = influencer5_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		add_ideas = influencer6_defense_treaty
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		add_ideas = influencer7_defense_treaty
	}
}

coup_influence_change_success = {
	if = {
		limit = {
			NOT = { check_variable = { influencer1 = ROOT.temp_check } }
		}
		multiply_variable = { influencer1_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer2 = ROOT.temp_check } }
		}
		multiply_variable = { influencer2_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer3 = ROOT.temp_check } }
		}
		multiply_variable = { influencer3_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer4 = ROOT.temp_check } }
		}
		multiply_variable = { influencer4_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer5 = ROOT.temp_check } }
		}
		multiply_variable = { influencer5_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer6 = ROOT.temp_check } }
		}
		multiply_variable = { influencer6_amount = 0.5 }
	}
	if = {
		limit = {
			NOT = { check_variable = { influencer7 = ROOT.temp_check } }
		}
		multiply_variable = { influencer7_amount = 0.5 }
	}
	recalculate_influence = yes
}

coup_influence_change_failure = {
	if = {
		limit = {
			check_variable = { influencer1 = ROOT.temp_check }
		}
		multiply_variable = { influencer1_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer2 = ROOT.temp_check }
		}
		multiply_variable = { influencer2_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer3 = ROOT.temp_check }
		}
		multiply_variable = { influencer3_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer4 = ROOT.temp_check }
		}
		multiply_variable = { influencer4_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer5 = ROOT.temp_check }
		}
		multiply_variable = { influencer5_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer6 = ROOT.temp_check }
		}
		multiply_variable = { influencer6_amount = 0.25 }
	}
	if = {
		limit = {
			check_variable = { influencer7 = ROOT.temp_check }
		}
		multiply_variable = { influencer7_amount = 0.25 }
	}
	recalculate_influence = yes
}

influence_test_set = {
		set_variable = { var = influencer1 value = 0 }
		set_variable = { var = influencer1_amount value = 0 }

		set_variable = { var = influencer2 value = 0 }
		set_variable = { var = influencer2_amount value = 0 }

		set_variable = { var = influencer3 value = 0 }
		set_variable = { var = influencer3_amount value = 0 }

		set_variable = { var = influencer4 value = 0 }
		set_variable = { var = influencer4_amount value = 0 }

		set_variable = { var = influencer5 value = 0 }
		set_variable = { var = influencer5_amount value = 0 }

		set_variable = { var = influencer6 value = 0 }
		set_variable = { var = influencer6_amount value = 0 }

		set_variable = { var = influencer7 value = 0 }
		set_variable = { var = influencer7_amount value = 0 }
}

establish_new_influencer = {
	add_to_variable = { foreignPowerProjection = -100 }
	if = {
		limit = {
			  NOT = { has_variable = influencer1 }
		}
		set_variable = { influencer1 = ROOT.id }
		set_variable = { var = influencer1_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			 NOT = { has_variable = influencer2 }
		}
		set_variable = { influencer2 = ROOT.temp_check }
		set_variable = { var = influencer2_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			NOT = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
			}
			NOT = { has_variable = influencer3 }
		}
		set_variable = { influencer3 = ROOT.id }
		set_variable = { var = influencer3_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			NOT = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
			}
			NOT = { has_variable = influencer4 }
		}
		set_variable = { influencer4 = ROOT.id }
		set_variable = { var = influencer4_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			NOT = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
			}
			NOT = { has_variable = influencer5 }
		}
		set_variable = { influencer5 = ROOT.id }
		set_variable = { var = influencer5_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			NOT = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
			}
			NOT = { has_variable = influencer6 }
		}
		set_variable = { influencer6 = ROOT.id }
		set_variable = { var = influencer6_amount value = 250 }
		recalculate_influence = yes	
	}
	if = {
		limit = {
			NOT = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
			}
			NOT = { has_variable = influencer7 }
		}
		set_variable = { influencer7 = ROOT.id }
		set_variable = { var = influencer7_amount value = 250 }
		recalculate_influence = yes	
	}
}


generic_grant_5_percent_influence_of_EU = {
	set_temp_variable = { influence_gain = influence_total }
	multiply_temp_variable = { influence_gain = 0.05 } #4%
	multiply_temp_variable = {
		var = influence_gain
		value = AND.influence_multiplier
	} #from global rank idea
	add_to_temp_variable = { influence_gain = 10 } #10 Debugging value to prevent additions by 0
	for_loop_effect = {
		end = influence_array^num
		value = v
		if = {
			limit = {
				check_variable = { influence_array^v = AND }
			}
			add_to_variable = { influence_array_val^v = influence_gain }
			set_country_flag = found
		}
	}
	if = {
		limit = { NOT = { has_country_flag = found } }
		add_to_array = { influence_array = AND.id }
		add_to_array = { influence_array_val = influence_gain }
	}
	clr_country_flag = found
	delete_influencer_check = yes
	recalculate_influence = yes
	custom_effect_tooltip = improve_AND_influence_5_percent_TT

}
