gdp_test_script_take_5 = {
    set_variable = {
        total_national_income = 0
    }
    every_owned_state = {
        add_to_variable = {
            PREV.total_national_income = total_lower_class_pay
        }
        add_to_variable = {
            PREV.total_national_income = total_middle_class_pay
        }
        add_to_variable = {
            PREV.total_national_income = total_upper_middle_class_pay
        }
        add_to_variable = {
            PREV.total_national_income = total_upper_class_pay
        }
    }
    set_variable = {
        gdp_2022_Version = total_national_income
    }
    add_to_variable = {
        gdp_2022_Version = IncometotalGDP
    }

    multiply_variable = {
        gdp_2022_Version = 0.0001
    }
    log = "[THIS.Owner.GetTag]:[THIS.GetName]: GDP $[?.gdp_2022_Version]B"
}

set_starting_info = {
    set_variable = {
        PREV.total_pay_per_employee_national = 0
    }
    set_variable = {
        PREV.total_employed_pops_national = 0
    }
    set_variable = {
        PREV.total_employed_pay_national = 0
    }
    every_owned_state = {
        limit = {
            check_variable = {
                literate_educated > 0
            }
        }
        add_to_variable = {
            PREV.total_employed_pay_national = total_employed_pay
        }
        add_to_variable = {
            PREV.total_employed_pops_national = total_employed_pops
        }
    }
    set_variable = {
        total_average_pay = total_employed_pay_national
    }
    divide_variable = {
        total_average_pay = total_employed_pops_national
    }
}
gdp_test_dec_2022 = {
    every_country = {
        set_info_Test = yes
    }
}
set_info_Test = {
    every_owned_state = {
        set_employment_in_state = yes
    }
    set_starting_info = yes
    gdp_test_script_take_5 = yes
}
set_employment_test_2023 = {
    every_country = {
        for_each_scope_loop = {
            array = owned_states

            set_employment_in_state = yes
        }
        set_starting_info = yes
    }
}
set_baseline_start_pay = {
    set_variable = { peasant_subsistence_employment_local_pay = 0.6 }
    set_variable = { laborer_subsistence_employment_local_pay = 1 }

    set_variable = { peasant_farm_employment_local_pay = 1 }
    set_variable = { laborer_farm_employment_local_pay = 1.600 }
    set_variable = { worker_farm_employment_local_pay = 1.800 }
    set_variable = { bureacrat_farm_employment_local_pay = 4.000 }
    set_variable = { professional_farm_employment_local_pay = 5.000 }
    set_variable = { elite_farm_employment_local_pay = 9.000 }
    set_variable = { laborer_rgo_employment_local_pay = 2.800 }
    set_variable = { laborer_arms_employment_local_pay = 2.800 }
    set_variable = { worker_arms_employment_local_pay = 3.500 }
    set_variable = { professional_arms_employment_local_pay = 5.000 }
    set_variable = { bureacrat_arms_employment_local_pay = 4.500 }
    set_variable = { elite_arms_employment_local_pay = 14.000 }
    set_variable = { laborer_industrial_employment_local_pay = 2.800 }
    set_variable = { worker_industrial_employment_local_pay = 3.400 }
    set_variable = { professional_industrial_employment_local_pay = 5.500 }
    set_variable = { bureacrat_industrial_employment_local_pay = 4.500 }
    set_variable = { elite_industrial_employment_local_pay = 14.000 }
    set_variable = { laborer_dockyard_employment_local_pay = 2.800 }
    set_variable = { worker_dockyard_employment_local_pay = 3.400 }
    set_variable = { professional_dockyard_employment_local_pay = 5.000 }
    set_variable = { bureacrat_dockyard_employment_local_pay = 4.500 }
    set_variable = { elite_dockyard_employment_local_pay = 14.000 }
    set_variable = { laborer_oil_refinery_employment_local_pay = 3.000 }
    set_variable = { worker_oil_refinery_employment_local_pay = 4.000 }
    set_variable = { professional_oil_refinery_employment_local_pay = 6.000 }
    set_variable = { bureacrat_oil_refinery_employment_local_pay = 5.000 }
    set_variable = { elite_oil_refinery_employment_local_pay = 18.000 }
    set_variable = { worker_local_office_employment_local_pay = 4.000 }
    set_variable = { laborer_local_office_employment_local_pay = 3.000 }
    set_variable = { professional_local_office_employment_local_pay = 6.500 }
    set_variable = { bureacrat_local_office_employment_local_pay = 5.500 }
    set_variable = { elite_local_office_employment_local_pay = 20.000 }
    set_variable = { laborer_nuclear_reactor_employment_local_pay = 2.000 }
    set_variable = { worker_nuclear_reactor_employment_local_pay = 4.000 }
    set_variable = { bureacrat_nuclear_reactor_employment_local_pay = 6.000 }
    set_variable = { professional_nuclear_reactor_employment_local_pay = 7.000 }
    set_variable = { laborer_nuclear_power_employment_local_pay = 2.200 }
    set_variable = { worker_nuclear_power_employment_local_pay = 3.200 }
    set_variable = { bureacrat_nuclear_power_employment_local_pay = 5.500 }
    set_variable = { professional_nuclear_power_employment_local_pay = 7.000 }
    set_variable = { elite_nuclear_power_employment_local_pay = 15.000 }
    set_variable = { laborer_refinery_employment_local_pay = 3.000 }
    set_variable = { worker_refinery_employment_local_pay = 3.500 }
    set_variable = { bureacrat_refinery_employment_local_pay = 5.000 }
    set_variable = { professional_refinery_employment_local_pay = 6.000 }
    set_variable = { elite_refinery_employment_local_pay = 15.000 }
    set_variable = { laborer_power_employment_local_pay = 2.700 }
    set_variable = { worker_power_employment_local_pay = 3.200 }
    set_variable = { bureacrat_power_employment_local_pay = 4.500 }
    set_variable = { professional_power_employment_local_pay = 5.500 }
    set_variable = { elite_power_employment_local_pay = 14.000 }

    if = {
        limit = {
            owner = {
                OR = {
                    has_government = maoism
                    has_government = communism
                }
            }
        }
        #free_building_slots	
        set_variable = { peasant_subsistence_employment_local_pay = 0.5 }
        set_variable = { laborer_subsistence_employment_local_pay = 0.6 }

        set_variable = { peasant_farm_employment_local_pay = 1 }
        set_variable = { laborer_farm_employment_local_pay = 1.2 }
        set_variable = { worker_farm_employment_local_pay = 1.3 }
        set_variable = { bureacrat_farm_employment_local_pay = 1.500 }
        set_variable = { professional_farm_employment_local_pay = 1.500 }
        set_variable = { laborer_rgo_employment_local_pay = 3.000 }
        set_variable = { laborer_arms_employment_local_pay = 2 }
        set_variable = { worker_arms_employment_local_pay = 2.2 }
        set_variable = { professional_arms_employment_local_pay = 2.2 }
        set_variable = { bureacrat_arms_employment_local_pay = 2.2 }
        set_variable = { laborer_industrial_employment_local_pay = 2 }
        set_variable = { worker_industrial_employment_local_pay = 2.2 }
        set_variable = { professional_industrial_employment_local_pay = 2.3 }
        set_variable = { bureacrat_industrial_employment_local_pay = 2.3 }
        set_variable = { laborer_dockyard_employment_local_pay = 2 }
        set_variable = { worker_dockyard_employment_local_pay = 2.2 }
        set_variable = { professional_dockyard_employment_local_pay = 2.3 }
        set_variable = { bureacrat_dockyard_employment_local_pay = 2.3 }
        set_variable = { laborer_oil_refinery_employment_local_pay = 2.0 }
        set_variable = { worker_oil_refinery_employment_local_pay = 2.000 }
        set_variable = { professional_oil_refinery_employment_local_pay = 2.4 }
        set_variable = { bureacrat_oil_refinery_employment_local_pay = 2.4 }
        set_variable = { worker_local_office_employment_local_pay = 2.3 }
        set_variable = { laborer_local_office_employment_local_pay = 2.1 }
        set_variable = { professional_local_office_employment_local_pay = 2.4 }
        set_variable = { bureacrat_local_office_employment_local_pay = 2.4 }
        set_variable = { laborer_nuclear_reactor_employment_local_pay = 2.000 }
        set_variable = { worker_nuclear_reactor_employment_local_pay = 2.200 }
        set_variable = { bureacrat_nuclear_reactor_employment_local_pay = 2.500 }
        set_variable = { professional_nuclear_reactor_employment_local_pay = 2.500 }
        set_variable = { laborer_nuclear_power_employment_local_pay = 2.000 }
        set_variable = { worker_nuclear_power_employment_local_pay = 2.200 }
        set_variable = { bureacrat_nuclear_power_employment_local_pay = 2.500 }
        set_variable = { professional_nuclear_power_employment_local_pay = 2.500 }
        set_variable = { laborer_refinery_employment_local_pay = 2.000 }
        set_variable = { worker_refinery_employment_local_pay = 2.200 }
        set_variable = { bureacrat_refinery_employment_local_pay = 2.300 }
        set_variable = { professional_refinery_employment_local_pay = 2.200 }
        set_variable = { laborer_power_employment_local_pay = 2.000 }
        set_variable = { worker_power_employment_local_pay = 2.200 }
        set_variable = { bureacrat_power_employment_local_pay = 2.300 }
        set_variable = { professional_power_employment_local_pay = 2.300 }
    }
}

set_employment_in_state = {
    set_baseline_start_pay = yes
    set_variable = {
        state_workforce_total = local_pop_k_test
    }
    set_variable = { local_rgo_employment = 0 }
    set_variable = { nuclear_reactor_employment = 0 }
    set_variable = { nuclear_power_employment = 0 }
    set_variable = { local_industrial_employment = 0 }
    set_variable = { local_oil_refinery_employment = 0 }
    set_variable = { local_refinery_employment = 0 }
    set_variable = { local_farm_employment = 0 }
    set_variable = { local_office_employment = 0 }
    set_variable = { local_dockyard_employment = 0 }
    set_variable = { local_arms_employment = 0 }
    set_variable = { local_power_employment = 0 }
    add_to_variable = {
        local_rgo_employment = resource@steel
    }
    add_to_variable = {
        local_rgo_employment = resource@chromium
    }
    add_to_variable = {
        local_rgo_employment = resource@aluminium
    }
    add_to_variable = {
        local_rgo_employment = resource@oil
    }
    add_to_variable = {
        local_rgo_employment = resource@tungsten
    }
        
    add_to_variable = {
        nuclear_reactor_employment = building_level@nuclear_reactor
    }
    add_to_variable = {
        nuclear_power_employment = building_level@nuclear_powerplant
    }       

    add_to_variable = {
        local_power_employment = building_level@fossil_fuel_powerplant
    }
    add_to_variable = {
        local_industrial_employment = building_level@industrial_complex
    }
    add_to_variable = {
        local_oil_refinery_employment = building_level@synthetic_refinery
    }
    add_to_variable = {
        local_refinery_employment = building_level@tungsten_factory
    }
    add_to_variable = {
        local_refinery_employment = building_level@steel_factory
    }
    add_to_variable = {
        local_farm_employment = building_level@agri_industrial_complex
    }
    add_to_variable = {
        local_office_employment = building_level@office_park
    }
    add_to_variable = {
        local_dockyard_employment = building_level@dockyard
    }
    add_to_variable = {
        local_arms_employment = building_level@arms_factory
    }
    set_variable = {
        Subsistence_Slots = modifier@local_building_slots
    }
    subtract_from_variable = { Subsistence_Slots = local_arms_employment }
    subtract_from_variable = { Subsistence_Slots = local_dockyard_employment }
    subtract_from_variable = { Subsistence_Slots = local_office_employment }
    subtract_from_variable = { Subsistence_Slots = local_farm_employment }
    subtract_from_variable = { Subsistence_Slots = local_refinery_employment }
    subtract_from_variable = { Subsistence_Slots = local_oil_refinery_employment }
    subtract_from_variable = { Subsistence_Slots = local_industrial_employment }

    if = {
        limit = {
            development_level_zero_check = yes
        }
        set_variable = {
            development_pay_bonus = 0.8
        }
        set_variable = {
            peasant_subsistence_employment = 100
        }
        multiply_variable = {
            peasant_subsistence_employment = Subsistence_Slots
        }
        #RGO
        set_variable = {
            laborer_rgo_employment = local_rgo_employment
        }
        multiply_variable = {
            laborer_rgo_employment = 2
        }
        if = {
            limit = {
                owner = {
                    OR = {
                        has_government = maoism
                        has_government = communism
                    }
                }
            }
            set_variable = {
                check_one = 1
            }
            #Farm 
            set_variable = { peasant_farm_employment = local_farm_employment }
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { peasant_farm_employment = 148 }
            multiply_variable = { laborer_farm_employment = 0 }    
            multiply_variable = { worker_farm_employment = 0 }    
            multiply_variable = { bureacrat_farm_employment = 2 }    
            multiply_variable = { professional_farm_employment = 0 }    
            multiply_variable = { elite_farm_employment = 0 }   

            #Arms Factory   
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 95 }    
            multiply_variable = { worker_arms_employment = 0 }    
            multiply_variable = { bureacrat_arms_employment = 5 }    
            multiply_variable = { professional_arms_employment = 0 }    
            multiply_variable = { elite_arms_employment = 0 }    

            #Industrial Complex 
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 95 }    
            multiply_variable = { worker_industrial_employment = 0 }    
            multiply_variable = { bureacrat_industrial_employment = 5 }    
            multiply_variable = { professional_industrial_employment = 0 }    
            multiply_variable = { elite_industrial_employment = 0 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 95 }    
            multiply_variable = { worker_dockyard_employment = 0 }    
            multiply_variable = { bureacrat_dockyard_employment = 5 }    
            multiply_variable = { professional_dockyard_employment = 0 }    
            multiply_variable = { elite_dockyard_employment = 0 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 98 }    
            multiply_variable = { worker_oil_refinery_employment = 0 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 2 }    
            multiply_variable = { professional_oil_refinery_employment = 0 }    
            multiply_variable = { elite_oil_refinery_employment = 0 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 25 }   
            multiply_variable = { worker_local_office_employment = 0 }    
            multiply_variable = { bureacrat_local_office_employment = 5 }    
            multiply_variable = { professional_local_office_employment = 5 }    
            multiply_variable = { elite_local_office_employment = 0 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { laborer_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { laborer_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 0 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { laborer_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { laborer_nuclear_power_employment = 17 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 3 }    
            multiply_variable = { professional_nuclear_reactor_employment = 0 }
            multiply_variable = { elite_nuclear_power_employment = 0 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 17 }    
            multiply_variable = { worker_power_employment = 0 }    
            multiply_variable = { bureacrat_power_employment = 3 }    
            multiply_variable = { professional_power_employment = 0 }    
            multiply_variable = { elite_power_employment = 0 } 

            #Refinery   
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 95 }    
            multiply_variable = { worker_refinery_employment = 0 }    
            multiply_variable = { bureacrat_refinery_employment = 5 }    
            multiply_variable = { professional_refinery_employment = 0 }    
            multiply_variable = { elite_refinery_employment = 0 } 
        }
        else = {
            #Farm 
            set_variable = { peasant_farm_employment = local_farm_employment }
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { peasant_farm_employment = 125 }
            multiply_variable = { laborer_farm_employment = 0 }    
            multiply_variable = { worker_farm_employment = 0 }    
            multiply_variable = { bureacrat_farm_employment = 0 }    
            multiply_variable = { professional_farm_employment = 0 }    
            multiply_variable = { elite_farm_employment = 25 }   

            #Arms Factory   
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 85 }    
            multiply_variable = { worker_arms_employment = 0 }    
            multiply_variable = { bureacrat_arms_employment = 5 }    
            multiply_variable = { professional_arms_employment = 0 }    
            multiply_variable = { elite_arms_employment = 10 }    

            #Industrial Complex 
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 85 }    
            multiply_variable = { worker_industrial_employment = 0 }    
            multiply_variable = { bureacrat_industrial_employment = 5 }    
            multiply_variable = { professional_industrial_employment = 0 }    
            multiply_variable = { elite_industrial_employment = 10 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 85 }    
            multiply_variable = { worker_dockyard_employment = 0 }    
            multiply_variable = { bureacrat_dockyard_employment = 5 }    
            multiply_variable = { professional_dockyard_employment = 0 }    
            multiply_variable = { elite_dockyard_employment = 10 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 90 }    
            multiply_variable = { worker_oil_refinery_employment = 0 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 0 }    
            multiply_variable = { professional_oil_refinery_employment = 0 }    
            multiply_variable = { elite_oil_refinery_employment = 10 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 20 }   
            multiply_variable = { worker_local_office_employment = 0 }    
            multiply_variable = { bureacrat_local_office_employment = 5 }    
            multiply_variable = { professional_local_office_employment = 5 }    
            multiply_variable = { elite_local_office_employment = 5 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { laborer_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { laborer_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 0 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { laborer_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { laborer_nuclear_power_employment = 16 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 3 }    
            multiply_variable = { professional_nuclear_reactor_employment = 0 }
            multiply_variable = { elite_nuclear_power_employment = 1 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 16 }    
            multiply_variable = { worker_power_employment = 0 }    
            multiply_variable = { bureacrat_power_employment = 3 }    
            multiply_variable = { professional_power_employment = 0 }    
            multiply_variable = { elite_power_employment = 1 } 

            #Refinery   
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 90 }    
            multiply_variable = { worker_refinery_employment = 0 }    
            multiply_variable = { bureacrat_refinery_employment = 0 }    
            multiply_variable = { professional_refinery_employment = 0 }    
            multiply_variable = { elite_refinery_employment = 10 } 

        }

        #Soldiers

        set_variable = { peasant_state_total = 0 }
        add_to_variable = { peasant_state_total = peasant_subsistence_employment }
        add_to_variable = { peasant_state_total = peasant_farm_employment }
        

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { peasant_state_total = 0 }
        add_to_variable = { peasant_state_total = peasant_subsistence_employment }
        add_to_variable = { peasant_state_total = peasant_farm_employment }

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { total_workforce = 0 }
        add_to_variable = { total_workforce = peasant_state_total }
        add_to_variable = { total_workforce = laborer_state_total }
        add_to_variable = { total_workforce = worker_state_total }
        add_to_variable = { total_workforce = bureacrat_state_total }
        add_to_variable = { total_workforce = professional_state_total }
        add_to_variable = { total_workforce = elite_state_total }

        set_variable = { peasant_state_percentage = peasant_state_total }
        set_variable = { laborer_state_percentage = laborer_state_total }
        set_variable = { worker_state_percentage = worker_state_total }
        set_variable = { bureacrat_state_percentage = bureacrat_state_total }
        set_variable = { professional_state_percentage = professional_state_total }
        set_variable = { elite_state_percentage = elite_state_total }

        divide_variable = { peasant_state_percentage = total_workforce }
        divide_variable = { laborer_state_percentage = total_workforce }
        divide_variable = { worker_state_percentage = total_workforce }
        divide_variable = { bureacrat_state_percentage = total_workforce }
        divide_variable = { professional_state_percentage = total_workforce }
        divide_variable = { elite_state_percentage = total_workforce }

        #Lower Class Serfs+Laborers
        set_variable = { lower_class_percentage = laborer_state_percentage }
        add_to_variable = { lower_class_percentage = peasant_state_percentage }

        #Middle Class Soldiers+Workers
        set_variable = { middle_class_percentage = worker_state_percentage }
        add_to_variable = { middle_class_percentage = soldier_state_percentage }

        #Upper Middle Class Bureacrats+Proffesionals
        set_variable = { upper_middle_class_percentage = bureacrat_state_percentage }
        add_to_variable = { upper_middle_class_percentage = professional_state_percentage }

        #Upper Class Elites
        set_variable = { upper_class_percentage = elite_state_percentage }
    }

    else_if = {
        limit = {
            development_level_one_check = yes
        }
        set_variable = {
            development_pay_bonus = 1
        }
        set_variable = {
            peasant_subsistence_employment = 50
        }
        multiply_variable = {
            laborer_subsistence_employment = Subsistence_Slots
        }
        set_variable = {
            peasant_subsistence_employment = 50
        }
        multiply_variable = {
            peasant_subsistence_employment = Subsistence_Slots
        }
        #RGO
        set_variable = {
            laborer_rgo_employment = local_rgo_employment
        }
        multiply_variable = {
            laborer_rgo_employment = 2
        }
        if = {
            limit = {
                owner = {
                    OR = {
                        has_government = maoism
                        has_government = communism
                    }
                }
            }
            #Farm 
            set_variable = { peasant_farm_employment = local_farm_employment }
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { peasant_farm_employment = 120 }
            multiply_variable = { laborer_farm_employment = 25 }    
            multiply_variable = { worker_farm_employment = 0 }    
            multiply_variable = { bureacrat_farm_employment = 5 }    
            multiply_variable = { professional_farm_employment = 0 }    
            multiply_variable = { elite_farm_employment = 0 }   

            #Arms Factory   
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 65 }    
            multiply_variable = { worker_arms_employment = 30 }    
            multiply_variable = { bureacrat_arms_employment = 5 }    
            multiply_variable = { professional_arms_employment = 0 }    
            multiply_variable = { elite_arms_employment = 0 }    

            #Industrial Complex 
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 65 }    
            multiply_variable = { worker_industrial_employment = 30 }    
            multiply_variable = { bureacrat_industrial_employment = 5 }    
            multiply_variable = { professional_industrial_employment = 0 }    
            multiply_variable = { elite_industrial_employment = 0 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 65 }    
            multiply_variable = { worker_dockyard_employment = 30 }    
            multiply_variable = { bureacrat_dockyard_employment = 5 }    
            multiply_variable = { professional_dockyard_employment = 0 }    
            multiply_variable = { elite_dockyard_employment = 0 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 65 }    
            multiply_variable = { worker_oil_refinery_employment = 35 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 0 }    
            multiply_variable = { professional_oil_refinery_employment = 0 }    
            multiply_variable = { elite_oil_refinery_employment = 0 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 20 }   
            multiply_variable = { worker_local_office_employment = 0 }    
            multiply_variable = { bureacrat_local_office_employment = 5 }    
            multiply_variable = { professional_local_office_employment = 10 }    
            multiply_variable = { elite_local_office_employment = 0 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { worker_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 5 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { laborer_nuclear_power_employment = nuclear_power_employment }
            set_variable = { worker_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { laborer_nuclear_power_employment = 0 }    
            multiply_variable = { worker_nuclear_power_employment = 5 }  
            multiply_variable = { bureacrat_nuclear_reactor_employment = 5 }    
            multiply_variable = { professional_nuclear_reactor_employment = 10 }
            multiply_variable = { elite_nuclear_power_employment = 0 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 11 }    
            multiply_variable = { worker_power_employment = 6 }    
            multiply_variable = { bureacrat_power_employment = 3 }    
            multiply_variable = { professional_power_employment = 0 }    
            multiply_variable = { elite_power_employment = 0 } 

            #Refinery   
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 75 }    
            multiply_variable = { worker_refinery_employment = 25 }    
            multiply_variable = { bureacrat_refinery_employment = 0 }    
            multiply_variable = { professional_refinery_employment = 0 }    
            multiply_variable = { elite_refinery_employment = 0 } 

            #Soldiers

            set_variable = { peasant_state_total = 0 }
            add_to_variable = { peasant_state_total = peasant_subsistence_employment }
            add_to_variable = { peasant_state_total = peasant_farm_employment }
        }
        else = {
            #Farm 
            set_variable = { peasant_farm_employment = local_farm_employment }
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { peasant_farm_employment = 100 }
            multiply_variable = { laborer_farm_employment = 23 }    
            multiply_variable = { worker_farm_employment = 0 }    
            multiply_variable = { bureacrat_farm_employment = 2 }    
            multiply_variable = { professional_farm_employment = 0 }    
            multiply_variable = { elite_farm_employment = 25 }   

            #Arms Factory   
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 60 }    
            multiply_variable = { worker_arms_employment = 25 }    
            multiply_variable = { bureacrat_arms_employment = 5 }    
            multiply_variable = { professional_arms_employment = 0 }    
            multiply_variable = { elite_arms_employment = 10 }    

            #Industrial Complex 
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 60 }    
            multiply_variable = { worker_industrial_employment = 25 }    
            multiply_variable = { bureacrat_industrial_employment = 5 }    
            multiply_variable = { professional_industrial_employment = 0 }    
            multiply_variable = { elite_industrial_employment = 10 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 60 }    
            multiply_variable = { worker_dockyard_employment = 25 }    
            multiply_variable = { bureacrat_dockyard_employment = 5 }    
            multiply_variable = { professional_dockyard_employment = 0 }    
            multiply_variable = { elite_dockyard_employment = 10 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 60 }    
            multiply_variable = { worker_oil_refinery_employment = 30 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 0 }    
            multiply_variable = { professional_oil_refinery_employment = 0 }    
            multiply_variable = { elite_oil_refinery_employment = 10 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 15 }   
            multiply_variable = { worker_local_office_employment = 0 }    
            multiply_variable = { bureacrat_local_office_employment = 5 }    
            multiply_variable = { professional_local_office_employment = 10 }    
            multiply_variable = { elite_local_office_employment = 5 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { worker_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 5 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { laborer_nuclear_power_employment = nuclear_power_employment }
            set_variable = { worker_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { laborer_nuclear_power_employment = 0 }    
            multiply_variable = { worker_nuclear_power_employment = 5 }  
            multiply_variable = { bureacrat_nuclear_reactor_employment = 4 }    
            multiply_variable = { professional_nuclear_reactor_employment = 10 }
            multiply_variable = { elite_nuclear_power_employment = 1 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 10 }    
            multiply_variable = { worker_power_employment = 6 }    
            multiply_variable = { bureacrat_power_employment = 3 }    
            multiply_variable = { professional_power_employment = 0 }    
            multiply_variable = { elite_power_employment = 1 } 

            #Refinery   
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 70 }    
            multiply_variable = { worker_refinery_employment = 20 }    
            multiply_variable = { bureacrat_refinery_employment = 0 }    
            multiply_variable = { professional_refinery_employment = 0 }    
            multiply_variable = { elite_refinery_employment = 10 } 

            #Soldiers

            set_variable = { peasant_state_total = 0 }
            add_to_variable = { peasant_state_total = peasant_subsistence_employment }
            add_to_variable = { peasant_state_total = peasant_farm_employment }

        }
        

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { peasant_state_total = 0 }
        add_to_variable = { peasant_state_total = peasant_subsistence_employment }
        add_to_variable = { peasant_state_total = peasant_farm_employment }

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { total_workforce = 0 }
        add_to_variable = { total_workforce = peasant_state_total }
        add_to_variable = { total_workforce = laborer_state_total }
        add_to_variable = { total_workforce = worker_state_total }
        add_to_variable = { total_workforce = bureacrat_state_total }
        add_to_variable = { total_workforce = professional_state_total }
        add_to_variable = { total_workforce = elite_state_total }

        set_variable = { peasant_state_percentage = peasant_state_total }
        set_variable = { laborer_state_percentage = laborer_state_total }
        set_variable = { worker_state_percentage = worker_state_total }
        set_variable = { bureacrat_state_percentage = bureacrat_state_total }
        set_variable = { professional_state_percentage = professional_state_total }
        set_variable = { elite_state_percentage = elite_state_total }

        divide_variable = { peasant_state_percentage = total_workforce }
        divide_variable = { laborer_state_percentage = total_workforce }
        divide_variable = { worker_state_percentage = total_workforce }
        divide_variable = { bureacrat_state_percentage = total_workforce }
        divide_variable = { professional_state_percentage = total_workforce }
        divide_variable = { elite_state_percentage = total_workforce }

        #Lower Class Serfs+Laborers
        set_variable = { lower_class_percentage = laborer_state_percentage }
        add_to_variable = { lower_class_percentage = peasant_state_percentage }

        #Middle Class Soldiers+Workers
        set_variable = { middle_class_percentage = worker_state_percentage }
        add_to_variable = { middle_class_percentage = soldier_state_percentage }

        #Upper Middle Class Bureacrats+Proffesionals
        set_variable = { upper_middle_class_percentage = bureacrat_state_percentage }
        add_to_variable = { upper_middle_class_percentage = professional_state_percentage }

        #Upper Class Elites
        set_variable = { upper_class_percentage = elite_state_percentage }
    }
    else_if = {
        limit = {
            development_level_two_check = yes
        }

        set_variable = {
            peasant_subsistence_employment = 50
        }
        multiply_variable = {
            laborer_subsistence_employment = Subsistence_Slots
        }
        #RGO
        set_variable = {
            worker_rgo_employment = local_rgo_employment
        }
        multiply_variable = {
            worker_rgo_employment = 2
        }
        if = {
            limit = {
                owner = {
                    OR = {
                        has_government = maoism
                        has_government = communism
                    }
                }
            }
            set_variable = {
                development_pay_bonus = 1
            }
            #Farm
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { laborer_farm_employment = 115 }    
            multiply_variable = { worker_farm_employment = 25 }    
            multiply_variable = { bureacrat_farm_employment = 5 }    
            multiply_variable = { professional_farm_employment = 5 }    
            multiply_variable = { elite_farm_employment = 0 }   

            #Arms Factory   25	50	10	5	10
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 30 }    
            multiply_variable = { worker_arms_employment = 50 }    
            multiply_variable = { bureacrat_arms_employment = 10 }    
            multiply_variable = { professional_arms_employment = 10 }    
            multiply_variable = { elite_arms_employment = 0 }    

            #Industrial Complex 25	50	10	5	10
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 28 }    
            multiply_variable = { worker_industrial_employment = 55 }    
            multiply_variable = { bureacrat_industrial_employment = 10 }    
            multiply_variable = { professional_industrial_employment = 7 }    
            multiply_variable = { elite_industrial_employment = 0 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 35 }    
            multiply_variable = { worker_dockyard_employment = 50 }    
            multiply_variable = { bureacrat_dockyard_employment = 10 }    
            multiply_variable = { professional_dockyard_employment = 10 }    
            multiply_variable = { elite_dockyard_employment = 0 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 35 }    
            multiply_variable = { worker_oil_refinery_employment = 50 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 10 }    
            multiply_variable = { professional_oil_refinery_employment = 5 }    
            multiply_variable = { elite_oil_refinery_employment = 0 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 15 }   
            multiply_variable = { worker_local_office_employment = 15 }    
            multiply_variable = { bureacrat_local_office_employment = 3 }    
            multiply_variable = { professional_local_office_employment = 2 }    
            multiply_variable = { elite_local_office_employment = 0 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { worker_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 5 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { worker_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 10 }    
            multiply_variable = { professional_nuclear_reactor_employment = 5 }
            multiply_variable = { elite_nuclear_power_employment = 0 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 7 }    
            multiply_variable = { worker_power_employment = 10 }    
            multiply_variable = { bureacrat_power_employment = 0 }    
            multiply_variable = { professional_power_employment = 3 }    
            multiply_variable = { elite_power_employment = 0 } 

            #Refinery   20	70	0	0	10
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 32 }    
            multiply_variable = { worker_refinery_employment = 64 }    
            multiply_variable = { bureacrat_refinery_employment = 2 }    
            multiply_variable = { professional_refinery_employment = 2 }    
            multiply_variable = { elite_refinery_employment = 0 } 

        }
        else = {
            set_variable = {
                development_pay_bonus = 1.1
            }
            #Farm
            set_variable = { laborer_farm_employment = local_farm_employment }
            set_variable = { worker_farm_employment = local_farm_employment }
            set_variable = { bureacrat_farm_employment = local_farm_employment }
            set_variable = { professional_farm_employment = local_farm_employment }
            set_variable = { elite_farm_employment = local_farm_employment }

            multiply_variable = { laborer_farm_employment = 110 }    
            multiply_variable = { worker_farm_employment = 25 }    
            multiply_variable = { bureacrat_farm_employment = 5 }    
            multiply_variable = { professional_farm_employment = 5 }    
            multiply_variable = { elite_farm_employment = 5 }   

            #Arms Factory   25	50	10	5	10
            set_variable = { laborer_arms_employment = local_arms_employment }
            set_variable = { worker_arms_employment = local_arms_employment }
            set_variable = { bureacrat_arms_employment = local_arms_employment }
            set_variable = { professional_arms_employment = local_arms_employment }
            set_variable = { elite_arms_employment = local_arms_employment }

            multiply_variable = { laborer_arms_employment = 25 }    
            multiply_variable = { worker_arms_employment = 50 }    
            multiply_variable = { bureacrat_arms_employment = 10 }    
            multiply_variable = { professional_arms_employment = 10 }    
            multiply_variable = { elite_arms_employment = 5 }    

            #Industrial Complex 25	50	10	5	10
            set_variable = { laborer_industrial_employment = local_industrial_employment }
            set_variable = { worker_industrial_employment = local_industrial_employment }
            set_variable = { bureacrat_industrial_employment = local_industrial_employment }
            set_variable = { professional_industrial_employment = local_industrial_employment }
            set_variable = { elite_industrial_employment = local_industrial_employment }

            multiply_variable = { laborer_industrial_employment = 25 }    
            multiply_variable = { worker_industrial_employment = 55 }    
            multiply_variable = { bureacrat_industrial_employment = 10 }    
            multiply_variable = { professional_industrial_employment = 7 }    
            multiply_variable = { elite_industrial_employment = 3 }   

            #Dockyard   25	50	10	5	10
            set_variable = { laborer_dockyard_employment = local_dockyard_employment }
            set_variable = { worker_dockyard_employment = local_dockyard_employment }
            set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
            set_variable = { professional_dockyard_employment = local_dockyard_employment }
            set_variable = { elite_dockyard_employment = local_dockyard_employment }

            multiply_variable = { laborer_dockyard_employment = 32 }    
            multiply_variable = { worker_dockyard_employment = 50 }    
            multiply_variable = { bureacrat_dockyard_employment = 10 }    
            multiply_variable = { professional_dockyard_employment = 10 }    
            multiply_variable = { elite_dockyard_employment = 3 } 

            #Oil Refinery   25	50	10	5	10
            set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
            set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

            multiply_variable = { laborer_oil_refinery_employment = 33 }    
            multiply_variable = { worker_oil_refinery_employment = 50 }    
            multiply_variable = { bureacrat_oil_refinery_employment = 10 }    
            multiply_variable = { professional_oil_refinery_employment = 5 }    
            multiply_variable = { elite_oil_refinery_employment = 2 } 

            #Office Park    0	5	20	5	5
            set_variable = { laborer_local_office_employment = local_office_employment }
            set_variable = { worker_local_office_employment = local_office_employment }
            set_variable = { bureacrat_local_office_employment = local_office_employment }
            set_variable = { professional_local_office_employment = local_office_employment }
            set_variable = { elite_local_office_employment = local_office_employment }

            multiply_variable = { laborer_local_office_employment = 10 }   
            multiply_variable = { worker_local_office_employment = 15 }    
            multiply_variable = { bureacrat_local_office_employment = 3 }    
            multiply_variable = { professional_local_office_employment = 5 }    
            multiply_variable = { elite_local_office_employment = 2 } 

            #Nuclear Reactor    0	5	15	5	0
            
            set_variable = { worker_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
            set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
            multiply_variable = { professional_nuclear_reactor_employment = 5 }    

            #Nuclear Power Plants   0	5	10	4	1
            
            set_variable = { worker_nuclear_power_employment = nuclear_power_employment }
            set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
            set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
            set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

            multiply_variable = { worker_nuclear_reactor_employment = 5 }    
            multiply_variable = { bureacrat_nuclear_reactor_employment = 10 }    
            multiply_variable = { professional_nuclear_reactor_employment = 4 }
            multiply_variable = { elite_nuclear_power_employment = 1 }     
            
            #Power Plants 
            set_variable = { laborer_power_employment = local_power_employment }
            set_variable = { worker_power_employment = local_power_employment }
            set_variable = { bureacrat_power_employment = local_power_employment }
            set_variable = { professional_power_employment = local_power_employment }
            set_variable = { elite_power_employment = local_power_employment }

            multiply_variable = { laborer_power_employment = 6 }    
            multiply_variable = { worker_power_employment = 10 }    
            multiply_variable = { bureacrat_power_employment = 0 }    
            multiply_variable = { professional_power_employment = 3 }    
            multiply_variable = { elite_power_employment = 1 } 

            #Refinery   20	70	0	0	10
            
            set_variable = { laborer_refinery_employment = local_refinery_employment }
            set_variable = { worker_refinery_employment = local_refinery_employment }
            set_variable = { bureacrat_refinery_employment = local_refinery_employment }
            set_variable = { professional_refinery_employment = local_refinery_employment }
            set_variable = { elite_refinery_employment = local_refinery_employment }

            multiply_variable = { laborer_refinery_employment = 30 }    
            multiply_variable = { worker_refinery_employment = 64 }    
            multiply_variable = { bureacrat_refinery_employment = 2 }    
            multiply_variable = { professional_refinery_employment = 2 }    
            multiply_variable = { elite_refinery_employment = 2 } 

        }

        #Soldiers

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_reactor_employment }
        add_to_variable = { laborer_state_total = laborer_nuclear_power_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment  }
        add_to_variable = { laborer_state_total = laborer_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_local_office_employment }
        add_to_variable = { laborer_state_total = laborer_subsistence_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { total_workforce = 0 }
        add_to_variable = { total_workforce = peasant_state_total }
        add_to_variable = { total_workforce = laborer_state_total }
        add_to_variable = { total_workforce = worker_state_total }
        add_to_variable = { total_workforce = bureacrat_state_total }
        add_to_variable = { total_workforce = professional_state_total }
        add_to_variable = { total_workforce = elite_state_total }

        set_variable = { laborer_state_percentage = laborer_state_total }
        set_variable = { worker_state_percentage = worker_state_total }
        set_variable = { bureacrat_state_percentage = bureacrat_state_total }
        set_variable = { professional_state_percentage = professional_state_total }
        set_variable = { elite_state_percentage = elite_state_total }

        divide_variable = { laborer_state_percentage = total_workforce }
        divide_variable = { worker_state_percentage = total_workforce }
        divide_variable = { bureacrat_state_percentage = total_workforce }
        divide_variable = { professional_state_percentage = total_workforce }
        divide_variable = { elite_state_percentage = total_workforce }

        #Lower Class Serfs+Laborers
        set_variable = { lower_class_percentage = laborer_state_percentage }
        add_to_variable = { lower_class_percentage = peasant_state_percentage }

        #Middle Class Soldiers+Workers
        set_variable = { middle_class_percentage = worker_state_percentage }
        add_to_variable = { middle_class_percentage = soldier_state_percentage }

        #Upper Middle Class Bureacrats+Proffesionals
        set_variable = { upper_middle_class_percentage = bureacrat_state_percentage }
        add_to_variable = { upper_middle_class_percentage = professional_state_percentage }

        #Upper Class Elites
        set_variable = { upper_class_percentage = elite_state_percentage }
    }
    #else_if = {
    #
    #}
    education_income_modifier_set = yes
    lower_class_pay_calc = yes
    middle_class_pay_calc = yes
    upper_middle_class_pay_calc = yes
    upper_class_pay_calc = yes
    set_variable = {
        total_employed_pops = 0
    }
    set_variable = {
        total_employed_pay = 0
    }
    add_to_variable = { total_employed_pops = total_lower_class_pop }
    add_to_variable = { total_employed_pops = total_middle_class_pop }
    add_to_variable = { total_employed_pops = total_upper_middle_class_pop }
    add_to_variable = { total_employed_pops = total_upper_class_pop }

    set_variable = { total_lower_class_pop_percentage = total_lower_class_pop }
    set_variable = { total_middle_class_pop_percentage = total_middle_class_pop }
    set_variable = { total_upper_middle_class_pop_percentage = total_upper_middle_class_pop }
    set_variable = { total_upper_class_pop_percentage = total_upper_class_pop }

    set_variable = { total_lower_class_pop_pay_average = total_lower_class_pay }
    set_variable = { total_middle_class_pop_pay_average = total_middle_class_pay }
    set_variable = { total_upper_middle_class_pop_pay_average = total_upper_middle_class_pay }
    set_variable = { total_upper_class_pop_pay_average = total_upper_class_pay }

    divide_variable = {
        total_lower_class_pop_pay_average = total_lower_class_pop
    }
    divide_variable = {
        total_middle_class_pop_pay_average = total_middle_class_pop
    }
    divide_variable = {
        total_upper_middle_class_pop_pay_average = total_upper_middle_class_pop
    }
    divide_variable = {
        total_upper_class_pop_pay_average = total_upper_class_pop
    }
    divide_variable = { total_lower_class_pop_percentage = total_employed_pops }
    divide_variable = { total_middle_class_pop_percentage = total_employed_pops }
    divide_variable = { total_upper_middle_class_pop_percentage = total_employed_pops }
    divide_variable = { total_upper_class_pop_percentage = total_employed_pops }

    add_to_variable = { total_employed_pay = total_lower_class_pay }
    add_to_variable = { total_employed_pay = total_middle_class_pay }
    add_to_variable = { total_employed_pay = total_upper_middle_class_pay }
    add_to_variable = { total_employed_pay = total_upper_class_pay }

    set_variable = {
        total_pay_per_employee = total_employed_pay
    }
    divide_variable = {
        total_pay_per_employee = total_employed_pops
    }
    standard_of_living_setup = yes
}
education_income_modifier_set = {
    set_variable = {
        college_educated_temp = college_educated
    }
    multiply_variable = {
        college_educated_temp = 0.01
    }
    #elite bonus
    set_variable = {
        elite_modifier_bonus = 1
    }
    add_to_variable = {
        elite_modifier_bonus = college_educated_temp
    }
    subtract_from_variable = {
        college_educated_temp = upper_class_percentage
    }
    clamp_variable = {
        var = college_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = upper_middle_class_percentage
    }
    set_variable = {
        upper_middle_university_bonus = college_educated_temp
    }
    divide_variable = {
        upper_middle_university_bonus = divisor_upper
    }
    add_to_variable = {
        upper_middle_university_bonus = 1
    }
    subtract_from_variable = {
        college_educated_temp = upper_middle_class_percentage
    }
    clamp_variable = {
        var = upper_middle_university_bonus
        min = 1
        max = 2
    }  
    clamp_variable = {
        var = college_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = middle_class_percentage
    }
    set_variable = {
        middle_university_bonus = college_educated_temp
    }
    divide_variable = {
        middle_university_bonus = divisor_upper
    }
    add_to_variable = {
        middle_university_bonus = 1
    }
    subtract_from_variable = {
        college_educated_temp = middle_class_percentage
    }   
    #high_school_educated
    set_variable = {
        high_school_educated_temp = high_school_educated
    }
    multiply_variable = {
        high_school_educated_temp = 0.01
    }
    subtract_from_variable = {
        high_school_educated_temp = upper_class_percentage
    }
    clamp_variable = {
        var = high_school_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = upper_middle_class_percentage
    }
    set_variable = {
        upper_middle_high_school_penalty = high_school_educated_temp
    }
    divide_variable = {
        upper_middle_high_school_penalty = divisor_upper
    }
    subtract_from_variable = {
        high_school_educated_temp = upper_middle_class_percentage
    }
    clamp_variable = {
        var = upper_middle_high_school_penalty
        min = 0.35
        max = 1
    } 
    clamp_variable = {
        var = high_school_educated_temp
        min = 0
        max = 1
    }  

    set_variable = {
        divisor_upper = middle_class_percentage
    }
    set_variable = {
        middle_high_school_modifier = high_school_educated_temp
    }
    divide_variable = {
        middle_high_school_modifier = divisor_upper
    }
    add_to_variable = {
        middle_high_school_modifier = 0.5
    }
    subtract_from_variable = {
        high_school_educated_temp = middle_class_percentage
    } 
    clamp_variable = {
        var = middle_high_school_modifier
        min = 0.5
        max = 1.25
    }    
    clamp_variable = {
        var = high_school_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = lower_class_percentage
    }
    set_variable = {
        lower_high_school_modifier = high_school_educated_temp
    }
    divide_variable = {
        lower_high_school_modifier = divisor_upper
    }
    add_to_variable = {
        lower_high_school_modifier = 1
    }
    subtract_from_variable = {
        high_school_educated_temp = lower_class_percentage
    }   
    #primary_educated

    set_variable = {
        primary_educated_temp = primary_educated
    }
    multiply_variable = {
        primary_educated_temp = 0.01
    }
    set_variable = {
        divisor_upper = upper_class_percentage
    }
    set_variable = {
        upper_primary_penalty = primary_educated_temp
    }
    divide_variable = {
        upper_primary_penalty = divisor_upper
    }
    subtract_from_variable = {
        primary_educated_temp = upper_class_percentage
    }
    clamp_variable = {
        var = upper_primary_penalty
        min = 0
        max = 1
    }  
    clamp_variable = {
        var = primary_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = upper_middle_class_percentage
    }
    set_variable = {
        upper_middle_primary_penalty = primary_educated_temp
    }
    divide_variable = {
        upper_middle_primary_penalty = divisor_upper
    }
    subtract_from_variable = {
        primary_educated_temp = upper_middle_class_percentage
    }
    clamp_variable = {
        var = upper_middle_primary_penalty
        min = 0.25
        max = 1
    } 
    clamp_variable = {
        var = primary_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = middle_class_percentage
    }
    set_variable = {
        middle_primary_modifier = primary_educated_temp
    }
    divide_variable = {
        middle_primary_modifier = divisor_upper
    }
    subtract_from_variable = {
        primary_educated_temp = middle_class_percentage
    }   
    clamp_variable = {
        var = middle_primary_modifier
        min = 0.6
        max = 1.25
    } 
    clamp_variable = {
        var = primary_educated_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = lower_class_percentage
    }
    set_variable = {
        lower_primary_modifier = primary_educated_temp
    }
    divide_variable = {
        lower_primary_modifier = divisor_upper
    }  
    add_to_variable = {
        lower_primary_modifier = 0.25
    }
    clamp_variable = {
        var = lower_primary_modifier
        min = 0.60
        max = 1.35
    }  
    #literate_educated

    set_variable = {
        literate_temp = literate_educated
    }
    multiply_variable = {
        literate_temp = 0.01
    }
    set_variable = {
        divisor_upper = upper_class_percentage
    }
    set_variable = {
        upper_literate_penalty = literate_temp
    }
    divide_variable = {
        upper_literate_penalty = divisor_upper
    }
    subtract_from_variable = {
        literate_temp = upper_class_percentage
    }
    clamp_variable = {
        var = upper_literate_penalty
        min = 0.25
        max = 1
    } 
    clamp_variable = {
        var = literate_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = upper_middle_class_percentage
    }
    set_variable = {
        upper_middle_literate_penalty = literate_temp
    }
    divide_variable = {
        upper_middle_literate_penalty = divisor_upper
    }
    subtract_from_variable = {
        literate_temp = upper_middle_class_percentage
    }
    clamp_variable = {
        var = upper_middle_literate_penalty
        min = 0.2
        max = 1
    } 
    clamp_variable = {
        var = literate_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = middle_class_percentage
    }
    set_variable = {
        middle_literate_modifier = literate_temp
    }
    divide_variable = {
        middle_literate_modifier = divisor_upper
    }
    subtract_from_variable = {
        literate_temp = middle_class_percentage
    }   
    clamp_variable = {
        var = middle_literate_modifier
        min = 0.10
        max = 1
    }  
    clamp_variable = {
        var = literate_temp
        min = 0
        max = 1
    }  
    set_variable = {
        divisor_upper = lower_class_percentage
    }
    set_variable = {
        lower_literate_modifier = literate_temp
    }
    divide_variable = {
        lower_literate_modifier = divisor_upper
    }
    clamp_variable = {
        var = lower_literate_modifier
        min = 0.02
        max = 1
    }  
}

lower_class_pay_calc = {
    #Add Peasant
    multiply_variable = { laborer_nuclear_reactor_employment_local_pay = laborer_nuclear_reactor_employment }
    multiply_variable = { laborer_nuclear_power_employment_local_pay = laborer_nuclear_power_employment }
    multiply_variable = { peasant_farm_employment_local_pay = peasant_farm_employment }
    multiply_variable = { peasant_subsistence_employment_local_pay = peasant_subsistence_employment }
    multiply_variable = { laborer_farm_employment_local_pay = laborer_farm_employment }
    multiply_variable = { laborer_subsistence_employment_local_pay = laborer_subsistence_employment }
    multiply_variable = { laborer_rgo_employment_local_pay = laborer_rgo_employment }
    multiply_variable = { laborer_arms_employment_local_pay = laborer_arms_employment }
    multiply_variable = { laborer_industrial_employment_local_pay = laborer_industrial_employment }
    multiply_variable = { laborer_dockyard_employment_local_pay = laborer_dockyard_employment }
    multiply_variable = { laborer_oil_refinery_employment_local_pay = laborer_oil_refinery_employment }
    multiply_variable = { laborer_refinery_employment_local_pay = laborer_refinery_employment }
    multiply_variable = { laborer_local_office_employment_local_pay = laborer_local_office_employment }
    multiply_variable = { laborer_power_employment_local_pay = laborer_power_employment }

    set_variable = { total_lower_class_pay = 0 }
    add_to_variable = { total_lower_class_pay = laborer_nuclear_reactor_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_nuclear_power_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_farm_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_subsistence_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_rgo_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_arms_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_industrial_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_dockyard_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_oil_refinery_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_refinery_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_local_office_employment_local_pay }
    add_to_variable = { total_lower_class_pay = laborer_power_employment_local_pay }
    
    set_variable = { laborers_earnings = total_lower_class_pay }
    add_to_variable = { total_lower_class_pay = peasant_farm_employment_local_pay }
    add_to_variable = { total_lower_class_pay = peasant_subsistence_employment_local_pay }

    set_variable = { peasants_earnings = peasant_farm_employment }


    set_variable = { total_lower_class_pop = 0 }
    add_to_variable = { total_lower_class_pop = laborer_farm_employment }
    add_to_variable = { total_lower_class_pop = laborer_rgo_employment }
    add_to_variable = { total_lower_class_pop = laborer_arms_employment }
    add_to_variable = { total_lower_class_pop = laborer_industrial_employment }
    add_to_variable = { total_lower_class_pop = laborer_dockyard_employment }
    add_to_variable = { total_lower_class_pop = laborer_oil_refinery_employment }
    add_to_variable = { total_lower_class_pop = laborer_refinery_employment }
    add_to_variable = { total_lower_class_pop = laborer_local_office_employment }
    add_to_variable = { total_lower_class_pop = laborer_nuclear_reactor_employment }
    add_to_variable = { total_lower_class_pop = laborer_nuclear_power_employment }
    add_to_variable = { total_lower_class_pop = laborer_power_employment }

    set_variable = { laborers_amount = total_lower_class_pop }
    set_variable = { peasants_amount = peasant_farm_employment }

    add_to_variable = { total_lower_class_pop = laborer_subsistence_employment }
    add_to_variable = { total_lower_class_pop = peasant_subsistence_employment }

    add_to_variable = { total_lower_class_pop = peasant_farm_employment }
    

    multiply_variable = {
        total_lower_class_pay = lower_literate_modifier
    }
    multiply_variable = {
        total_lower_class_pay = lower_primary_modifier
    }
    multiply_variable = {
        total_lower_class_pay = lower_high_school_modifier
    }
    multiply_variable = {
        total_lower_class_pay = development_pay_bonus
    }   
}
middle_class_pay_calc = {
    multiply_variable = { worker_farm_employment_local_pay = worker_farm_employment }
    multiply_variable = { worker_rgo_employment_local_pay = worker_rgo_employment }
    multiply_variable = { worker_arms_employment_local_pay = worker_arms_employment }
    multiply_variable = { worker_industrial_employment_local_pay = worker_industrial_employment }
    multiply_variable = { worker_dockyard_employment_local_pay = worker_dockyard_employment }
    multiply_variable = { worker_oil_refinery_employment_local_pay = worker_oil_refinery_employment }
    multiply_variable = { worker_refinery_employment_local_pay = worker_refinery_employment }
    multiply_variable = { worker_local_office_employment_local_pay = worker_local_office_employment }
    multiply_variable = { worker_nuclear_reactor_employment_local_pay = worker_nuclear_reactor_employment }
    multiply_variable = { worker_nuclear_power_employment_local_pay = worker_nuclear_power_employment }
    multiply_variable = { worker_power_employment_local_pay = worker_power_employment }

    set_variable = { total_middle_class_pay = 0 }
    add_to_variable = { total_middle_class_pay = worker_farm_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_rgo_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_arms_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_industrial_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_dockyard_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_oil_refinery_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_refinery_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_local_office_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_nuclear_reactor_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_nuclear_power_employment_local_pay }
    add_to_variable = { total_middle_class_pay = worker_power_employment_local_pay }


    set_variable = { total_middle_class_pop = 0 }
    add_to_variable = { total_middle_class_pop = worker_farm_employment }
    add_to_variable = { total_middle_class_pop = worker_rgo_employment }
    add_to_variable = { total_middle_class_pop = worker_arms_employment }
    add_to_variable = { total_middle_class_pop = worker_industrial_employment }
    add_to_variable = { total_middle_class_pop = worker_dockyard_employment }
    add_to_variable = { total_middle_class_pop = worker_oil_refinery_employment }
    add_to_variable = { total_middle_class_pop = worker_refinery_employment }
    add_to_variable = { total_middle_class_pop = worker_local_office_employment }
    add_to_variable = { total_middle_class_pop = worker_nuclear_reactor_employment }
    add_to_variable = { total_middle_class_pop = worker_nuclear_power_employment }
    add_to_variable = { total_middle_class_pop = worker_power_employment }

    multiply_variable = {
        total_middle_class_pay = middle_university_bonus
    }
    multiply_variable = {
        total_middle_class_pay = middle_high_school_modifier
    }
    multiply_variable = {
        total_middle_class_pay = middle_primary_modifier
    }
    multiply_variable = {
        total_middle_class_pay = middle_literate_modifier
    }
    multiply_variable = {
        total_middle_class_pay = development_pay_bonus
    }  
}
upper_middle_class_pay_calc = {
    multiply_variable = { professional_farm_employment_local_pay = professional_farm_employment }
    multiply_variable = { professional_rgo_employment_local_pay = professional_rgo_employment }
    multiply_variable = { professional_arms_employment_local_pay = professional_arms_employment }
    multiply_variable = { professional_industrial_employment_local_pay = professional_industrial_employment }
    multiply_variable = { professional_dockyard_employment_local_pay = professional_dockyard_employment }
    multiply_variable = { professional_oil_refinery_employment_local_pay = professional_oil_refinery_employment }
    multiply_variable = { professional_refinery_employment_local_pay = professional_refinery_employment }
    multiply_variable = { professional_local_office_employment_local_pay = professional_local_office_employment }
    multiply_variable = { professional_nuclear_reactor_employment_local_pay = professional_nuclear_reactor_employment }
    multiply_variable = { professional_nuclear_power_employment_local_pay = professional_nuclear_power_employment }
    multiply_variable = { professional_power_employment_local_pay = professional_power_employment }

    multiply_variable = { bureacrat_farm_employment_local_pay = bureacrat_farm_employment }
    multiply_variable = { bureacrat_rgo_employment_local_pay = bureacrat_rgo_employment }
    multiply_variable = { bureacrat_arms_employment_local_pay = bureacrat_arms_employment }
    multiply_variable = { bureacrat_industrial_employment_local_pay = bureacrat_industrial_employment }
    multiply_variable = { bureacrat_dockyard_employment_local_pay = bureacrat_dockyard_employment }
    multiply_variable = { bureacrat_oil_refinery_employment_local_pay = bureacrat_oil_refinery_employment }
    multiply_variable = { bureacrat_refinery_employment_local_pay = bureacrat_refinery_employment }
    multiply_variable = { bureacrat_local_office_employment_local_pay = bureacrat_local_office_employment }
    multiply_variable = { bureacrat_nuclear_reactor_employment_local_pay = bureacrat_nuclear_reactor_employment }
    multiply_variable = { bureacrat_nuclear_power_employment_local_pay = bureacrat_nuclear_power_employment }
    multiply_variable = { bureacrat_power_employment_local_pay = bureacrat_power_employment }

    set_variable = { total_upper_middle_class_pay = 0 }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_farm_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_rgo_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_arms_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_industrial_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_dockyard_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_oil_refinery_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_refinery_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_local_office_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_nuclear_reactor_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_nuclear_power_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = bureacrat_power_employment_local_pay }

    add_to_variable = { total_upper_middle_class_pay = professional_farm_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_rgo_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_arms_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_industrial_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_dockyard_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_oil_refinery_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_refinery_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_local_office_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_nuclear_reactor_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_nuclear_power_employment_local_pay }
    add_to_variable = { total_upper_middle_class_pay = professional_power_employment_local_pay }

    set_variable = { total_upper_middle_class_pop = 0 }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_farm_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_rgo_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_arms_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_industrial_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_dockyard_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_oil_refinery_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_refinery_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_local_office_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_nuclear_reactor_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_nuclear_power_employment }
    add_to_variable = { total_upper_middle_class_pop = bureacrat_power_employment }

    add_to_variable = { total_upper_middle_class_pop = professional_farm_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_rgo_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_arms_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_industrial_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_dockyard_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_oil_refinery_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_refinery_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_local_office_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_nuclear_reactor_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_nuclear_power_employment }
    add_to_variable = { total_upper_middle_class_pop = professional_power_employment }


    if = {
        limit = { 
            check_variable = {
                upper_middle_primary_penalty < 0.25
            }
        }
        set_variable = {
            upper_middle_primary_penalty = 0.25
        }
    }
    if = {
        limit = { 
            check_variable = {
                upper_middle_literate_penalty < 0.25
            }
        }
        set_variable = {
            upper_middle_literate_penalty = 0.25
        }
    }
    multiply_variable = {
        total_upper_middle_class_pay = upper_middle_university_bonus
    }
    multiply_variable = {
        total_upper_middle_class_pay = upper_middle_high_school_penalty
    }
    multiply_variable = {
        total_upper_middle_class_pay = upper_middle_primary_penalty
    }
    multiply_variable = {
        total_upper_middle_class_pay = upper_middle_literate_penalty
    }
    multiply_variable = {
        total_upper_middle_class_pay = development_pay_bonus
    }  
}
upper_class_pay_calc = {
    multiply_variable = { elite_farm_employment_local_pay = elite_farm_employment }
    multiply_variable = { elite_rgo_employment_local_pay = elite_rgo_employment }
    multiply_variable = { elite_arms_employment_local_pay = elite_arms_employment }
    multiply_variable = { elite_industrial_employment_local_pay = elite_industrial_employment }
    multiply_variable = { elite_dockyard_employment_local_pay = elite_dockyard_employment }
    multiply_variable = { elite_oil_refinery_employment_local_pay = elite_oil_refinery_employment }
    multiply_variable = { elite_refinery_employment_local_pay = elite_refinery_employment }
    multiply_variable = { elite_local_office_employment_local_pay = elite_local_office_employment }
    multiply_variable = { elite_nuclear_reactor_employment_local_pay = elite_nuclear_reactor_employment }
    multiply_variable = { elite_nuclear_power_employment_local_pay = elite_nuclear_power_employment }
    multiply_variable = { elite_power_employment_local_pay = elite_power_employment }

    set_variable = { total_upper_class_pay = 0 }
    add_to_variable = { total_upper_class_pay = elite_farm_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_rgo_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_arms_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_industrial_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_dockyard_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_oil_refinery_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_refinery_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_local_office_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_nuclear_reactor_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_nuclear_power_employment_local_pay }
    add_to_variable = { total_upper_class_pay = elite_power_employment_local_pay }

    set_variable = { total_upper_class_pop = 0 }
    add_to_variable = { total_upper_class_pop = elite_farm_employment }
    add_to_variable = { total_upper_class_pop = elite_rgo_employment }
    add_to_variable = { total_upper_class_pop = elite_arms_employment }
    add_to_variable = { total_upper_class_pop = elite_industrial_employment }
    add_to_variable = { total_upper_class_pop = elite_dockyard_employment }
    add_to_variable = { total_upper_class_pop = elite_oil_refinery_employment }
    add_to_variable = { total_upper_class_pop = elite_refinery_employment }
    add_to_variable = { total_upper_class_pop = elite_local_office_employment }
    add_to_variable = { total_upper_class_pop = elite_nuclear_reactor_employment }
    add_to_variable = { total_upper_class_pop = elite_nuclear_power_employment }
    add_to_variable = { total_upper_class_pop = elite_power_employment }

    if = {
        limit = { 
            check_variable = {
                upper_primary_penalty < 0.25
            }
        }
        set_variable = {
            upper_primary_penalty = 0.25
        }
    }
    if = {
        limit = { 
            check_variable = {
                upper_literate_penalty < 0.25
            }
        }
        set_variable = {
            upper_literate_penalty = 0.25
        }
    }
    multiply_variable = {
        total_upper_class_pay = elite_modifier_bonus
    }
    multiply_variable = {
        total_upper_class_pay = upper_primary_penalty
    }
    multiply_variable = {
        total_upper_class_pay = upper_literate_penalty
    }
    multiply_variable = {
        total_upper_class_pay = development_pay_bonus
    }  
}

standard_of_living_setup = {    
    #Lower Class
        set_temp_variable = { earnings_temp = total_lower_class_pop_pay_average }
        divide_temp_variable = { earnings_temp = 12 }
        if = {  #Correct Min for Subsistence
            limit = {
                OR = {
                    check_variable = {
                        earnings_temp = 0.001
                    }
                    check_variable = {
                        earnings_temp < 0.001
                    }
                }

            }
            set_temp_variable = {
                earnings_temp = 0.002
            }
        }
        for_each_loop = {
            array = global.sol_cost
            index = sol_temp
            value = col_temp
            break = b

            if = {
                limit = {
                    check_variable = { earnings_temp < col_temp }
                }
                set_variable = { lower_class_sol = sol_temp }
                set_temp_variable = { b = 1 }
            }
        }
    #
    #Middle Class
        set_temp_variable = { earnings_temp = total_middle_class_pop_pay_average }
        divide_temp_variable = { earnings_temp = 12 }
        for_each_loop = {
            array = global.sol_cost
            index = sol_temp
            value = col_temp
            break = b

            if = {
                limit = {
                    check_variable = { earnings_temp < col_temp }
                }
                set_variable = { middle_class_sol = sol_temp }
                set_temp_variable = { b = 1 }
            }
        }
    #
    #Upper Middle Class
        set_temp_variable = { earnings_temp = total_upper_middle_class_pop_pay_average }
        divide_temp_variable = { earnings_temp = 12 }
        for_each_loop = {
            array = global.sol_cost
            index = sol_temp
            value = col_temp
            break = b

            if = {
                limit = {
                    check_variable = { earnings_temp < col_temp }
                }
                set_variable = { upper_middle_class_sol = sol_temp }
                set_temp_variable = { b = 1 }
            }
        }
    #
    #Upper Class
        set_temp_variable = { earnings_temp = total_upper_class_pop_pay_average }
        divide_temp_variable = { earnings_temp = 12 }
        for_each_loop = {
            array = global.sol_cost
            index = sol_temp
            value = col_temp
            break = b

            if = {
                limit = {
                    check_variable = { earnings_temp < col_temp }
                }
                set_variable = { upper_class_sol = sol_temp }
                set_temp_variable = { b = 1 }
            }
        }    
    calculate_pop_needs = yes
}
calculate_pop_needs = {
    #Standard of Living
    set_variable = { pops_sol = 0 }

    set_temp_variable = { sol_temp = lower_class_sol }
    multiply_temp_variable = { sol_temp = lower_class_percentage }
    add_to_variable = { pops_sol = sol_temp }
    
    set_temp_variable = { sol_temp = middle_class_sol }
    multiply_temp_variable = { sol_temp = middle_class_percentage }
    add_to_variable = { pops_sol = sol_temp }
    
    set_temp_variable = { sol_temp = upper_middle_class_sol }
    multiply_temp_variable = { sol_temp = upper_middle_class_percentage }
    add_to_variable = { pops_sol = sol_temp }
    
    set_temp_variable = { sol_temp = upper_class_sol }
    multiply_temp_variable = { sol_temp = upper_class_percentage }
    add_to_variable = { pops_sol = sol_temp }

    set_variable = { pops_sol_raw = pops_sol }
    round_variable = pops_sol
}