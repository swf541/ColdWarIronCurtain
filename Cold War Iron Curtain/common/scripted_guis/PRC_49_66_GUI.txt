scripted_gui = {
	#政权巩固与社会改造
	PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui = {
		context_type = decision_category #player_context
		window_name = "PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui"
        
		visible = {
			has_country_flag = PRC_Founding_of_New_China_flag
		}

        dynamic_lists = {
			PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_button_grid = {
				array = PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_array
				index = temp_i
				value = temp_v
				entry_container = PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_button_entry
			}
		}

		ai_enabled = {
			always = no
		}
		properties = {
			#镇反
			Northeast_China_button = {
				frame = 716.Suppress_Counterrevolutionaries_progress
			}
			North_China_button = {
				frame = 609.Suppress_Counterrevolutionaries_progress
			}
			Northwest_China_button = {
				frame = 283.Suppress_Counterrevolutionaries_progress
			}
			Southwest_China_button = {
				frame = 605.Suppress_Counterrevolutionaries_progress
			}
			Central_South_China_button = {
				frame = 1569.Suppress_Counterrevolutionaries_progress
			}
			Southeast_China_button = {
				frame = 598.Suppress_Counterrevolutionaries_progress
			}
			#土改
			Ningxia_button = {
				frame = 616.Land_Reform_level
			}
			Gansu_button = {
				frame = 1787.Land_Reform_level
			}
			South_Shaanxi_button = {
				frame = 1786.Land_Reform_level
			}
			Henan_button = {
				frame = 607.Land_Reform_level
			}
			Hubei_button = {
				frame = 620.Land_Reform_level
			}
			North_Anhui_button = {
				frame = 606.Land_Reform_level
			}
			South_Anhui_button = {
				frame = 1785.Land_Reform_level
			}
			South_Jiangsu_and_Shanghai_button = {
				frame = 598.Land_Reform_level
			}
			Xikang_button = {
				frame = 1557.Land_Reform_level
			}
			Sichuan_button = {
				frame = 605.Land_Reform_level
			}
			Yunnan_button = {
				frame = 325.Land_Reform_level
			}
			Guizhou_button = {
				frame = 603.Land_Reform_level
			}
			Hunan_button = {
				frame = 602.Land_Reform_level
			}
			Jiangxi_button = {
				frame = 600.Land_Reform_level
			}
			Zhejiang_button = {
				frame = 596.Land_Reform_level
			}
			Fujian_button = {
				frame = 595.Land_Reform_level
			}
			Guangdong_button = {
				frame = 1569.Land_Reform_level
			}
			Guangxi_button = {
				frame = 594.Land_Reform_level
			}
			Xinjiang_button = {
				frame = 617.Land_Reform_level
			}
			Qinghai_button = {
				frame = 604.Land_Reform_level
			}
			#社会主义改造
			Socialist_Transformation_Agriculture_progress_bar = {
				frame = PRC_Socialist_Transformation_agriculture_progress_gui
			}
			Socialist_Transformation_Industry_progress_bar = {
				frame = PRC_Socialist_Transformation_industry_progress_gui
			}
			Socialist_Transformation_Commerce_progress_bar = {
				frame = PRC_Socialist_Transformation_commerce_progress_gui
			}
			PRC_Socialist_Transformation_oerall_progress_bar = {
				frame = PRC_Socialist_Transformation_oerall_progress_gui
			}
			#过渡时期政策倾向
			transitional_period_policy_preference_needle = {
				frame = PRC_transitional_period_policy_preference_level
			}
		}
        triggers = {
			PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_icon_visible = {
				check_variable = { temp_v = PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var }
			}
			#
			PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_bg_visible = {
				NOT = {
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 2 }
				}
			}
			#土改
			Land_Reform_progrss_display_visible = {
				has_variable = Land_Reform_target
			}
            #镇反
			Northeast_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			North_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Northwest_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Southwest_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Central_South_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Southeast_China_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Tibet_icon_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Qamdo_icon_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Taiwan_icon_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Map_Scan_Line_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Map_frame_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_target_region_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Bandit_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Huidaomen_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Counterrevolutionaries_Kuomintang_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Bandits_bg_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Huidaomen_bg_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Kuomintang_bg_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Bandits_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Bandits_button_click_enabled = {
				if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Bandit = 0 }
						}
					}
					NOT = {
						custom_trigger_tooltip = {
							tooltip = PRC_Suppress_Bandits_button_trigger
							check_variable = { Suppress_Counterrevolutionaries_Bandit = 0 }
						}
					}
				}
				else_if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Bandit > 0 }
						}
					}
					NOT = { 
					    custom_trigger_tooltip = {
						    tooltip = PRC_Suppress_Bandits_CD
						    var:Suppress_Counterrevolutionaries_target = { has_state_flag = PRC_Suppress_Bandits_CD }
						}
					}
					has_political_power > var:PRC_Suppress_Counterrevolutionaries_button_cost_1
				}
			}
			Suppress_Huidaomen_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Huidaomen_button_click_enabled = {
				if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Huidaomen = 0 }
						}
					}
					NOT = {
                        custom_trigger_tooltip = {
							tooltip = PRC_Suppress_Huidaomen_button_trigger
							check_variable = { Suppress_Counterrevolutionaries_Huidaomen = 0 }
						}
					}
				}
				else_if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Huidaomen > 0 }
						}
					}
					NOT = { 
					    custom_trigger_tooltip = {
						    tooltip = PRC_Suppress_Huidaomen_CD
						    var:Suppress_Counterrevolutionaries_target = { has_state_flag = PRC_Suppress_Huidaomen_CD }
						}
					}
					has_political_power > var:PRC_Suppress_Counterrevolutionaries_button_cost_1
				}
			}
			Suppress_Kuomintang_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 1 }
			}
			Suppress_Kuomintang_button_click_enabled = {
				if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Kuomintang = 0 }
						}
					}
					NOT = {
						custom_trigger_tooltip = {
							tooltip = PRC_Suppress_Kuomintang_button_trigger
							check_variable = { Suppress_Counterrevolutionaries_Kuomintang = 0 }
						}
					}
				}
				else_if = {
					limit = {
						var:Suppress_Counterrevolutionaries_target = {
							check_variable = { Suppress_Counterrevolutionaries_Kuomintang > 0 }
						}
					}
					NOT = { 
					    custom_trigger_tooltip = {
						    tooltip = PRC_Suppress_Kuomintang_CD
						    var:Suppress_Counterrevolutionaries_target = { has_state_flag = PRC_Suppress_Kuomintang_CD }
						}
					}
					has_political_power > var:PRC_Suppress_Counterrevolutionaries_button_cost_1
				}
			}
			#社会主义改造
			Socialist_Transformation_Agriculture_progress_bar_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			Socialist_Transformation_Industry_progress_bar_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			Socialist_Transformation_Commerce_progress_bar_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_Socialist_Transformation_oerall_progress_bar_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_Socialist_Transformation_oerall_progress_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_complete_agricultural_cooperation_button_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_complete_agricultural_cooperation_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_complete_agricultural_cooperation_button_click_enabled = {
				if = {
					limit = {
						NOT = { has_country_flag = PRC_has_completed_agricultural_cooperation }
					}
					check_variable = {
                        var = PRC_Socialist_Transformation_agriculture_progress
                        value = PRC_Socialist_Transformation_agriculture_progress_expectation
                        compare = greater_than_or_equals
                    }
				}
				else_if = {
					limit = { 
						has_country_flag = PRC_has_completed_agricultural_cooperation
					}
					custom_trigger_tooltip = {
						tooltip = PRC_has_completed_agricultural_cooperation
						always = no
					}
				}
			}
			PRC_complete_full_public-private_partnerships_button_visible = {
			    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_complete_full_public-private_partnerships_text_visible = {
				check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
			}
			PRC_complete_full_public-private_partnerships_button_click_enabled = {
				if = {
					limit = {
						NOT = { has_country_flag = PRC_has_completed_full_public-private_partnerships }
					}
					custom_trigger_tooltip = {
						tooltip = PRC_full_public-private_partnerships_trigger
						check_variable = {
                            var = PRC_Socialist_Transformation_industry_progress
                            value = PRC_Socialist_Transformation_industry_progress_expectation
                            compare = greater_than_or_equals
                        }
                        check_variable = {
                            var = PRC_Socialist_Transformation_commerce_progress
                            value = PRC_Socialist_Transformation_commerce_progress_expectation
                            compare = greater_than_or_equals
                        }
					}
				}
				else_if = {
					limit = { 
						has_country_flag = PRC_has_completed_full_public-private_partnerships
					}
					custom_trigger_tooltip = {
						tooltip = PRC_has_completed_full_public-private_partnerships
						always = no
					}
				}
			}
			#过渡时期改造倾向
			transitional_period_policy_preference_needle_bg_visible = {
                OR = {
                    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
				}
			}
			transitional_period_policy_preference_needle_visible = {
                OR = {
                    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
				}
			}
			transitional_period_policy_preference_text1_visible = {
                OR = {
                    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
				}
			}
			transitional_period_policy_preference_text2_visible = {
                OR = {
                    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
				}
			}
			transitional_period_policy_preference_status_visible = {
                OR = {
                    check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
					check_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 3 }
				}
			}
		}	
		effects = {
			PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_button_click = {
				set_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = temp_v }
			}
			PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_change_icon_click = {
				set_variable = { PRC_Consolidation_of_the_Regime_and_Social_Transformation_gui_var = 0 }
			}
			#镇反
            Northeast_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 716 }
			}
			North_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 609 }
			}
			Northwest_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 283 }
			}
			Southwest_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 605 }
			}
			Central_South_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 1569 }
			}
			Southeast_China_button_click = {
				set_variable = { Suppress_Counterrevolutionaries_target = 598 }
			}
			Suppress_Bandits_button_click = {
				add_political_power = var:PRC_Suppress_Counterrevolutionaries_button_cost_2
				hidden_effect = {
                    var:Suppress_Counterrevolutionaries_target = {
						set_temp_variable = { PRC.PRC_Suppress_Bandits_button_effect_temp = PRC_Suppress_Bandits_button_effect }
				    }
				}
				effect_tooltip = {
					add_to_variable = { 
						var = temp_v
						value = PRC_Suppress_Bandits_button_effect_temp
						tooltip = PRC_Suppress_Bandits_button_effect_tt 
					}
				}
				hidden_effect = {
                    var:Suppress_Counterrevolutionaries_target = {
                        add_to_variable = { Suppress_Counterrevolutionaries_Bandit = PRC_Suppress_Bandits_button_effect }
						set_state_flag = {
							flag = PRC_Suppress_Bandits_CD
							days = 40
							value = 1
						}
					}
					PRC_Suppress_Counterrevolutionaries_effect_update = yes
					PRC_Suppress_Counterrevolutionaries_update = yes
					PRC_Suppres_Counterrevolutionaries_bandits_modifiers_swap = yes
				}
			}
			Suppress_Huidaomen_button_click = {
				add_political_power = var:PRC_Suppress_Counterrevolutionaries_button_cost_2
				hidden_effect = {
                    var:Suppress_Counterrevolutionaries_target = {
						set_temp_variable = { PRC.PRC_Suppress_Huidaomen_button_effect_temp = PRC_Suppress_Huidaomen_button_effect }
				    }
				}
				effect_tooltip = {
					add_to_variable = { 
						var = temp_v 
						value = PRC_Suppress_Huidaomen_button_effect_temp
						tooltip = PRC_Suppress_Huidaomen_button_effect_tt
					}
				}
				hidden_effect = {
				    var:Suppress_Counterrevolutionaries_target = {
						add_to_variable = { Suppress_Counterrevolutionaries_Huidaomen = PRC_Suppress_Huidaomen_button_effect }
						set_state_flag = {
							flag = PRC_Suppress_Huidaomen_CD
							days = 40
							value = 1
						}
				    }
					PRC_Suppress_Counterrevolutionaries_effect_update = yes
					PRC_Suppress_Counterrevolutionaries_update = yes
				}
			}
			Suppress_Kuomintang_button_click = {
				add_political_power = var:PRC_Suppress_Counterrevolutionaries_button_cost_2
				hidden_effect = {
                    var:Suppress_Counterrevolutionaries_target = {
						set_temp_variable = { PRC.PRC_Suppress_Kuomintang_button_effect_temp = PRC_Suppress_Kuomintang_button_effect }
				    }
				}
				effect_tooltip = {
					add_to_variable = { 
						var = temp_v 
						value = PRC_Suppress_Kuomintang_button_effect_temp
						tooltip = PRC_Suppress_Kuomintang_button_effect_tt
					}
				}
				hidden_effect = {
				    var:Suppress_Counterrevolutionaries_target = {
						add_to_variable = { Suppress_Counterrevolutionaries_Kuomintang = PRC_Suppress_Kuomintang_button_effect }
						set_state_flag = {
							flag = PRC_Suppress_Kuomintang_CD
							days = 40
							value = 1
						}
				    }
					PRC_Suppress_Counterrevolutionaries_effect_update = yes
					PRC_Suppress_Counterrevolutionaries_update = yes
				}
			}
			#土改
			Ningxia_button_click = {
				set_variable = { Land_Reform_target = 616 }
			}
			Gansu_button_click = {
				set_variable = { Land_Reform_target = 1787 }
			}
			South_Shaanxi_button_click = {
				set_variable = { Land_Reform_target = 1786 }
			}
			Henan_button_click = {
				set_variable = { Land_Reform_target = 607 }
			}
			Hubei_button_click = {
				set_variable = { Land_Reform_target = 620 }
			}
			North_Anhui_button_click = {
				set_variable = { Land_Reform_target = 606 }
			}
			South_Anhui_button_click = {
				set_variable = { Land_Reform_target = 1785 }
			}
			South_Jiangsu_and_Shanghai_button_click = {
				set_variable = { Land_Reform_target = 598 }
			}
			Xikang_button_click = {
				set_variable = { Land_Reform_target = 1557 }
			}
			Sichuan_button_click = {
				set_variable = { Land_Reform_target = 605 }
			}
			Yunnan_button_click = {
				set_variable = { Land_Reform_target = 325 }
			}
			Guizhou_button_click = {
				set_variable = { Land_Reform_target = 603 }
			}
			Hunan_button_click = {
				set_variable = { Land_Reform_target = 602 }
			}
			Jiangxi_button_click = {
				set_variable = { Land_Reform_target = 600 }
			}
			Zhejiang_button_click = {
				set_variable = { Land_Reform_target = 596 }
			}
			Fujian_button_click = {
				set_variable = { Land_Reform_target = 595 }
			}
			Guangdong_button_click = {
				set_variable = { Land_Reform_target = 1569 }
			}
			Guangxi_button_click = {
				set_variable = { Land_Reform_target = 594 }
			}
			Xinjiang_button_click = {
				set_variable = { Land_Reform_target = 617 }
			}
			Qinghai_button_click = {
				set_variable = { Land_Reform_target = 604 }
			}
			#社会主义改造
			PRC_complete_agricultural_cooperation_button_click = {
				complete_national_focus = PRC_50s_Complete_Rural_Co-operation
				set_country_flag = PRC_has_completed_agricultural_cooperation
			}
			PRC_complete_full_public-private_partnerships_button_click = {
				complete_national_focus = PRC_50s_Public-Private_Partnership_by_Whole_Trades
				set_country_flag = PRC_has_completed_full_public-private_partnerships
			}
		}

	}




	#双百运动
	PRC_50s_The_Two_Hundred_Policy_gui = {
		context_type = decision_category
		window_name = "PRC_50s_The_Two_Hundred_Policy_gui"

		triggers = {
			PRC_50s_The_Two_Hundred_Policy_open_var_bar_visible = {
				NOT = { has_completed_focus = PRC_50s_Prepare_to_Counter-offense_Against_The_Counter-revolutionaries }
			}
			PRC_50s_The_Two_Hundred_Policy_Preparation_bar_visible = {
				has_completed_focus = PRC_50s_Prepare_to_Counter-offense_Against_The_Counter-revolutionaries
			}
		}

		properties = {
			PRC_50s_The_Two_Hundred_Policy_open_var_bar = {
				frame = PRC_50s_The_Two_Hundred_Policy_open_var
			}
			PRC_50s_The_Two_Hundred_Policy_Preparation_bar = {
				frame = PRC_50s_The_Two_Hundred_Policy_Preparation
			}
		}

		effects = {
		}

	}






	#大走步
	PRC_The_Great_Leap_Forward_GUI = {
		context_type = decision_category
		window_name = "PRC_The_Great_Leap_Forward_GUI_window"


		properties = {
			GLF_dial = {
				frame = PRC_GLF_rash_advance_var
			}
			GLF_control = {
				frame = PRC_GLF_control_var
			}
		}
	}
}