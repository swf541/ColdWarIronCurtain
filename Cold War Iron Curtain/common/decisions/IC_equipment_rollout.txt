rollout_equipment_category = {
###### AT AMMO

##### SLOW
	
	adopt_at_ammo_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = at_ammo_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_1
			NOT = { has_country_flag = at_ammo_1 }
			NOT = { has_country_flag = at_ammo_1_rollout_fast }
		}
		
		available = {
			has_tech = at_ammo_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = at_ammo_1
				has_country_flag = at_ammo_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = at_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = at_ammo_1
						}
						NOT = {
							has_country_flag = at_ammo_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = at_ammo_1
					value = 1
				}
				add_ideas = at_ammo_1
			}
			if = {
				limit = {
					has_country_flag = at_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_at_ammo_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = at_ammo_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_2
			has_country_flag = at_ammo_1
			NOT = { has_country_flag = at_ammo_2 } 
			NOT = { has_country_flag = at_ammo_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = at_ammo_2
				has_country_flag = at_ammo_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = at_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = at_ammo_2
						}
						NOT = {
							has_country_flag = at_ammo_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = at_ammo_2
					value = 1
				}
				swap_ideas = {
					remove_idea = at_ammo_1
					add_idea = at_ammo_2
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_at_ammo_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = at_ammo_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_3
			has_country_flag = at_ammo_2
			NOT = { has_country_flag = at_ammo_3 }
			NOT = { has_country_flag = at_ammo_3_rollout_fast }
		}
		
		available = {
			has_tech = at_ammo_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = at_ammo_3
				has_country_flag = at_ammo_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = at_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = at_ammo_3
						}
						NOT = {
							has_country_flag = at_ammo_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = at_ammo_3
					value = 1
				}
				swap_ideas = {
					remove_idea = at_ammo_2
					add_idea = at_ammo_3
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_at_ammo_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = at_ammo_4
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_4
			has_country_flag = at_ammo_3
			NOT = { has_country_flag = at_ammo_4 }
			NOT = { has_country_flag = at_ammo_4_rollout_fast }
		}
		
		available = {
			has_tech = at_ammo_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = at_ammo_4
				has_country_flag = at_ammo_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = at_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = at_ammo_4
						}
						NOT = {
							has_country_flag = at_ammo_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = at_ammo_4
					value = 1
				}
				swap_ideas = {
					remove_idea = at_ammo_3
					add_idea = at_ammo_4
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_at_ammo_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = at_ammo_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_5
			has_country_flag = at_ammo_4
			NOT = { has_country_flag = at_ammo_5 }
			NOT = { has_country_flag = at_ammo_5_rollout_fast }
		}
		
		available = {
			has_tech = at_ammo_5
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = at_ammo_5
				has_country_flag = at_ammo_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = at_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = at_ammo_5
						}
						NOT = {
							has_country_flag = at_ammo_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = at_ammo_5
					value = 1
				}
				swap_ideas = {
					remove_idea = at_ammo_4
					add_idea = at_ammo_5
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_at_ammo_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_1
			NOT = { has_country_flag = at_ammo_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_1
		}
		
		remove_trigger = {
			has_country_flag = at_ammo_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = at_ammo_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = at_ammo_1
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_1
					}
				}
				set_country_flag = {
					flag = at_ammo_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_1_rollout_fast
				}
				clr_country_flag = {
					flag = at_ammo_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_at_ammo_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_2
			has_country_flag = at_ammo_1
			NOT = { has_country_flag = at_ammo_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_2
		}
		
		remove_trigger = {
			has_country_flag = at_ammo_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = at_ammo_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = at_ammo_1
				add_idea = at_ammo_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_2
					}
				}
				set_country_flag = {
					flag = at_ammo_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_2_rollout_fast
				}
				clr_country_flag = {
					flag = at_ammo_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_at_ammo_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_3
			has_country_flag = at_ammo_2
			NOT = { has_country_flag = at_ammo_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_3
		}
		
		remove_trigger = {
			has_country_flag = at_ammo_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = at_ammo_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = at_ammo_2
				add_idea = at_ammo_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_3
					}
				}
				set_country_flag = {
					flag = at_ammo_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_3_rollout_fast
				}
				clr_country_flag = {
					flag = at_ammo_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_at_ammo_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_4
			has_country_flag = at_ammo_3
			NOT = { has_country_flag = at_ammo_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_4
		}
		
		remove_trigger = {
			has_country_flag = at_ammo_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = at_ammo_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = at_ammo_3
				add_idea = at_ammo_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_4
					}
				}
				set_country_flag = {
					flag = at_ammo_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_4_rollout_fast
				}
				clr_country_flag = {
					flag = at_ammo_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_at_ammo_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = at_ammo_5
			has_country_flag = at_ammo_4
			NOT = { has_country_flag = at_ammo_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = at_ammo_5
		}
		
		remove_trigger = {
			has_country_flag = at_ammo_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = at_ammo_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = at_ammo_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = at_ammo_4
				add_idea = at_ammo_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = at_ammo_5
					}
				}
				set_country_flag = {
					flag = at_ammo_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = at_ammo_5_rollout_fast
				}
				clr_country_flag = {
					flag = at_ammo_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
###### AC AMMO

##### SLOW

	
	adopt_cannon_ammo_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = cannon_ammo_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_1
			NOT = { has_country_flag = cannon_ammo_1 }
			NOT = { has_country_flag = cannon_ammo_1_rollout_fast }
		}
		
		available = {
			has_tech = cannon_ammo_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = cannon_ammo_1
				has_country_flag = cannon_ammo_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = cannon_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = cannon_ammo_1
						}
						NOT = {
							has_country_flag = cannon_ammo_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = cannon_ammo_1
					value = 1
				}
				add_ideas = cannon_ammo_1
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_cannon_ammo_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = cannon_ammo_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_2
			has_country_flag = cannon_ammo_1
			NOT = { has_country_flag = cannon_ammo_2 } 
			NOT = { has_country_flag = cannon_ammo_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = cannon_ammo_2
				has_country_flag = cannon_ammo_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = cannon_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = cannon_ammo_2
						}
						NOT = {
							has_country_flag = cannon_ammo_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = cannon_ammo_2
					value = 1
				}
				swap_ideas = {
					remove_idea = cannon_ammo_1
					add_idea = cannon_ammo_2
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_cannon_ammo_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = cannon_ammo_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_3
			has_country_flag = cannon_ammo_2
			NOT = { has_country_flag = cannon_ammo_3 }
			NOT = { has_country_flag = cannon_ammo_3_rollout_fast }
		}
		
		available = {
			has_tech = cannon_ammo_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = cannon_ammo_3
				has_country_flag = cannon_ammo_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = cannon_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = cannon_ammo_3
						}
						NOT = {
							has_country_flag = cannon_ammo_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = cannon_ammo_3
					value = 1
				}
				swap_ideas = {
					remove_idea = cannon_ammo_2
					add_idea = cannon_ammo_3
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_cannon_ammo_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = cannon_ammo_4
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_4
			has_country_flag = cannon_ammo_3
			NOT = { has_country_flag = cannon_ammo_4 }
			NOT = { has_country_flag = cannon_ammo_4_rollout_fast }
		}
		
		available = {
			has_tech = cannon_ammo_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = cannon_ammo_4
				has_country_flag = cannon_ammo_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = cannon_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = cannon_ammo_4
						}
						NOT = {
							has_country_flag = cannon_ammo_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = cannon_ammo_4
					value = 1
				}
				swap_ideas = {
					remove_idea = cannon_ammo_3
					add_idea = cannon_ammo_4
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_cannon_ammo_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = cannon_ammo_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_5
			has_country_flag = cannon_ammo_4
			NOT = { has_country_flag = cannon_ammo_5 }
			NOT = { has_country_flag = cannon_ammo_5_rollout_fast }
		}
		
		available = {
			has_tech = cannon_ammo_5
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = cannon_ammo_5
				has_country_flag = cannon_ammo_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = cannon_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = cannon_ammo_5
						}
						NOT = {
							has_country_flag = cannon_ammo_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = cannon_ammo_5
					value = 1
				}
				swap_ideas = {
					remove_idea = cannon_ammo_4
					add_idea = cannon_ammo_5
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_cannon_ammo_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_1
			NOT = { has_country_flag = cannon_ammo_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_1
		}
		
		remove_trigger = {
			has_country_flag = cannon_ammo_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = cannon_ammo_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = cannon_ammo_1
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_1
					}
				}
				set_country_flag = {
					flag = cannon_ammo_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_1_rollout_fast
				}
				clr_country_flag = {
					flag = cannon_ammo_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_cannon_ammo_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_2
			has_country_flag = cannon_ammo_1
			NOT = { has_country_flag = cannon_ammo_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_2
		}
		
		remove_trigger = {
			has_country_flag = cannon_ammo_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = cannon_ammo_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = cannon_ammo_1
				add_idea = cannon_ammo_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_2
					}
				}
				set_country_flag = {
					flag = cannon_ammo_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_2_rollout_fast
				}
				clr_country_flag = {
					flag = cannon_ammo_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_cannon_ammo_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_3
			has_country_flag = cannon_ammo_2
			NOT = { has_country_flag = cannon_ammo_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_3
		}
		
		remove_trigger = {
			has_country_flag = cannon_ammo_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = cannon_ammo_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = cannon_ammo_2
				add_idea = cannon_ammo_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_3
					}
				}
				set_country_flag = {
					flag = cannon_ammo_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_3_rollout_fast
				}
				clr_country_flag = {
					flag = cannon_ammo_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_cannon_ammo_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_4
			has_country_flag = cannon_ammo_3
			NOT = { has_country_flag = cannon_ammo_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_4
		}
		
		remove_trigger = {
			has_country_flag = cannon_ammo_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = cannon_ammo_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = cannon_ammo_3
				add_idea = cannon_ammo_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_4
					}
				}
				set_country_flag = {
					flag = cannon_ammo_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_4_rollout_fast
				}
				clr_country_flag = {
					flag = cannon_ammo_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_cannon_ammo_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = cannon_ammo_5
			has_country_flag = cannon_ammo_4
			NOT = { has_country_flag = cannon_ammo_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = cannon_ammo_5
		}
		
		remove_trigger = {
			has_country_flag = cannon_ammo_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = cannon_ammo_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = cannon_ammo_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = cannon_ammo_4
				add_idea = cannon_ammo_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = cannon_ammo_5
					}
				}
				set_country_flag = {
					flag = cannon_ammo_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = cannon_ammo_5_rollout_fast
				}
				clr_country_flag = {
					flag = cannon_ammo_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
###### ART AMMO

##### SLOW

	
	adopt_art_ammo_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = art_ammo_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_1
			NOT = { has_country_flag = art_ammo_1 }
			NOT = { has_country_flag = art_ammo_1_rollout_fast }
		}
		
		available = {
			has_tech = art_ammo_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = art_ammo_1
				has_country_flag = art_ammo_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = art_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = art_ammo_1
						}
						NOT = {
							has_country_flag = art_ammo_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = art_ammo_1
					value = 1
				}
				add_ideas = art_ammo_1
			}
			if = {
				limit = {
					has_country_flag = art_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_art_ammo_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = art_ammo_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_2
			has_country_flag = art_ammo_1
			NOT = { has_country_flag = art_ammo_2 } 
			NOT = { has_country_flag = art_ammo_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = art_ammo_2
				has_country_flag = art_ammo_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = art_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = art_ammo_2
						}
						NOT = {
							has_country_flag = art_ammo_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = art_ammo_2
					value = 1
				}
				swap_ideas = {
					remove_idea = art_ammo_1
					add_idea = art_ammo_2
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_art_ammo_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = art_ammo_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_3
			has_country_flag = art_ammo_2
			NOT = { has_country_flag = art_ammo_3 }
			NOT = { has_country_flag = art_ammo_3_rollout_fast }
		}
		
		available = {
			has_tech = art_ammo_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = art_ammo_3
				has_country_flag = art_ammo_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = art_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = art_ammo_3
						}
						NOT = {
							has_country_flag = art_ammo_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = art_ammo_3
					value = 1
				}
				swap_ideas = {
					remove_idea = art_ammo_2
					add_idea = art_ammo_3
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_art_ammo_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = art_ammo_4
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_4
			has_country_flag = art_ammo_3
			NOT = { has_country_flag = art_ammo_4 }
			NOT = { has_country_flag = art_ammo_4_rollout_fast }
		}
		
		available = {
			has_tech = art_ammo_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = art_ammo_4
				has_country_flag = art_ammo_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = art_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = art_ammo_4
						}
						NOT = {
							has_country_flag = art_ammo_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = art_ammo_4
					value = 1
				}
				swap_ideas = {
					remove_idea = art_ammo_3
					add_idea = art_ammo_4
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_art_ammo_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = art_ammo_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_5
			has_country_flag = art_ammo_4
			NOT = { has_country_flag = art_ammo_5 }
			NOT = { has_country_flag = art_ammo_5_rollout_fast }
		}
		
		available = {
			has_tech = art_ammo_5
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = art_ammo_5
				has_country_flag = art_ammo_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = art_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = art_ammo_5
						}
						NOT = {
							has_country_flag = art_ammo_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = art_ammo_5
					value = 1
				}
				swap_ideas = {
					remove_idea = art_ammo_4
					add_idea = art_ammo_5
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_art_ammo_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_1
			NOT = { has_country_flag = art_ammo_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_1
		}
		
		remove_trigger = {
			has_country_flag = art_ammo_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = art_ammo_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_1_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = art_ammo_1
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_1
					}
				}
				set_country_flag = {
					flag = art_ammo_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_1_rollout_fast
				}
				clr_country_flag = {
					flag = art_ammo_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_art_ammo_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_2
			has_country_flag = art_ammo_1
			NOT = { has_country_flag = art_ammo_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_2
		}
		
		remove_trigger = {
			has_country_flag = art_ammo_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = art_ammo_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_2_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = art_ammo_1
				add_idea = art_ammo_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_2
					}
				}
				set_country_flag = {
					flag = art_ammo_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_2_rollout_fast
				}
				clr_country_flag = {
					flag = art_ammo_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_art_ammo_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_3
			has_country_flag = art_ammo_2
			NOT = { has_country_flag = art_ammo_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_3
		}
		
		remove_trigger = {
			has_country_flag = art_ammo_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = art_ammo_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_3_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = art_ammo_2
				add_idea = art_ammo_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_3
					}
				}
				set_country_flag = {
					flag = art_ammo_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_3_rollout_fast
				}
				clr_country_flag = {
					flag = art_ammo_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_art_ammo_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_4
			has_country_flag = art_ammo_3
			NOT = { has_country_flag = art_ammo_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_4
		}
		
		remove_trigger = {
			has_country_flag = art_ammo_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = art_ammo_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_4_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = art_ammo_3
				add_idea = art_ammo_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_4
					}
				}
				set_country_flag = {
					flag = art_ammo_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_4_rollout_fast
				}
				clr_country_flag = {
					flag = art_ammo_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_art_ammo_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = art_ammo_5
			has_country_flag = art_ammo_4
			NOT = { has_country_flag = art_ammo_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = art_ammo_5
		}
		
		remove_trigger = {
			has_country_flag = art_ammo_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = art_ammo_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_5_rollout_slow
				}
				clr_country_flag = {
					flag = art_ammo_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = art_ammo_4
				add_idea = art_ammo_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = art_ammo_5
					}
				}
				set_country_flag = {
					flag = art_ammo_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = art_ammo_5_rollout_fast
				}
				clr_country_flag = {
					flag = art_ammo_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
###### PT Gear

##### SLOW

	
	adopt_pt_gear_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = protection_equip_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_1
			NOT = { has_country_flag = pt_gear_1 }
			NOT = { has_country_flag = pt_gear_1_rollout_fast }
		}
		
		available = {
			has_tech = protection_equip_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = pt_gear_1
				has_country_flag = pt_gear_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = pt_gear_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = pt_gear_1
						}
						NOT = {
							has_country_flag = pt_gear_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = pt_gear_1
					value = 1
				}
				add_ideas = pt_gear_1
			}
			if = {
				limit = {
					has_country_flag = pt_gear_1_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_pt_gear_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = protection_equip_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_2
			has_country_flag = pt_gear_1
			NOT = { has_country_flag = pt_gear_2 } 
			NOT = { has_country_flag = pt_gear_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = pt_gear_2
				has_country_flag = pt_gear_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = pt_gear_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = pt_gear_2
						}
						NOT = {
							has_country_flag = pt_gear_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = pt_gear_2
					value = 1
				}
				swap_ideas = {
					remove_idea = pt_gear_1
					add_idea = pt_gear_2
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_2_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_pt_gear_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = protection_equip_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_3
			has_country_flag = pt_gear_2
			NOT = { has_country_flag = pt_gear_3 }
			NOT = { has_country_flag = pt_gear_3_rollout_fast }
		}
		
		available = {
			has_tech = protection_equip_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = pt_gear_3
				has_country_flag = pt_gear_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = pt_gear_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = pt_gear_3
						}
						NOT = {
							has_country_flag = pt_gear_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = pt_gear_3
					value = 1
				}
				swap_ideas = {
					remove_idea = pt_gear_2
					add_idea = pt_gear_3
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_3_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_pt_gear_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = protection_equip_4
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_4
			has_country_flag = pt_gear_3
			NOT = { has_country_flag = pt_gear_4 }
			NOT = { has_country_flag = pt_gear_4_rollout_fast }
		}
		
		available = {
			has_tech = protection_equip_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = pt_gear_4
				has_country_flag = pt_gear_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = pt_gear_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = pt_gear_4
						}
						NOT = {
							has_country_flag = pt_gear_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = pt_gear_4
					value = 1
				}
				swap_ideas = {
					remove_idea = pt_gear_3
					add_idea = pt_gear_4
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_4_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_pt_gear_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = protection_equip_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_5
			has_country_flag = pt_gear_4
			NOT = { has_country_flag = pt_gear_5 }
			NOT = { has_country_flag = pt_gear_5_rollout_fast }
		}
		
		available = {
			has_tech = protection_equip_5
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = pt_gear_5
				has_country_flag = pt_gear_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = pt_gear_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = pt_gear_5
						}
						NOT = {
							has_country_flag = pt_gear_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = pt_gear_5
					value = 1
				}
				swap_ideas = {
					remove_idea = pt_gear_4
					add_idea = pt_gear_5
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_5_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_pt_gear_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_1
			NOT = { has_country_flag = pt_gear_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_1
		}
		
		remove_trigger = {
			has_country_flag = pt_gear_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = pt_gear_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_1_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = pt_gear_1
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_1
					}
				}
				set_country_flag = {
					flag = pt_gear_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_1_rollout_fast
				}
				clr_country_flag = {
					flag = pt_gear_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_pt_gear_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_2
			has_country_flag = pt_gear_1
			NOT = { has_country_flag = pt_gear_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_2
		}
		
		remove_trigger = {
			has_country_flag = pt_gear_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = pt_gear_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_2_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = pt_gear_1
				add_idea = pt_gear_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_2
					}
				}
				set_country_flag = {
					flag = pt_gear_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_2_rollout_fast
				}
				clr_country_flag = {
					flag = pt_gear_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_pt_gear_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_3
			has_country_flag = pt_gear_2
			NOT = { has_country_flag = pt_gear_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_3
		}
		
		remove_trigger = {
			has_country_flag = pt_gear_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = pt_gear_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_3_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = pt_gear_2
				add_idea = pt_gear_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_3
					}
				}
				set_country_flag = {
					flag = pt_gear_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_3_rollout_fast
				}
				clr_country_flag = {
					flag = pt_gear_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_pt_gear_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_4
			has_country_flag = pt_gear_3
			NOT = { has_country_flag = pt_gear_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_4
		}
		
		remove_trigger = {
			has_country_flag = pt_gear_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = pt_gear_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_4_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = pt_gear_3
				add_idea = pt_gear_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_4
					}
				}
				set_country_flag = {
					flag = pt_gear_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_4_rollout_fast
				}
				clr_country_flag = {
					flag = pt_gear_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_pt_gear_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = protection_equip_5
			has_country_flag = pt_gear_4
			NOT = { has_country_flag = pt_gear_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = protection_equip_5
		}
		
		remove_trigger = {
			has_country_flag = pt_gear_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = pt_gear_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_5_rollout_slow
				}
				clr_country_flag = {
					flag = pt_gear_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = pt_gear_4
				add_idea = pt_gear_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = pt_gear_5
					}
				}
				set_country_flag = {
					flag = pt_gear_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = pt_gear_5_rollout_fast
				}
				clr_country_flag = {
					flag = pt_gear_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
###### MANPAT

##### SLOW

	
	adopt_manpat_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpats_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_1
			NOT = { has_country_flag = manpat_1 }
			NOT = { has_country_flag = manpat_1_rollout_fast }
		}
		
		available = {
			has_tech = manpats_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpat_1
				has_country_flag = manpat_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpat_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpat_1
						}
						NOT = {
							has_country_flag = manpat_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpat_1
					value = 1
				}
				add_ideas = manpat_1
			}
			if = {
				limit = {
					has_country_flag = manpat_1_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpat_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpats_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_2
			has_country_flag = manpat_1
			NOT = { has_country_flag = manpat_2 } 
			NOT = { has_country_flag = manpat_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpat_2
				has_country_flag = manpat_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpat_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpat_2
						}
						NOT = {
							has_country_flag = manpat_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpat_2
					value = 1
				}
				swap_ideas = {
					remove_idea = manpat_1
					add_idea = manpat_2
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_2_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpat_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpats_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_3
			has_country_flag = manpat_2
			NOT = { has_country_flag = manpat_3 }
			NOT = { has_country_flag = manpat_3_rollout_fast }
		}
		
		available = {
			has_tech = manpats_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpat_3
				has_country_flag = manpat_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpat_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpat_3
						}
						NOT = {
							has_country_flag = manpat_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpat_3
					value = 1
				}
				swap_ideas = {
					remove_idea = manpat_2
					add_idea = manpat_3
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_3_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpat_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpats_4
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_4
			has_country_flag = manpat_3
			NOT = { has_country_flag = manpat_4 }
			NOT = { has_country_flag = manpat_4_rollout_fast }
		}
		
		available = {
			has_tech = manpats_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpat_4
				has_country_flag = manpat_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpat_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpat_4
						}
						NOT = {
							has_country_flag = manpat_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpat_4
					value = 1
				}
				swap_ideas = {
					remove_idea = manpat_3
					add_idea = manpat_4
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_4_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_manpat_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpats_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_5
			has_country_flag = manpat_4
			NOT = { has_country_flag = manpat_5 }
			NOT = { has_country_flag = manpat_5_rollout_fast }
		}
		
		available = {
			has_tech = manpats_5
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpat_5
				has_country_flag = manpat_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpat_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpat_5
						}
						NOT = {
							has_country_flag = manpat_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpat_5
					value = 1
				}
				swap_ideas = {
					remove_idea = manpat_4
					add_idea = manpat_5
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_5_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_manpat_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_1
			NOT = { has_country_flag = manpat_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_1
		}
		
		remove_trigger = {
			has_country_flag = manpat_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpat_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_1_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = manpat_1
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_1
					}
				}
				set_country_flag = {
					flag = manpat_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_1_rollout_fast
				}
				clr_country_flag = {
					flag = manpat_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_manpat_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_2
			has_country_flag = manpat_1
			NOT = { has_country_flag = manpat_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_2
		}
		
		remove_trigger = {
			has_country_flag = manpat_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpat_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_2_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpat_1
				add_idea = manpat_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_2
					}
				}
				set_country_flag = {
					flag = manpat_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_2_rollout_fast
				}
				clr_country_flag = {
					flag = manpat_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_manpat_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_3
			has_country_flag = manpat_2
			NOT = { has_country_flag = manpat_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_3
		}
		
		remove_trigger = {
			has_country_flag = manpat_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpat_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_3_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpat_2
				add_idea = manpat_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_3
					}
				}
				set_country_flag = {
					flag = manpat_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_3_rollout_fast
				}
				clr_country_flag = {
					flag = manpat_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_manpat_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_4
			has_country_flag = manpat_3
			NOT = { has_country_flag = manpat_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_4
		}
		
		remove_trigger = {
			has_country_flag = manpat_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpat_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_4_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpat_3
				add_idea = manpat_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_4
					}
				}
				set_country_flag = {
					flag = manpat_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_4_rollout_fast
				}
				clr_country_flag = {
					flag = manpat_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_manpat_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpats_5
			has_country_flag = manpat_4
			NOT = { has_country_flag = manpat_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpats_5
		}
		
		remove_trigger = {
			has_country_flag = manpat_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpat_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_5_rollout_slow
				}
				clr_country_flag = {
					flag = manpat_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpat_4
				add_idea = manpat_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpat_5
					}
				}
				set_country_flag = {
					flag = manpat_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpat_5_rollout_fast
				}
				clr_country_flag = {
					flag = manpat_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
###### Infantry AA weapons

##### SLOW

	
	adopt_manpad_I_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = hmg_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = hmg_1
			NOT = { has_country_flag = manpad_1 }
			NOT = { has_country_flag = manpad_1_rollout_fast }
		}
		
		available = {
			has_tech = hmg_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpad_1
				has_country_flag = manpad_1_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_1_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpad_1_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpad_1
						}
						NOT = {
							has_country_flag = manpad_1_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpad_1
					value = 1
				}
				add_ideas = manpad_1
			}
			if = {
				limit = {
					has_country_flag = manpad_1_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_1_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpad_II_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpads_1
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_1
			has_country_flag = manpad_1
			NOT = { has_country_flag = manpad_2 } 
			NOT = { has_country_flag = manpad_2_rollout_fast }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpads_1
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpad_2
				has_country_flag = manpad_2_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_2_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpad_2_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpad_2
						}
						NOT = {
							has_country_flag = manpad_2_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpad_2
					value = 1
				}
				swap_ideas = {
					remove_idea = manpad_1
					add_idea = manpad_2
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_2_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_2_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpad_III_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpads_2
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_2
			has_country_flag = manpad_2
			NOT = { has_country_flag = manpad_3 }
			NOT = { has_country_flag = manpad_3_rollout_fast }
		}
		
		available = {
			has_tech = manpads_2
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpad_3
				has_country_flag = manpad_3_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_3_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpad_3_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpad_3
						}
						NOT = {
							has_country_flag = manpad_3_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpad_3
					value = 1
				}
				swap_ideas = {
					remove_idea = manpad_2
					add_idea = manpad_3
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_3_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_3_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}

	adopt_manpad_IV_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpads_3
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_3
			has_country_flag = manpad_3
			NOT = { has_country_flag = manpad_4 }
			NOT = { has_country_flag = manpad_4_rollout_fast }
		}
		
		available = {
			has_tech = manpads_3
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpad_4
				has_country_flag = manpad_4_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_4_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpad_4_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpad_4
						}
						NOT = {
							has_country_flag = manpad_4_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpad_4
					value = 1
				}
				swap_ideas = {
					remove_idea = manpad_3
					add_idea = manpad_4
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_4_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_4_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
	adopt_manpad_V_slow = {

		activation = {
			has_country_flag = var_done
			has_tech = manpads_5
		}
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_4
			has_country_flag = manpad_4
			NOT = { has_country_flag = manpad_5 }
			NOT = { has_country_flag = manpad_5_rollout_fast }
		}
		
		available = {
			has_tech = manpads_4
		}
		
		remove_trigger = {
			OR = {
				has_country_flag = manpad_5
				has_country_flag = manpad_5_rollout_fast
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_5_rollout_slow
					}
				}
				set_country_flag = {
					flag = manpad_5_rollout_slow
					value = 1
				}
			}
		}
		
		days_remove = size_arm
		
		remove_effect = {
			if = {
				limit = {
					AND = {
						NOT = {
							has_country_flag = manpad_5
						}
						NOT = {
							has_country_flag = manpad_5_rollout_fast
						}
					}
				}
				set_country_flag = {
					flag = manpad_5
					value = 1
				}
				swap_ideas = {
					remove_idea = manpad_4
					add_idea = manpad_5
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_5_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_5_rollout_slow
					value = 1
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 2
		}
		
	}
	
#### FAST

	adopt_manpad_I_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = hmg_1
			NOT = { has_country_flag = manpad_1 } 
		}
		
		available = {
			has_country_flag = var_done
			has_tech = hmg_1
		}
		
		remove_trigger = {
			has_country_flag = manpad_1
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_1_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpad_1_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_1_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_1_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			add_ideas = manpad_1
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_1
					}
				}
				set_country_flag = {
					flag = manpad_1
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_1_rollout_fast
				}
				clr_country_flag = {
					flag = manpad_1_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
		
	}

	adopt_manpad_II_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_1
			has_country_flag = manpad_1
			NOT = { has_country_flag = manpad_2 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpads_1
		}
		
		remove_trigger = {
			has_country_flag = manpad_2
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_2_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpad_2_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_2_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_2_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpad_1
				add_idea = manpad_2
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_2
					}
				}
				set_country_flag = {
					flag = manpad_2
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_2_rollout_fast
				}
				clr_country_flag = {
					flag = manpad_2_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}

	adopt_manpad_III_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_2
			has_country_flag = manpad_2
			NOT = { has_country_flag = manpad_3 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpads_2
		}
		
		remove_trigger = {
			has_country_flag = manpad_3
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_3_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpad_3_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_3_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_3_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpad_2
				add_idea = manpad_3
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_3
					}
				}
				set_country_flag = {
					flag = manpad_3
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_3_rollout_fast
				}
				clr_country_flag = {
					flag = manpad_3_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_manpad_IV_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_3
			has_country_flag = manpad_3
			NOT = { has_country_flag = manpad_4 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpads_3
		}
		
		remove_trigger = {
			has_country_flag = manpad_4
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_4_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpad_4_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_4_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_4_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpad_3
				add_idea = manpad_4
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_4
					}
				}
				set_country_flag = {
					flag = manpad_4
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_4_rollout_fast
				}
				clr_country_flag = {
					flag = manpad_4_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
	
	adopt_manpad_V_fast = {
		
		visible = {
			has_country_flag = var_done
			has_tech = manpads_4
			has_country_flag = manpad_4
			NOT = { has_country_flag = manpad_5 }
		}
		
		available = {
			has_country_flag = var_done
			has_tech = manpads_4
		}
		
		remove_trigger = {
			has_country_flag = manpad_5
		}
		
		complete_effect = {
			add_command_power = command_cost
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_5_rollout_fast
					}
				}
				set_country_flag = {
					flag = manpad_5_rollout_fast
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_5_rollout_slow
				}
				clr_country_flag = {
					flag = manpad_5_rollout_slow
					value = 1
				}
			}
		}

		custom_cost_trigger = {
			command_power>command_cost_p
		}

		custom_cost_text = AM_CP
		
		days_remove = size_arm_f
		
		remove_effect = { 
			swap_ideas = {
				remove_idea = manpad_4
				add_idea = manpad_5
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = manpad_5
					}
				}
				set_country_flag = {
					flag = manpad_5
					value = 1
				}
			}
			if = {
				limit = {
					has_country_flag = manpad_5_rollout_fast
				}
				clr_country_flag = {
					flag = manpad_5_rollout_fast
					value = 1
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				has_war = yes
			}
		}
		
		ai_will_do = {
			base = 1
		}
	}
}