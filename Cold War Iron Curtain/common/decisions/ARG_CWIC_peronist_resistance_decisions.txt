###ARG Peronist Resistance

ARG_peronist_decisions_category = {
	ARG_the_peronist_increase_the_resistance_mission = {
		icon = GFX_decision_arg_increase_peronist_resistance_mission

		days_mission_timeout = 70

		activation = { 
			has_country_flag = ARG_CWIC_peronist_resistance_flag 
			NOT = { has_country_flag = ARG_CWIC_setup_conintes_flag }
		}
		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = trigger_no_has_setup_conintes_plan_tt
	
					hidden_trigger = {
						has_country_flag = ARG_CWIC_setup_conintes_flag				
					}
				}
				custom_trigger_tooltip = {
					tooltip = trigger_no_has_idea_peronist_resistance_tt
	
					hidden_trigger = {
						NOT = { 
							has_idea = ARG_CWIC_peronist_resistence_idea_1
							has_idea = ARG_CWIC_peronist_resistence_idea_2
							has_idea = ARG_CWIC_peronist_resistence_idea_3
							has_idea = ARG_CWIC_peronist_resistence_idea_4
							has_idea = ARG_CWIC_peronist_resistence_idea_5
							has_idea = ARG_CWIC_peronist_resistence_idea_6
							has_idea = ARG_CWIC_peronist_resistence_idea_7
							has_idea = ARG_CWIC_peronist_resistence_idea_8
							has_idea = ARG_CWIC_peronist_resistence_idea_9
							has_idea = ARG_CWIC_peronist_resistence_idea_10
						}				
					}
				}
			}					
		}

		is_good = no

		selectable_mission = no

		#ignora esto, si no lo ves no es feo
		timeout_effect = { 
			if = {
				limit = {
					has_idea = ARG_CWIC_peronist_resistence_idea_1
				}
				swap_ideas = {
					remove_idea = ARG_CWIC_peronist_resistence_idea_1
					add_idea = ARG_CWIC_peronist_resistence_idea_2
				}
				else = {
					if = {
						limit = {
							has_idea = ARG_CWIC_peronist_resistence_idea_2
						}
						swap_ideas = {
							remove_idea = ARG_CWIC_peronist_resistence_idea_2
							add_idea = ARG_CWIC_peronist_resistence_idea_3
						}
						else = {
							if = {
								limit = {
									has_idea = ARG_CWIC_peronist_resistence_idea_3
								}
								swap_ideas = {
									remove_idea = ARG_CWIC_peronist_resistence_idea_3
									add_idea = ARG_CWIC_peronist_resistence_idea_4
								}
								else = {
									if = {
										limit = {
											has_idea = ARG_CWIC_peronist_resistence_idea_4
										}
										swap_ideas = {
											remove_idea = ARG_CWIC_peronist_resistence_idea_4
											add_idea = ARG_CWIC_peronist_resistence_idea_5
										}
										else = {
											if = {
												limit = {
													has_idea = ARG_CWIC_peronist_resistence_idea_5
												}
												swap_ideas = {
													remove_idea = ARG_CWIC_peronist_resistence_idea_5
													add_idea = ARG_CWIC_peronist_resistence_idea_6
												}
												else = {
													if = {
														limit = {
															has_idea = ARG_CWIC_peronist_resistence_idea_6
														}
														swap_ideas = {
															remove_idea = ARG_CWIC_peronist_resistence_idea_6
															add_idea = ARG_CWIC_peronist_resistence_idea_7
														}
														else = {
															if = {
																limit = {
																	has_idea = ARG_CWIC_peronist_resistence_idea_7
																}
																swap_ideas = {
																	remove_idea = ARG_CWIC_peronist_resistence_idea_7
																	add_idea = ARG_CWIC_peronist_resistence_idea_8
																}
																else = {
																	if = {
																		limit = {
																			has_idea = ARG_CWIC_peronist_resistence_idea_8
																		}
																		swap_ideas = {
																			remove_idea = ARG_CWIC_peronist_resistence_idea_8
																			add_idea = ARG_CWIC_peronist_resistence_idea_9
																		}
																		else = {
																			if = {
																				limit = {
																					has_idea = ARG_CWIC_peronist_resistence_idea_9
																				}
																				swap_ideas = {
																					remove_idea = ARG_CWIC_peronist_resistence_idea_9
																					add_idea = ARG_CWIC_peronist_resistence_idea_10
																				}
																				clr_country_flag = ARG_CWIC_peronist_resistance_flag
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}			
		}

		complete_effect = { #	
			add_to_variable = { var = var_ARG_peronist_resistance value = 1 }
		}
	}

	ARG_conintes_plan_mission = {
		icon = GFX_decision_arg_conintes_plan_mission

		days_mission_timeout = 70

		activation = { 
			has_country_flag = ARG_CWIC_setup_conintes_flag 
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = trigger_no_has_idea_peronist_resistance_tt
				NOT = { has_country_flag = ARG_CWIC_peronist_resistance_flag }
				NOT = {
					OR = {
						has_idea = ARG_CWIC_peronist_resistence_idea_1
						has_idea = ARG_CWIC_peronist_resistence_idea_2
						has_idea = ARG_CWIC_peronist_resistence_idea_3
						has_idea = ARG_CWIC_peronist_resistence_idea_4
						has_idea = ARG_CWIC_peronist_resistence_idea_5
						has_idea = ARG_CWIC_peronist_resistence_idea_6
						has_idea = ARG_CWIC_peronist_resistence_idea_7
						has_idea = ARG_CWIC_peronist_resistence_idea_8
						has_idea = ARG_CWIC_peronist_resistence_idea_9
						has_idea = ARG_CWIC_peronist_resistence_idea_10
					}
				}				
			}			
		}

		is_good = yes

		selectable_mission = no

		#ignora esto, si no lo ves no es feo
		timeout_effect = { 
			if = {
				limit = {
					has_idea = ARG_CWIC_peronist_resistence_idea_10
				}
				swap_ideas = {
					remove_idea = ARG_CWIC_peronist_resistence_idea_10
					add_idea = ARG_CWIC_peronist_resistence_idea_9
				}
				else = {
					if = {
						limit = {
							has_idea = ARG_CWIC_peronist_resistence_idea_9
						}
						swap_ideas = {
							remove_idea = ARG_CWIC_peronist_resistence_idea_9
							add_idea = ARG_CWIC_peronist_resistence_idea_8
						}
						else = {
							if = {
								limit = {
									has_idea = ARG_CWIC_peronist_resistence_idea_8
								}
								swap_ideas = {
									remove_idea = ARG_CWIC_peronist_resistence_idea_8
									add_idea = ARG_CWIC_peronist_resistence_idea_7
								}
								else = {
									if = {
										limit = {
											has_idea = ARG_CWIC_peronist_resistence_idea_7
										}
										swap_ideas = {
											remove_idea = ARG_CWIC_peronist_resistence_idea_7
											add_idea = ARG_CWIC_peronist_resistence_idea_6
										}
										else = {
											if = {
												limit = {
													has_idea = ARG_CWIC_peronist_resistence_idea_6
												}
												swap_ideas = {
													remove_idea = ARG_CWIC_peronist_resistence_idea_6
													add_idea = ARG_CWIC_peronist_resistence_idea_5
												}
												else = {
													if = {
														limit = {
															has_idea = ARG_CWIC_peronist_resistence_idea_5
														}
														swap_ideas = {
															remove_idea = ARG_CWIC_peronist_resistence_idea_5
															add_idea = ARG_CWIC_peronist_resistence_idea_4
														}
														else = {
															if = {
																limit = {
																	has_idea = ARG_CWIC_peronist_resistence_idea_4
																}
																swap_ideas = {
																	remove_idea = ARG_CWIC_peronist_resistence_idea_4
																	add_idea = ARG_CWIC_peronist_resistence_idea_3
																}
																else = {
																	if = {
																		limit = {
																			has_idea = ARG_CWIC_peronist_resistence_idea_3
																		}
																		swap_ideas = {
																			remove_idea = ARG_CWIC_peronist_resistence_idea_3
																			add_idea = ARG_CWIC_peronist_resistence_idea_2
																		}
																		else = {
																			if = {
																				limit = {
																					has_idea = ARG_CWIC_peronist_resistence_idea_2
																				}
																				swap_ideas = {
																					remove_idea = ARG_CWIC_peronist_resistence_idea_2
																					add_idea = ARG_CWIC_peronist_resistence_idea_1
																				}
																				else = {
																					if = {
																						limit = {
																							has_idea = ARG_CWIC_peronist_resistence_idea_1
																						}
																						remove_ideas = ARG_CWIC_peronist_resistence_idea_1

																						clr_country_flag = ARG_CWIC_peronist_resistance_flag
																						clr_country_flag = ARG_CWIC_setup_conintes_flag
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}			
		}

		complete_effect = { #	
		}
	}
	
	ARG_suppress_peronist_strikes_decision = {
		icon = GFX_decision_oppression
		allowed = { tag = ARG }

		available = { #
		}

		visible = {
			always = yes
		}

		fire_only_once = no

		custom_cost_trigger = {
			has_political_power > 34
			has_equipment = {
				infantry_equipment > 99
			}
		}
		custom_cost_text = ARG_decision_cost_infantry_equipment_100_pp_35

		complete_effect = { #
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -100
				}
			}
			add_days_remove = {
				decision = ARG_the_peronist_increase_the_resistance_mission
				days = 35
			}

		}
	}

	ARG_declare_the_marcial_law_decision = {
		icon = GFX_decision_oppression
		allowed = { tag = ARG }

		available = { #
		}

		visible = {
			always = yes
		}

		cost = 120

		fire_only_once = no

		days_re_enable = 0

		days_remove = 35

		modifier = {
			stability_weekly = 0.005
			war_support_weekly = 0.005
			political_power_gain = 0.50
			fascism_drift = 0.05
		}

		complete_effect = { #
			add_days_remove = {
				decision = ARG_the_peronist_increase_the_resistance_mission
				days = 14
			}
		}
	}
}